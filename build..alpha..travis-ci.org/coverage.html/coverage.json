{"/home/travis/build/npmtest/node-npmtest-grunt-ts/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_grunt_ts */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/lib.npmtest_grunt_ts.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/lib.npmtest_grunt_ts.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":53}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":59}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_grunt_ts */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_grunt_ts = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_grunt_ts = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":52}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":66},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-grunt-ts && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_grunt_ts */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_grunt_ts","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_grunt_ts.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_grunt_ts.rollup.js'] =","            local.assetsDict['/assets.npmtest_grunt_ts.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_grunt_ts.__dirname + '/lib.npmtest_grunt_ts.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/ts.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/ts.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":1,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":1,"209":0,"210":0,"211":0,"212":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0,0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"fnMap":{"1":{"name":"pluginFn","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":25}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":62},"end":{"line":26,"column":74}}},"3":{"name":"(anonymous_3)","line":38,"loc":{"start":{"line":38,"column":161},"end":{"line":38,"column":179}}},"4":{"name":"(anonymous_4)","line":40,"loc":{"start":{"line":40,"column":41},"end":{"line":40,"column":60}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":39},"end":{"line":43,"column":56}}},"6":{"name":"(anonymous_6)","line":54,"loc":{"start":{"line":54,"column":21},"end":{"line":54,"column":38}}},"7":{"name":"proceed","line":59,"loc":{"start":{"line":59,"column":8},"end":{"line":59,"column":27}}},"8":{"name":"(anonymous_8)","line":62,"loc":{"start":{"line":62,"column":50},"end":{"line":62,"column":74}}},"9":{"name":"isReferenceFile","line":71,"loc":{"start":{"line":71,"column":16},"end":{"line":71,"column":51}}},"10":{"name":"isOutFile","line":81,"loc":{"start":{"line":81,"column":16},"end":{"line":81,"column":45}}},"11":{"name":"isBaseDirFile","line":85,"loc":{"start":{"line":85,"column":16},"end":{"line":85,"column":62}}},"12":{"name":"runCompilation","line":104,"loc":{"start":{"line":104,"column":16},"end":{"line":104,"column":66}}},"13":{"name":"(anonymous_13)","line":111,"loc":{"start":{"line":111,"column":30},"end":{"line":111,"column":48}}},"14":{"name":"(anonymous_14)","line":139,"loc":{"start":{"line":139,"column":86},"end":{"line":139,"column":112}}},"15":{"name":"(anonymous_15)","line":214,"loc":{"start":{"line":214,"column":29},"end":{"line":214,"column":44}}},"16":{"name":"filterFilesTransformAndCompile","line":224,"loc":{"start":{"line":224,"column":16},"end":{"line":224,"column":58}}},"17":{"name":"(anonymous_17)","line":227,"loc":{"start":{"line":227,"column":48},"end":{"line":227,"column":64}}},"18":{"name":"(anonymous_18)","line":232,"loc":{"start":{"line":232,"column":68},"end":{"line":232,"column":84}}},"19":{"name":"(anonymous_19)","line":242,"loc":{"start":{"line":242,"column":59},"end":{"line":242,"column":75}}},"20":{"name":"(anonymous_20)","line":260,"loc":{"start":{"line":260,"column":58},"end":{"line":260,"column":78}}},"21":{"name":"(anonymous_21)","line":261,"loc":{"start":{"line":261,"column":47},"end":{"line":261,"column":67}}},"22":{"name":"(anonymous_22)","line":286,"loc":{"start":{"line":286,"column":44},"end":{"line":286,"column":56}}},"23":{"name":"(anonymous_23)","line":287,"loc":{"start":{"line":287,"column":93},"end":{"line":287,"column":106}}},"24":{"name":"(anonymous_24)","line":305,"loc":{"start":{"line":305,"column":78},"end":{"line":305,"column":97}}},"25":{"name":"(anonymous_25)","line":332,"loc":{"start":{"line":332,"column":35},"end":{"line":332,"column":51}}},"26":{"name":"(anonymous_26)","line":337,"loc":{"start":{"line":337,"column":38},"end":{"line":337,"column":54}}},"27":{"name":"(anonymous_27)","line":342,"loc":{"start":{"line":342,"column":38},"end":{"line":342,"column":54}}},"28":{"name":"(anonymous_28)","line":347,"loc":{"start":{"line":347,"column":37},"end":{"line":347,"column":54}}},"29":{"name":"handleFileEvent","line":356,"loc":{"start":{"line":356,"column":16},"end":{"line":356,"column":79}}},"30":{"name":"(anonymous_30)","line":373,"loc":{"start":{"line":373,"column":20},"end":{"line":373,"column":35}}},"31":{"name":"(anonymous_31)","line":376,"loc":{"start":{"line":376,"column":33},"end":{"line":376,"column":52}}},"32":{"name":"processIndividualTemplate","line":391,"loc":{"start":{"line":391,"column":4},"end":{"line":391,"column":49}}}},"statementMap":{"1":{"start":{"line":8,"column":0},"end":{"line":8,"column":26}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":27}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":23}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":43}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":39}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":49}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":53}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":53}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":49}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":61}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":53}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":66}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":59}},"14":{"start":{"line":21,"column":0},"end":{"line":21,"column":36}},"15":{"start":{"line":22,"column":0},"end":{"line":397,"column":1}},"16":{"start":{"line":26,"column":4},"end":{"line":390,"column":7}},"17":{"start":{"line":28,"column":8},"end":{"line":28,"column":38}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":26}},"19":{"start":{"line":31,"column":12},"end":{"line":31,"column":40}},"20":{"start":{"line":32,"column":12},"end":{"line":32,"column":55}},"21":{"start":{"line":34,"column":12},"end":{"line":34,"column":44}},"22":{"start":{"line":36,"column":12},"end":{"line":36,"column":83}},"23":{"start":{"line":37,"column":12},"end":{"line":37,"column":117}},"24":{"start":{"line":38,"column":12},"end":{"line":57,"column":15}},"25":{"start":{"line":39,"column":16},"end":{"line":39,"column":33}},"26":{"start":{"line":40,"column":16},"end":{"line":42,"column":19}},"27":{"start":{"line":41,"column":20},"end":{"line":41,"column":55}},"28":{"start":{"line":43,"column":16},"end":{"line":45,"column":19}},"29":{"start":{"line":44,"column":20},"end":{"line":44,"column":49}},"30":{"start":{"line":46,"column":16},"end":{"line":52,"column":17}},"31":{"start":{"line":47,"column":20},"end":{"line":49,"column":21}},"32":{"start":{"line":48,"column":24},"end":{"line":48,"column":53}},"33":{"start":{"line":50,"column":20},"end":{"line":50,"column":32}},"34":{"start":{"line":51,"column":20},"end":{"line":51,"column":27}},"35":{"start":{"line":53,"column":16},"end":{"line":53,"column":26}},"36":{"start":{"line":55,"column":16},"end":{"line":55,"column":52}},"37":{"start":{"line":56,"column":16},"end":{"line":56,"column":28}},"38":{"start":{"line":59,"column":8},"end":{"line":389,"column":9}},"39":{"start":{"line":60,"column":12},"end":{"line":60,"column":58}},"40":{"start":{"line":62,"column":12},"end":{"line":388,"column":21}},"41":{"start":{"line":64,"column":16},"end":{"line":64,"column":77}},"42":{"start":{"line":65,"column":16},"end":{"line":65,"column":34}},"43":{"start":{"line":66,"column":16},"end":{"line":66,"column":34}},"44":{"start":{"line":67,"column":16},"end":{"line":70,"column":17}},"45":{"start":{"line":68,"column":20},"end":{"line":68,"column":60}},"46":{"start":{"line":69,"column":20},"end":{"line":69,"column":64}},"47":{"start":{"line":71,"column":16},"end":{"line":73,"column":17}},"48":{"start":{"line":72,"column":20},"end":{"line":72,"column":68}},"49":{"start":{"line":75,"column":16},"end":{"line":75,"column":47}},"50":{"start":{"line":76,"column":16},"end":{"line":76,"column":33}},"51":{"start":{"line":77,"column":16},"end":{"line":80,"column":17}},"52":{"start":{"line":78,"column":20},"end":{"line":78,"column":52}},"53":{"start":{"line":79,"column":20},"end":{"line":79,"column":67}},"54":{"start":{"line":81,"column":16},"end":{"line":83,"column":17}},"55":{"start":{"line":82,"column":20},"end":{"line":82,"column":67}},"56":{"start":{"line":85,"column":16},"end":{"line":93,"column":17}},"57":{"start":{"line":86,"column":20},"end":{"line":86,"column":52}},"58":{"start":{"line":87,"column":20},"end":{"line":87,"column":32}},"59":{"start":{"line":88,"column":20},"end":{"line":91,"column":21}},"60":{"start":{"line":89,"column":24},"end":{"line":89,"column":68}},"61":{"start":{"line":90,"column":24},"end":{"line":90,"column":45}},"62":{"start":{"line":92,"column":20},"end":{"line":92,"column":95}},"63":{"start":{"line":95,"column":16},"end":{"line":95,"column":50}},"64":{"start":{"line":96,"column":16},"end":{"line":96,"column":49}},"65":{"start":{"line":97,"column":16},"end":{"line":100,"column":17}},"66":{"start":{"line":98,"column":20},"end":{"line":98,"column":60}},"67":{"start":{"line":99,"column":20},"end":{"line":99,"column":64}},"68":{"start":{"line":104,"column":16},"end":{"line":221,"column":17}},"69":{"start":{"line":105,"column":20},"end":{"line":105,"column":61}},"70":{"start":{"line":107,"column":20},"end":{"line":107,"column":57}},"71":{"start":{"line":108,"column":20},"end":{"line":108,"column":32}},"72":{"start":{"line":110,"column":20},"end":{"line":220,"column":23}},"73":{"start":{"line":113,"column":24},"end":{"line":113,"column":55}},"74":{"start":{"line":114,"column":24},"end":{"line":114,"column":46}},"75":{"start":{"line":118,"column":24},"end":{"line":121,"column":25}},"76":{"start":{"line":119,"column":28},"end":{"line":119,"column":78}},"77":{"start":{"line":120,"column":28},"end":{"line":120,"column":41}},"78":{"start":{"line":122,"column":24},"end":{"line":125,"column":25}},"79":{"start":{"line":123,"column":28},"end":{"line":123,"column":119}},"80":{"start":{"line":124,"column":28},"end":{"line":124,"column":41}},"81":{"start":{"line":128,"column":24},"end":{"line":128,"column":58}},"82":{"start":{"line":137,"column":24},"end":{"line":137,"column":106}},"83":{"start":{"line":138,"column":24},"end":{"line":138,"column":51}},"84":{"start":{"line":139,"column":24},"end":{"line":156,"column":43}},"85":{"start":{"line":140,"column":28},"end":{"line":140,"column":59}},"86":{"start":{"line":141,"column":28},"end":{"line":143,"column":29}},"87":{"start":{"line":142,"column":32},"end":{"line":142,"column":54}},"88":{"start":{"line":144,"column":28},"end":{"line":154,"column":29}},"89":{"start":{"line":145,"column":32},"end":{"line":145,"column":54}},"90":{"start":{"line":146,"column":32},"end":{"line":146,"column":58}},"91":{"start":{"line":148,"column":33},"end":{"line":154,"column":29}},"92":{"start":{"line":149,"column":32},"end":{"line":149,"column":54}},"93":{"start":{"line":150,"column":32},"end":{"line":150,"column":58}},"94":{"start":{"line":152,"column":33},"end":{"line":154,"column":29}},"95":{"start":{"line":153,"column":32},"end":{"line":153,"column":67}},"96":{"start":{"line":155,"column":28},"end":{"line":155,"column":62}},"97":{"start":{"line":159,"column":24},"end":{"line":159,"column":69}},"98":{"start":{"line":160,"column":24},"end":{"line":164,"column":25}},"99":{"start":{"line":161,"column":28},"end":{"line":163,"column":79}},"100":{"start":{"line":166,"column":24},"end":{"line":191,"column":25}},"101":{"start":{"line":167,"column":28},"end":{"line":172,"column":29}},"102":{"start":{"line":168,"column":32},"end":{"line":168,"column":61}},"103":{"start":{"line":171,"column":32},"end":{"line":171,"column":63}},"104":{"start":{"line":173,"column":28},"end":{"line":176,"column":29}},"105":{"start":{"line":174,"column":32},"end":{"line":175,"column":80}},"106":{"start":{"line":177,"column":28},"end":{"line":180,"column":29}},"107":{"start":{"line":178,"column":32},"end":{"line":179,"column":80}},"108":{"start":{"line":181,"column":28},"end":{"line":185,"column":29}},"109":{"start":{"line":182,"column":32},"end":{"line":184,"column":93}},"110":{"start":{"line":186,"column":28},"end":{"line":186,"column":50}},"111":{"start":{"line":187,"column":28},"end":{"line":190,"column":29}},"112":{"start":{"line":188,"column":32},"end":{"line":188,"column":63}},"113":{"start":{"line":189,"column":32},"end":{"line":189,"column":71}},"114":{"start":{"line":194,"column":24},"end":{"line":195,"column":88}},"115":{"start":{"line":196,"column":24},"end":{"line":212,"column":25}},"116":{"start":{"line":198,"column":28},"end":{"line":198,"column":68}},"117":{"start":{"line":199,"column":28},"end":{"line":199,"column":50}},"118":{"start":{"line":200,"column":28},"end":{"line":200,"column":102}},"119":{"start":{"line":201,"column":28},"end":{"line":206,"column":29}},"120":{"start":{"line":202,"column":32},"end":{"line":202,"column":75}},"121":{"start":{"line":205,"column":32},"end":{"line":205,"column":93}},"122":{"start":{"line":207,"column":28},"end":{"line":207,"column":61}},"123":{"start":{"line":211,"column":28},"end":{"line":211,"column":95}},"124":{"start":{"line":213,"column":24},"end":{"line":213,"column":49}},"125":{"start":{"line":215,"column":24},"end":{"line":215,"column":65}},"126":{"start":{"line":216,"column":24},"end":{"line":218,"column":25}},"127":{"start":{"line":217,"column":28},"end":{"line":217,"column":57}},"128":{"start":{"line":219,"column":24},"end":{"line":219,"column":37}},"129":{"start":{"line":224,"column":16},"end":{"line":318,"column":17}},"130":{"start":{"line":225,"column":20},"end":{"line":225,"column":44}},"131":{"start":{"line":226,"column":20},"end":{"line":240,"column":21}},"132":{"start":{"line":227,"column":24},"end":{"line":231,"column":27}},"133":{"start":{"line":228,"column":28},"end":{"line":230,"column":29}},"134":{"start":{"line":229,"column":32},"end":{"line":229,"column":58}},"135":{"start":{"line":232,"column":24},"end":{"line":236,"column":27}},"136":{"start":{"line":233,"column":28},"end":{"line":235,"column":29}},"137":{"start":{"line":234,"column":32},"end":{"line":234,"column":58}},"138":{"start":{"line":239,"column":24},"end":{"line":239,"column":51}},"139":{"start":{"line":242,"column":20},"end":{"line":245,"column":23}},"140":{"start":{"line":243,"column":24},"end":{"line":243,"column":55}},"141":{"start":{"line":244,"column":24},"end":{"line":244,"column":112}},"142":{"start":{"line":249,"column":20},"end":{"line":249,"column":44}},"143":{"start":{"line":250,"column":20},"end":{"line":267,"column":21}},"144":{"start":{"line":251,"column":24},"end":{"line":258,"column":26}},"145":{"start":{"line":259,"column":24},"end":{"line":259,"column":72}},"146":{"start":{"line":260,"column":24},"end":{"line":260,"column":145}},"147":{"start":{"line":260,"column":80},"end":{"line":260,"column":141}},"148":{"start":{"line":261,"column":24},"end":{"line":266,"column":27}},"149":{"start":{"line":262,"column":28},"end":{"line":265,"column":29}},"150":{"start":{"line":264,"column":32},"end":{"line":264,"column":62}},"151":{"start":{"line":271,"column":20},"end":{"line":281,"column":21}},"152":{"start":{"line":272,"column":24},"end":{"line":280,"column":25}},"153":{"start":{"line":273,"column":28},"end":{"line":273,"column":138}},"154":{"start":{"line":276,"column":28},"end":{"line":276,"column":96}},"155":{"start":{"line":277,"column":28},"end":{"line":277,"column":93}},"156":{"start":{"line":278,"column":28},"end":{"line":278,"column":100}},"157":{"start":{"line":279,"column":28},"end":{"line":279,"column":162}},"158":{"start":{"line":285,"column":20},"end":{"line":292,"column":21}},"159":{"start":{"line":286,"column":24},"end":{"line":288,"column":27}},"160":{"start":{"line":287,"column":28},"end":{"line":287,"column":218}},"161":{"start":{"line":287,"column":108},"end":{"line":287,"column":135}},"162":{"start":{"line":289,"column":24},"end":{"line":291,"column":25}},"163":{"start":{"line":290,"column":28},"end":{"line":290,"column":105}},"164":{"start":{"line":295,"column":20},"end":{"line":298,"column":21}},"165":{"start":{"line":296,"column":24},"end":{"line":296,"column":128}},"166":{"start":{"line":297,"column":24},"end":{"line":297,"column":138}},"167":{"start":{"line":300,"column":20},"end":{"line":300,"column":120}},"168":{"start":{"line":301,"column":20},"end":{"line":301,"column":54}},"169":{"start":{"line":303,"column":20},"end":{"line":317,"column":21}},"170":{"start":{"line":304,"column":24},"end":{"line":313,"column":25}},"171":{"start":{"line":305,"column":28},"end":{"line":307,"column":31}},"172":{"start":{"line":306,"column":32},"end":{"line":306,"column":47}},"173":{"start":{"line":311,"column":28},"end":{"line":311,"column":73}},"174":{"start":{"line":312,"column":28},"end":{"line":312,"column":71}},"175":{"start":{"line":316,"column":24},"end":{"line":316,"column":67}},"176":{"start":{"line":320,"column":16},"end":{"line":320,"column":36}},"177":{"start":{"line":322,"column":16},"end":{"line":350,"column":17}},"178":{"start":{"line":324,"column":20},"end":{"line":324,"column":71}},"179":{"start":{"line":326,"column":20},"end":{"line":326,"column":55}},"180":{"start":{"line":327,"column":20},"end":{"line":327,"column":103}},"181":{"start":{"line":329,"column":20},"end":{"line":329,"column":106}},"182":{"start":{"line":331,"column":20},"end":{"line":349,"column":23}},"183":{"start":{"line":333,"column":24},"end":{"line":333,"column":68}},"184":{"start":{"line":335,"column":24},"end":{"line":335,"column":59}},"185":{"start":{"line":338,"column":24},"end":{"line":338,"column":68}},"186":{"start":{"line":340,"column":24},"end":{"line":340,"column":59}},"187":{"start":{"line":343,"column":24},"end":{"line":343,"column":62}},"188":{"start":{"line":345,"column":24},"end":{"line":345,"column":59}},"189":{"start":{"line":348,"column":24},"end":{"line":348,"column":77}},"190":{"start":{"line":352,"column":16},"end":{"line":352,"column":51}},"191":{"start":{"line":354,"column":16},"end":{"line":354,"column":56}},"192":{"start":{"line":356,"column":16},"end":{"line":372,"column":17}},"193":{"start":{"line":357,"column":20},"end":{"line":357,"column":78}},"194":{"start":{"line":357,"column":53},"end":{"line":357,"column":76}},"195":{"start":{"line":359,"column":20},"end":{"line":361,"column":21}},"196":{"start":{"line":360,"column":24},"end":{"line":360,"column":31}},"197":{"start":{"line":364,"column":20},"end":{"line":368,"column":21}},"198":{"start":{"line":367,"column":24},"end":{"line":367,"column":31}},"199":{"start":{"line":370,"column":20},"end":{"line":370,"column":78}},"200":{"start":{"line":371,"column":20},"end":{"line":371,"column":53}},"201":{"start":{"line":375,"column":16},"end":{"line":387,"column":17}},"202":{"start":{"line":376,"column":20},"end":{"line":386,"column":21}},"203":{"start":{"line":377,"column":24},"end":{"line":377,"column":40}},"204":{"start":{"line":379,"column":24},"end":{"line":381,"column":25}},"205":{"start":{"line":380,"column":28},"end":{"line":380,"column":57}},"206":{"start":{"line":382,"column":24},"end":{"line":382,"column":36}},"207":{"start":{"line":385,"column":24},"end":{"line":385,"column":31}},"208":{"start":{"line":391,"column":4},"end":{"line":396,"column":5}},"209":{"start":{"line":392,"column":8},"end":{"line":394,"column":9}},"210":{"start":{"line":393,"column":12},"end":{"line":393,"column":56}},"211":{"start":{"line":395,"column":8},"end":{"line":395,"column":24}},"212":{"start":{"line":398,"column":0},"end":{"line":398,"column":26}}},"branchMap":{"1":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":33},"end":{"line":36,"column":75}},{"start":{"line":36,"column":79},"end":{"line":36,"column":81}}]},"2":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":35},"end":{"line":37,"column":109}},{"start":{"line":37,"column":113},"end":{"line":37,"column":115}}]},"3":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":16},"end":{"line":46,"column":16}},{"start":{"line":46,"column":16},"end":{"line":46,"column":16}}]},"4":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":20},"end":{"line":47,"column":20}},{"start":{"line":47,"column":20},"end":{"line":47,"column":20}}]},"5":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":16},"end":{"line":67,"column":16}},{"start":{"line":67,"column":16},"end":{"line":67,"column":16}}]},"6":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":16},"end":{"line":77,"column":16}},{"start":{"line":77,"column":16},"end":{"line":77,"column":16}}]},"7":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":20},"end":{"line":88,"column":20}},{"start":{"line":88,"column":20},"end":{"line":88,"column":20}}]},"8":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":16},"end":{"line":97,"column":16}},{"start":{"line":97,"column":16},"end":{"line":97,"column":16}}]},"9":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":24},"end":{"line":118,"column":24}},{"start":{"line":118,"column":24},"end":{"line":118,"column":24}}]},"10":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":24},"end":{"line":122,"column":24}},{"start":{"line":122,"column":24},"end":{"line":122,"column":24}}]},"11":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":51},"end":{"line":156,"column":33}},{"start":{"line":156,"column":37},"end":{"line":156,"column":42}}]},"12":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":28},"end":{"line":141,"column":28}},{"start":{"line":141,"column":28},"end":{"line":141,"column":28}}]},"13":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":28},"end":{"line":144,"column":28}},{"start":{"line":144,"column":28},"end":{"line":144,"column":28}}]},"14":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":33},"end":{"line":148,"column":33}},{"start":{"line":148,"column":33},"end":{"line":148,"column":33}}]},"15":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":33},"end":{"line":152,"column":33}},{"start":{"line":152,"column":33},"end":{"line":152,"column":33}}]},"16":{"line":155,"type":"binary-expr","locations":[{"start":{"line":155,"column":35},"end":{"line":155,"column":39}},{"start":{"line":155,"column":43},"end":{"line":155,"column":61}}]},"17":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":24},"end":{"line":160,"column":24}},{"start":{"line":160,"column":24},"end":{"line":160,"column":24}}]},"18":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":24},"end":{"line":166,"column":24}},{"start":{"line":166,"column":24},"end":{"line":166,"column":24}}]},"19":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":28},"end":{"line":167,"column":28}},{"start":{"line":167,"column":28},"end":{"line":167,"column":28}}]},"20":{"line":167,"type":"binary-expr","locations":[{"start":{"line":167,"column":33},"end":{"line":167,"column":72}},{"start":{"line":167,"column":77},"end":{"line":167,"column":101}}]},"21":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":28},"end":{"line":173,"column":28}},{"start":{"line":173,"column":28},"end":{"line":173,"column":28}}]},"22":{"line":175,"type":"cond-expr","locations":[{"start":{"line":175,"column":62},"end":{"line":175,"column":64}},{"start":{"line":175,"column":67},"end":{"line":175,"column":70}}]},"23":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":28},"end":{"line":177,"column":28}},{"start":{"line":177,"column":28},"end":{"line":177,"column":28}}]},"24":{"line":179,"type":"cond-expr","locations":[{"start":{"line":179,"column":62},"end":{"line":179,"column":64}},{"start":{"line":179,"column":67},"end":{"line":179,"column":70}}]},"25":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":28},"end":{"line":181,"column":28}},{"start":{"line":181,"column":28},"end":{"line":181,"column":28}}]},"26":{"line":184,"type":"cond-expr","locations":[{"start":{"line":184,"column":75},"end":{"line":184,"column":77}},{"start":{"line":184,"column":80},"end":{"line":184,"column":83}}]},"27":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":28},"end":{"line":187,"column":28}},{"start":{"line":187,"column":28},"end":{"line":187,"column":28}}]},"28":{"line":187,"type":"binary-expr","locations":[{"start":{"line":187,"column":32},"end":{"line":187,"column":48}},{"start":{"line":187,"column":52},"end":{"line":187,"column":77}}]},"29":{"line":194,"type":"binary-expr","locations":[{"start":{"line":194,"column":49},"end":{"line":194,"column":57}},{"start":{"line":195,"column":29},"end":{"line":195,"column":36}},{"start":{"line":195,"column":40},"end":{"line":195,"column":56}},{"start":{"line":195,"column":60},"end":{"line":195,"column":85}}]},"30":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":24},"end":{"line":196,"column":24}},{"start":{"line":196,"column":24},"end":{"line":196,"column":24}}]},"31":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":28},"end":{"line":201,"column":28}},{"start":{"line":201,"column":28},"end":{"line":201,"column":28}}]},"32":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":24},"end":{"line":216,"column":24}},{"start":{"line":216,"column":24},"end":{"line":216,"column":24}}]},"33":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":20},"end":{"line":226,"column":20}},{"start":{"line":226,"column":20},"end":{"line":226,"column":20}}]},"34":{"line":226,"type":"binary-expr","locations":[{"start":{"line":226,"column":24},"end":{"line":226,"column":40}},{"start":{"line":226,"column":44},"end":{"line":226,"column":54}}]},"35":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":28},"end":{"line":228,"column":28}},{"start":{"line":228,"column":28},"end":{"line":228,"column":28}}]},"36":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":28},"end":{"line":233,"column":28}},{"start":{"line":233,"column":28},"end":{"line":233,"column":28}}]},"37":{"line":244,"type":"binary-expr","locations":[{"start":{"line":244,"column":31},"end":{"line":244,"column":51}},{"start":{"line":244,"column":55},"end":{"line":244,"column":71}},{"start":{"line":244,"column":75},"end":{"line":244,"column":111}}]},"38":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":20},"end":{"line":250,"column":20}},{"start":{"line":250,"column":20},"end":{"line":250,"column":20}}]},"39":{"line":257,"type":"binary-expr","locations":[{"start":{"line":257,"column":34},"end":{"line":257,"column":49}},{"start":{"line":257,"column":53},"end":{"line":257,"column":62}}]},"40":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":28},"end":{"line":262,"column":28}},{"start":{"line":262,"column":28},"end":{"line":262,"column":28}}]},"41":{"line":262,"type":"binary-expr","locations":[{"start":{"line":262,"column":32},"end":{"line":262,"column":71}},{"start":{"line":263,"column":32},"end":{"line":263,"column":79}}]},"42":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":20},"end":{"line":271,"column":20}},{"start":{"line":271,"column":20},"end":{"line":271,"column":20}}]},"43":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":24},"end":{"line":272,"column":24}},{"start":{"line":272,"column":24},"end":{"line":272,"column":24}}]},"44":{"line":272,"type":"binary-expr","locations":[{"start":{"line":272,"column":28},"end":{"line":272,"column":54}},{"start":{"line":272,"column":58},"end":{"line":272,"column":85}},{"start":{"line":272,"column":89},"end":{"line":272,"column":119}}]},"45":{"line":279,"type":"binary-expr","locations":[{"start":{"line":279,"column":131},"end":{"line":279,"column":146}},{"start":{"line":279,"column":150},"end":{"line":279,"column":159}}]},"46":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":20},"end":{"line":285,"column":20}},{"start":{"line":285,"column":20},"end":{"line":285,"column":20}}]},"47":{"line":287,"type":"binary-expr","locations":[{"start":{"line":287,"column":187},"end":{"line":287,"column":202}},{"start":{"line":287,"column":206},"end":{"line":287,"column":215}}]},"48":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":24},"end":{"line":289,"column":24}},{"start":{"line":289,"column":24},"end":{"line":289,"column":24}}]},"49":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":20},"end":{"line":295,"column":20}},{"start":{"line":295,"column":20},"end":{"line":295,"column":20}}]},"50":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":20},"end":{"line":303,"column":20}},{"start":{"line":303,"column":20},"end":{"line":303,"column":20}}]},"51":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":24},"end":{"line":304,"column":24}},{"start":{"line":304,"column":24},"end":{"line":304,"column":24}}]},"52":{"line":304,"type":"binary-expr","locations":[{"start":{"line":304,"column":28},"end":{"line":304,"column":53}},{"start":{"line":304,"column":57},"end":{"line":304,"column":76}},{"start":{"line":304,"column":80},"end":{"line":304,"column":112}}]},"53":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":16},"end":{"line":322,"column":16}},{"start":{"line":322,"column":16},"end":{"line":322,"column":16}}]},"54":{"line":357,"type":"if","locations":[{"start":{"line":357,"column":20},"end":{"line":357,"column":20}},{"start":{"line":357,"column":20},"end":{"line":357,"column":20}}]},"55":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":20},"end":{"line":359,"column":20}},{"start":{"line":359,"column":20},"end":{"line":359,"column":20}}]},"56":{"line":359,"type":"binary-expr","locations":[{"start":{"line":359,"column":24},"end":{"line":359,"column":70}},{"start":{"line":359,"column":74},"end":{"line":359,"column":122}}]},"57":{"line":364,"type":"if","locations":[{"start":{"line":364,"column":20},"end":{"line":364,"column":20}},{"start":{"line":364,"column":20},"end":{"line":364,"column":20}}]},"58":{"line":375,"type":"if","locations":[{"start":{"line":375,"column":16},"end":{"line":375,"column":16}},{"start":{"line":375,"column":16},"end":{"line":375,"column":16}}]},"59":{"line":376,"type":"if","locations":[{"start":{"line":376,"column":20},"end":{"line":376,"column":20}},{"start":{"line":376,"column":20},"end":{"line":376,"column":20}}]},"60":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":24},"end":{"line":379,"column":24}},{"start":{"line":379,"column":24},"end":{"line":379,"column":24}}]},"61":{"line":392,"type":"if","locations":[{"start":{"line":392,"column":8},"end":{"line":392,"column":8}},{"start":{"line":392,"column":8},"end":{"line":392,"column":8}}]}},"code":["/// <reference path=\"../defs/tsd.d.ts\"/>","/// <reference path=\"./modules/interfaces.d.ts\"/>","'use strict';","/*"," * grunt-ts"," * Licensed under the MIT license."," */","var _ = require('lodash');","var path = require('path');","var fs = require('fs');","var es6_promise_1 = require('es6-promise');","var utils = require('./modules/utils');","var compileModule = require('./modules/compile');","var referenceModule = require('./modules/reference');","var amdLoaderModule = require('./modules/amdLoader');","var html2tsModule = require('./modules/html2ts');","var templateCacheModule = require('./modules/templateCache');","var transformers = require('./modules/transformers');","var optionsResolver = require('../tasks/modules/optionsResolver');","var asyncSeries = utils.asyncSeries, timeIt = utils.timeIt;","var fail_event = 'grunt-ts.failure';","function pluginFn(grunt) {","    /////////////////////////////////////////////////////////////////////","    // The grunt task","    ////////////////////////////////////////////////////////////////////","    grunt.registerMultiTask('ts', 'Compile TypeScript files', function () {","        // tracks which index in the task \"files\" property is next for processing","        var filesCompilationIndex = 0;","        var done, options;","        {","            var currentGruntTask = this;","            var resolvedFiles = currentGruntTask.files;","            // make async","            done = currentGruntTask.async();","            // get unprocessed templates from configuration","            var rawTaskConfig = (grunt.config.getRaw(currentGruntTask.name) || {});","            var rawTargetConfig = (grunt.config.getRaw(currentGruntTask.name + '.' + currentGruntTask.target) || {});","            optionsResolver.resolveAsync(rawTaskConfig, rawTargetConfig, currentGruntTask.target, resolvedFiles, grunt.template.process, grunt.file.expand).then(function (result) {","                options = result;","                options.warnings.forEach(function (warning) {","                    grunt.log.writeln(warning.magenta);","                });","                options.errors.forEach(function (error) {","                    grunt.log.writeln(error.red);","                });","                if (options.errors.length > 0) {","                    if (options.emitGruntEvents) {","                        grunt.event.emit(fail_event);","                    }","                    done(false);","                    return;","                }","                proceed();","            }).catch(function (error) {","                grunt.log.writeln((error + '').red);","                done(false);","            });","        }","        function proceed() {","            var srcFromVS_RelativePathsFromGruntFile = [];","            // Run compiler","            asyncSeries(options.CompilationTasks, function (currentFiles) {","                // Create a reference file?","                var reference = processIndividualTemplate(options.reference);","                var referenceFile;","                var referencePath;","                if (!!reference) {","                    referenceFile = path.resolve(reference);","                    referencePath = path.dirname(referenceFile);","                }","                function isReferenceFile(filename) {","                    return path.resolve(filename) === referenceFile;","                }","                // Create an output file?","                var outFile = currentFiles.out;","                var outFile_d_ts;","                if (!!outFile) {","                    outFile = path.resolve(outFile);","                    outFile_d_ts = outFile.replace('.js', '.d.ts');","                }","                function isOutFile(filename) {","                    return path.resolve(filename) === outFile_d_ts;","                }","                // see https://github.com/grunt-ts/grunt-ts/issues/77","                function isBaseDirFile(filename, targetFiles) {","                    var baseDirFile = '.baseDir.ts';","                    var bd = '';","                    if (!options.baseDir) {","                        bd = utils.findCommonPath(targetFiles, '/');","                        options.baseDir = bd;","                    }","                    return path.resolve(filename) === path.resolve(path.join(bd, baseDirFile));","                }","                // Create an amd loader?","                var amdloader = options.amdloader;","                var amdloaderFile, amdloaderPath;","                if (!!amdloader) {","                    amdloaderFile = path.resolve(amdloader);","                    amdloaderPath = path.dirname(amdloaderFile);","                }","                // Compiles all the files","                // Uses the blind tsc compile task","                // logs errors","                function runCompilation(options, compilationInfo) {","                    grunt.log.writeln('Compiling...'.yellow);","                    // Time the compiler process","                    var starttime = new Date().getTime();","                    var endtime;","                    // Compile the files","                    return compileModule.compileAllFiles(options, compilationInfo)","                        .then(function (result) {","                        // End the timer","                        endtime = new Date().getTime();","                        grunt.log.writeln('');","                        // Analyze the results of our tsc execution,","                        //   then tell the user our analysis results","                        //   and mark the build as fail or success","                        if (!result) {","                            grunt.log.error('Error: No result from tsc.'.red);","                            return false;","                        }","                        if (result.code === 8) {","                            grunt.log.error('Error: Node was unable to run tsc.  Possibly it could not be found?'.red);","                            return false;","                        }","                        // In TypeScript 1.3 and above, the result code corresponds to the ExitCode enum in","                        //   TypeScript/src/compiler/sys.ts","                        var isError = (result.code !== 0);","                        // If the compilation errors contain only type errors, JS files are still","                        //   generated. If tsc finds type errors, it will return an error code, even","                        //   if JS files are generated. We should check this for this,","                        //   only type errors, and call this a successful compilation.","                        // Assumptions:","                        //   Level 1 errors = syntax errors - prevent JS emit.","                        //   Level 2 errors = semantic errors - *not* prevents JS emit.","                        //   Level 5 errors = compiler flag misuse - prevents JS emit.","                        var level1ErrorCount = 0, level5ErrorCount = 0, nonEmitPreventingWarningCount = 0;","                        var hasTS7017Error = false;","                        var hasPreventEmitErrors = _.foldl(result.output.split('\\n'), function (memo, errorMsg) {","                            var isPreventEmitError = false;","                            if (errorMsg.search(/error TS7017:/g) >= 0) {","                                hasTS7017Error = true;","                            }","                            if (errorMsg.search(/error TS1\\d+:/g) >= 0) {","                                level1ErrorCount += 1;","                                isPreventEmitError = true;","                            }","                            else if (errorMsg.search(/error TS5\\d+:/) >= 0) {","                                level5ErrorCount += 1;","                                isPreventEmitError = true;","                            }","                            else if (errorMsg.search(/error TS\\d+:/) >= 0) {","                                nonEmitPreventingWarningCount += 1;","                            }","                            return memo || isPreventEmitError;","                        }, false) || false;","                        // Because we can't think of a better way to determine it,","                        //   assume that emitted JS in spite of error codes implies type-only errors.","                        var isOnlyTypeErrors = !hasPreventEmitErrors;","                        if (hasTS7017Error) {","                            grunt.log.writeln(('Note:  You may wish to enable the suppressImplicitAnyIndexErrors' +","                                ' grunt-ts option to allow dynamic property access by index.  This will' +","                                ' suppress TypeScript error TS7017.').magenta);","                        }","                        // Log error summary","                        if (level1ErrorCount + level5ErrorCount + nonEmitPreventingWarningCount > 0) {","                            if ((level1ErrorCount + level5ErrorCount > 0) || options.failOnTypeErrors) {","                                grunt.log.write(('>> ').red);","                            }","                            else {","                                grunt.log.write(('>> ').green);","                            }","                            if (level5ErrorCount > 0) {","                                grunt.log.write(level5ErrorCount.toString() + ' compiler flag error' +","                                    (level5ErrorCount === 1 ? '' : 's') + '  ');","                            }","                            if (level1ErrorCount > 0) {","                                grunt.log.write(level1ErrorCount.toString() + ' syntax error' +","                                    (level1ErrorCount === 1 ? '' : 's') + '  ');","                            }","                            if (nonEmitPreventingWarningCount > 0) {","                                grunt.log.write(nonEmitPreventingWarningCount.toString() +","                                    ' non-emit-preventing type warning' +","                                    (nonEmitPreventingWarningCount === 1 ? '' : 's') + '  ');","                            }","                            grunt.log.writeln('');","                            if (isOnlyTypeErrors && !options.failOnTypeErrors) {","                                grunt.log.write(('>> ').green);","                                grunt.log.writeln('Type errors only.');","                            }","                        }","                        // !!! To do: To really be confident that the build was actually successful,","                        //   we have to check timestamps of the generated files in the destination.","                        var isSuccessfulBuild = (!isError ||","                            (isError && isOnlyTypeErrors && !options.failOnTypeErrors));","                        if (isSuccessfulBuild) {","                            // Report successful build.","                            var time = (endtime - starttime) / 1000;","                            grunt.log.writeln('');","                            var message = 'TypeScript compilation complete: ' + time.toFixed(2) + 's';","                            if (utils.shouldPassThrough(options)) {","                                message += ' for TypeScript pass-through.';","                            }","                            else {","                                message += ' for ' + result.fileCount + ' TypeScript files.';","                            }","                            grunt.log.writeln(message.green);","                        }","                        else {","                            // Report unsuccessful build.","                            grunt.log.error(('Error: tsc return code: ' + result.code).yellow);","                        }","                        return isSuccessfulBuild;","                    }).catch(function (err) {","                        grunt.log.writeln(('Error: ' + err).red);","                        if (options.emitGruntEvents) {","                            grunt.event.emit(fail_event);","                        }","                        return false;","                    });","                }","                // Find out which files to compile, codegen etc.","                // Then calls the appropriate functions + compile function on those files","                function filterFilesTransformAndCompile() {","                    var filesToCompile = [];","                    if (currentFiles.src || options.vs) {","                        _.map(currentFiles.src, function (file) {","                            if (filesToCompile.indexOf(file) === -1) {","                                filesToCompile.push(file);","                            }","                        });","                        _.map(srcFromVS_RelativePathsFromGruntFile, function (file) {","                            if (filesToCompile.indexOf(file) === -1) {","                                filesToCompile.push(file);","                            }","                        });","                    }","                    else {","                        filesCompilationIndex += 1;","                    }","                    // ignore directories, and clear the files of output.d.ts and baseDirFile","                    filesToCompile = filesToCompile.filter(function (file) {","                        var stats = fs.lstatSync(file);","                        return !stats.isDirectory() && !isOutFile(file) && !isBaseDirFile(file, filesToCompile);","                    });","                    ///// Html files:","                    // Note:","                    //    compile html files must be before reference file creation","                    var generatedFiles = [];","                    if (options.html) {","                        var html2tsOptions_1 = {","                            moduleFunction: _.template(options.htmlModuleTemplate),","                            varFunction: _.template(options.htmlVarTemplate),","                            htmlOutputTemplate: options.htmlOutputTemplate,","                            htmlOutDir: options.htmlOutDir,","                            flatten: options.htmlOutDirFlatten,","                            eol: (options.newLine || utils.eol)","                        };","                        var htmlFiles = grunt.file.expand(options.html);","                        generatedFiles = _.map(htmlFiles, function (filename) { return html2tsModule.compileHTML(filename, html2tsOptions_1); });","                        generatedFiles.forEach(function (fileName) {","                            if (filesToCompile.indexOf(fileName) === -1 &&","                                grunt.file.isMatch(currentFiles.glob, fileName)) {","                                filesToCompile.push(fileName);","                            }","                        });","                    }","                    ///// Template cache","                    // Note: The template cache files do not go into generated files.","                    // Note: You are free to generate a `ts OR js` file for template cache, both should just work","                    if (options.templateCache) {","                        if (!options.templateCache.src || !options.templateCache.dest || !options.templateCache.baseUrl) {","                            grunt.log.writeln('templateCache : src, dest, baseUrl must be specified if templateCache option is used'.red);","                        }","                        else {","                            var templateCacheSrc = grunt.file.expand(options.templateCache.src); // manual reinterpolation","                            var templateCacheDest = path.resolve(options.templateCache.dest);","                            var templateCacheBasePath = path.resolve(options.templateCache.baseUrl);","                            templateCacheModule.generateTemplateCache(templateCacheSrc, templateCacheDest, templateCacheBasePath, (options.newLine || utils.eol));","                        }","                    }","                    ///// Reference File","                    // Generate the reference file","                    // Create a reference file if specified","                    if (!!referencePath) {","                        var result = timeIt(function () {","                            return referenceModule.updateReferenceFile(filesToCompile.filter(function (f) { return !isReferenceFile(f); }), generatedFiles, referenceFile, referencePath, (options.newLine || utils.eol));","                        });","                        if (result.it === true) {","                            grunt.log.writeln(('Updated reference file (' + result.time + 'ms).').green);","                        }","                    }","                    ///// AMD loader","                    // Create the amdLoader if specified","                    if (!!amdloaderPath) {","                        var referenceOrder = amdLoaderModule.getReferencesInOrder(referenceFile, referencePath, generatedFiles);","                        amdLoaderModule.updateAmdLoader(referenceFile, referenceOrder, amdloaderFile, amdloaderPath, currentFiles.outDir);","                    }","                    // Transform files as needed. Currently all of this logic in is one module","                    transformers.transformFiles(filesToCompile /*TODO: only unchanged files*/, filesToCompile, options);","                    currentFiles.src = filesToCompile;","                    // Return promise to compliation","                    if (utils.shouldCompile(options)) {","                        if (filesToCompile.length > 0 || options.testExecute || utils.shouldPassThrough(options)) {","                            return runCompilation(options, currentFiles).then(function (success) {","                                return success;","                            });","                        }","                        else {","                            // Nothing to do","                            grunt.log.writeln('No files to compile'.red);","                            return es6_promise_1.Promise.resolve(true);","                        }","                    }","                    else {","                        return es6_promise_1.Promise.resolve(true);","                    }","                }","                // Time (in ms) when last compile took place","                var lastCompile = 0;","                // Watch a folder?","                if (!!options.watch) {","                    // get path(s)","                    var watchpath = grunt.file.expand([options.watch]);","                    // create a file watcher for path","                    var chokidar = require('chokidar');","                    var watcher = chokidar.watch(watchpath, { ignoreInitial: true, persistent: true });","                    // Log what we are doing","                    grunt.log.writeln(('Watching all TypeScript / Html files under : ' + watchpath).cyan);","                    // A file has been added/changed/deleted has occurred","                    watcher","                        .on('add', function (path) {","                        handleFileEvent(path, '+++ added   ', true);","                        // Reset the time for last compile call","                        lastCompile = new Date().getTime();","                    })","                        .on('change', function (path) {","                        handleFileEvent(path, '### changed ', true);","                        // Reset the time for last compile call","                        lastCompile = new Date().getTime();","                    })","                        .on('unlink', function (path) {","                        handleFileEvent(path, '--- removed ');","                        // Reset the time for last compile call","                        lastCompile = new Date().getTime();","                    })","                        .on('error', function (error) {","                        console.error('Error happened in chokidar: ', error);","                    });","                }","                // Reset the time for last compile call","                lastCompile = new Date().getTime();","                // Run initial compile","                return filterFilesTransformAndCompile();","                // local event to handle file event","                function handleFileEvent(filepath, displaystr, addedOrChanged) {","                    if (addedOrChanged === void 0) { addedOrChanged = false; }","                    // Only ts and html :","                    if (!utils.endsWith(filepath.toLowerCase(), '.ts') && !utils.endsWith(filepath.toLowerCase(), '.html')) {","                        return;","                    }","                    // Do not run if just ran, behaviour same as grunt-watch","                    // These are the files our run modified","                    if ((new Date().getTime() - lastCompile) <= 100) {","                        // Uncomment for debugging which files were ignored","                        // grunt.log.writeln((' ///'  + ' >>' + filepath).grey);","                        return;","                    }","                    // Log and run the debounced version.","                    grunt.log.writeln((displaystr + ' >>' + filepath).yellow);","                    filterFilesTransformAndCompile();","                }","            }).then(function (res) {","                // Ignore res? (either logs or throws)","                if (!options.watch) {","                    if (res.some(function (success) {","                        return !success;","                    })) {","                        if (options.emitGruntEvents) {","                            grunt.event.emit(fail_event);","                        }","                        done(false);","                    }","                    else {","                        done();","                    }","                }","            }, done);","        }","    });","    function processIndividualTemplate(template) {","        if (template) {","            return grunt.template.process(template, {});","        }","        return template;","    }","}","module.exports = pluginFn;","//# sourceMappingURL=ts.js.map"],"l":{"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"26":0,"28":0,"29":0,"31":0,"32":0,"34":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"43":0,"44":0,"46":0,"47":0,"48":0,"50":0,"51":0,"53":0,"55":0,"56":0,"59":1,"60":0,"62":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"71":1,"72":0,"75":0,"76":0,"77":0,"78":0,"79":0,"81":1,"82":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"92":0,"95":0,"96":0,"97":0,"98":0,"99":0,"104":1,"105":0,"107":0,"108":0,"110":0,"113":0,"114":0,"118":0,"119":0,"120":0,"122":0,"123":0,"124":0,"128":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"144":0,"145":0,"146":0,"148":0,"149":0,"150":0,"152":0,"153":0,"155":0,"159":0,"160":0,"161":0,"166":0,"167":0,"168":0,"171":0,"173":0,"174":0,"177":0,"178":0,"181":0,"182":0,"186":0,"187":0,"188":0,"189":0,"194":0,"196":0,"198":0,"199":0,"200":0,"201":0,"202":0,"205":0,"207":0,"211":0,"213":0,"215":0,"216":0,"217":0,"219":0,"224":1,"225":0,"226":0,"227":0,"228":0,"229":0,"232":0,"233":0,"234":0,"239":0,"242":0,"243":0,"244":0,"249":0,"250":0,"251":0,"259":0,"260":0,"261":0,"262":0,"264":0,"271":0,"272":0,"273":0,"276":0,"277":0,"278":0,"279":0,"285":0,"286":0,"287":0,"289":0,"290":0,"295":0,"296":0,"297":0,"300":0,"301":0,"303":0,"304":0,"305":0,"306":0,"311":0,"312":0,"316":0,"320":0,"322":0,"324":0,"326":0,"327":0,"329":0,"331":0,"333":0,"335":0,"338":0,"340":0,"343":0,"345":0,"348":0,"352":0,"354":0,"356":1,"357":0,"359":0,"360":0,"364":0,"367":0,"370":0,"371":0,"375":0,"376":0,"377":0,"379":0,"380":0,"382":0,"385":0,"391":1,"392":0,"393":0,"395":0,"398":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/utils.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/utils.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":1,"49":1,"50":0,"51":0,"52":0,"53":0,"54":1,"55":1,"56":0,"57":1,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":1,"66":0,"67":0,"68":0,"69":0,"70":1,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":1,"102":0,"103":1,"104":1,"105":0,"106":1,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":1,"139":0,"140":0,"141":0,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":1,"153":1,"154":0,"155":1,"156":1,"157":0,"158":0,"159":0,"160":0,"161":0,"162":1,"163":1,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":1,"173":1,"174":0,"175":0,"176":0,"177":0,"178":1,"179":1,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":1,"192":1,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":1,"201":1,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":1,"213":1,"214":0,"215":1,"216":1,"217":0,"218":1},"b":{"1":[0,0],"2":[0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"fnMap":{"1":{"name":"newLineIsRedundantForTsc","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":69}}},"2":{"name":"newLineActualAsParameter","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":54}}},"3":{"name":"newLineParameterAsActual","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":57}}},"4":{"name":"makeRelativePath","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":63}}},"5":{"name":"sharedStart","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":28}}},"6":{"name":"findCommonPath","line":63,"loc":{"start":{"line":63,"column":0},"end":{"line":63,"column":46}}},"7":{"name":"insertArrayAt","line":74,"loc":{"start":{"line":74,"column":0},"end":{"line":74,"column":52}}},"8":{"name":"endsWith","line":86,"loc":{"start":{"line":86,"column":0},"end":{"line":86,"column":31}}},"9":{"name":"stripQuotesIfQuoted","line":90,"loc":{"start":{"line":90,"column":0},"end":{"line":90,"column":51}}},"10":{"name":"isJavaScriptFile","line":101,"loc":{"start":{"line":101,"column":0},"end":{"line":101,"column":36}}},"11":{"name":"format","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":21}}},"12":{"name":"(anonymous_12)","line":117,"loc":{"start":{"line":117,"column":35},"end":{"line":117,"column":51}}},"13":{"name":"getRandomHex","line":127,"loc":{"start":{"line":127,"column":0},"end":{"line":127,"column":30}}},"14":{"name":"getTempFile","line":142,"loc":{"start":{"line":142,"column":0},"end":{"line":142,"column":45}}},"15":{"name":"getFiles","line":170,"loc":{"start":{"line":170,"column":0},"end":{"line":170,"column":36}}},"16":{"name":"getDirs","line":183,"loc":{"start":{"line":183,"column":0},"end":{"line":183,"column":35}}},"17":{"name":"_getAll","line":197,"loc":{"start":{"line":197,"column":0},"end":{"line":197,"column":45}}},"18":{"name":"(anonymous_18)","line":210,"loc":{"start":{"line":210,"column":36},"end":{"line":210,"column":53}}},"19":{"name":"_checkDirPathArgument","line":243,"loc":{"start":{"line":243,"column":0},"end":{"line":243,"column":40}}},"20":{"name":"_checkExcludeArgument","line":257,"loc":{"start":{"line":257,"column":0},"end":{"line":257,"column":40}}},"21":{"name":"firstElementWithValue","line":263,"loc":{"start":{"line":263,"column":0},"end":{"line":263,"column":56}}},"22":{"name":"(anonymous_22)","line":266,"loc":{"start":{"line":266,"column":21},"end":{"line":266,"column":37}}},"23":{"name":"hasValue","line":276,"loc":{"start":{"line":276,"column":0},"end":{"line":276,"column":25}}},"24":{"name":"getOrGetFirst","line":280,"loc":{"start":{"line":280,"column":0},"end":{"line":280,"column":32}}},"25":{"name":"enclosePathInQuotesIfRequired","line":290,"loc":{"start":{"line":290,"column":0},"end":{"line":290,"column":45}}},"26":{"name":"timeIt","line":314,"loc":{"start":{"line":314,"column":0},"end":{"line":314,"column":24}}},"27":{"name":"asyncSeries","line":327,"loc":{"start":{"line":327,"column":0},"end":{"line":327,"column":41}}},"28":{"name":"(anonymous_28)","line":331,"loc":{"start":{"line":331,"column":37},"end":{"line":331,"column":64}}},"29":{"name":"(anonymous_29)","line":332,"loc":{"start":{"line":332,"column":19},"end":{"line":332,"column":31}}},"30":{"name":"(anonymous_30)","line":339,"loc":{"start":{"line":339,"column":22},"end":{"line":339,"column":40}}},"31":{"name":"copyFile","line":348,"loc":{"start":{"line":348,"column":0},"end":{"line":348,"column":57}}},"32":{"name":"(anonymous_32)","line":350,"loc":{"start":{"line":350,"column":35},"end":{"line":350,"column":56}}},"33":{"name":"(anonymous_33)","line":351,"loc":{"start":{"line":351,"column":47},"end":{"line":351,"column":62}}},"34":{"name":"readAndParseJSONFromFileSync","line":360,"loc":{"start":{"line":360,"column":0},"end":{"line":360,"column":58}}},"35":{"name":"shouldCompile","line":378,"loc":{"start":{"line":378,"column":0},"end":{"line":378,"column":32}}},"36":{"name":"shouldPassThrough","line":382,"loc":{"start":{"line":382,"column":0},"end":{"line":382,"column":36}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":23}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":33}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":42}},"9":{"start":{"line":11,"column":0},"end":{"line":15,"column":1}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":61}},"11":{"start":{"line":12,"column":38},"end":{"line":12,"column":59}},"12":{"start":{"line":13,"column":4},"end":{"line":14,"column":69}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":60}},"14":{"start":{"line":17,"column":0},"end":{"line":22,"column":1}},"15":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"16":{"start":{"line":19,"column":8},"end":{"line":19,"column":76}},"17":{"start":{"line":21,"column":4},"end":{"line":21,"column":14}},"18":{"start":{"line":23,"column":0},"end":{"line":23,"column":60}},"19":{"start":{"line":24,"column":0},"end":{"line":29,"column":1}},"20":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"21":{"start":{"line":26,"column":8},"end":{"line":26,"column":79}},"22":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"23":{"start":{"line":30,"column":0},"end":{"line":30,"column":60}},"24":{"start":{"line":32,"column":0},"end":{"line":39,"column":1}},"25":{"start":{"line":33,"column":4},"end":{"line":33,"column":60}},"26":{"start":{"line":33,"column":36},"end":{"line":33,"column":58}},"27":{"start":{"line":34,"column":4},"end":{"line":34,"column":81}},"28":{"start":{"line":35,"column":4},"end":{"line":37,"column":5}},"29":{"start":{"line":36,"column":8},"end":{"line":36,"column":43}},"30":{"start":{"line":38,"column":4},"end":{"line":38,"column":24}},"31":{"start":{"line":40,"column":0},"end":{"line":40,"column":44}},"32":{"start":{"line":43,"column":0},"end":{"line":60,"column":1}},"33":{"start":{"line":44,"column":4},"end":{"line":46,"column":5}},"34":{"start":{"line":45,"column":8},"end":{"line":45,"column":56}},"35":{"start":{"line":47,"column":4},"end":{"line":47,"column":80}},"36":{"start":{"line":48,"column":4},"end":{"line":59,"column":5}},"37":{"start":{"line":49,"column":8},"end":{"line":49,"column":25}},"38":{"start":{"line":52,"column":8},"end":{"line":52,"column":19}},"39":{"start":{"line":53,"column":8},"end":{"line":57,"column":49}},"40":{"start":{"line":54,"column":12},"end":{"line":54,"column":19}},"41":{"start":{"line":55,"column":12},"end":{"line":55,"column":52}},"42":{"start":{"line":56,"column":12},"end":{"line":56,"column":50}},"43":{"start":{"line":58,"column":8},"end":{"line":58,"column":41}},"44":{"start":{"line":63,"column":0},"end":{"line":69,"column":1}},"45":{"start":{"line":65,"column":4},"end":{"line":65,"column":49}},"46":{"start":{"line":67,"column":4},"end":{"line":67,"column":64}},"47":{"start":{"line":68,"column":4},"end":{"line":68,"column":49}},"48":{"start":{"line":70,"column":0},"end":{"line":70,"column":40}},"49":{"start":{"line":74,"column":0},"end":{"line":79,"column":1}},"50":{"start":{"line":75,"column":4},"end":{"line":75,"column":33}},"51":{"start":{"line":76,"column":4},"end":{"line":76,"column":30}},"52":{"start":{"line":77,"column":4},"end":{"line":77,"column":74}},"53":{"start":{"line":78,"column":4},"end":{"line":78,"column":19}},"54":{"start":{"line":80,"column":0},"end":{"line":80,"column":38}},"55":{"start":{"line":86,"column":0},"end":{"line":88,"column":1}},"56":{"start":{"line":87,"column":4},"end":{"line":87,"column":66}},"57":{"start":{"line":89,"column":0},"end":{"line":89,"column":28}},"58":{"start":{"line":90,"column":0},"end":{"line":99,"column":1}},"59":{"start":{"line":91,"column":4},"end":{"line":93,"column":5}},"60":{"start":{"line":92,"column":8},"end":{"line":92,"column":36}},"61":{"start":{"line":94,"column":4},"end":{"line":97,"column":5}},"62":{"start":{"line":96,"column":8},"end":{"line":96,"column":79}},"63":{"start":{"line":98,"column":4},"end":{"line":98,"column":32}},"64":{"start":{"line":100,"column":0},"end":{"line":100,"column":50}},"65":{"start":{"line":101,"column":0},"end":{"line":107,"column":1}},"66":{"start":{"line":102,"column":4},"end":{"line":105,"column":5}},"67":{"start":{"line":103,"column":8},"end":{"line":103,"column":87}},"68":{"start":{"line":104,"column":8},"end":{"line":104,"column":47}},"69":{"start":{"line":106,"column":4},"end":{"line":106,"column":17}},"70":{"start":{"line":108,"column":0},"end":{"line":108,"column":44}},"71":{"start":{"line":112,"column":0},"end":{"line":120,"column":1}},"72":{"start":{"line":113,"column":4},"end":{"line":113,"column":18}},"73":{"start":{"line":114,"column":4},"end":{"line":116,"column":5}},"74":{"start":{"line":115,"column":8},"end":{"line":115,"column":37}},"75":{"start":{"line":117,"column":4},"end":{"line":119,"column":7}},"76":{"start":{"line":118,"column":8},"end":{"line":118,"column":51}},"77":{"start":{"line":121,"column":0},"end":{"line":121,"column":24}},"78":{"start":{"line":127,"column":0},"end":{"line":134,"column":1}},"79":{"start":{"line":128,"column":4},"end":{"line":128,"column":43}},"80":{"start":{"line":128,"column":29},"end":{"line":128,"column":41}},"81":{"start":{"line":129,"column":4},"end":{"line":129,"column":18}},"82":{"start":{"line":130,"column":4},"end":{"line":132,"column":35}},"83":{"start":{"line":131,"column":8},"end":{"line":131,"column":73}},"84":{"start":{"line":133,"column":4},"end":{"line":133,"column":34}},"85":{"start":{"line":135,"column":0},"end":{"line":135,"column":36}},"86":{"start":{"line":142,"column":0},"end":{"line":156,"column":1}},"87":{"start":{"line":143,"column":4},"end":{"line":143,"column":37}},"88":{"start":{"line":143,"column":26},"end":{"line":143,"column":35}},"89":{"start":{"line":144,"column":4},"end":{"line":144,"column":57}},"90":{"start":{"line":144,"column":32},"end":{"line":144,"column":55}},"91":{"start":{"line":145,"column":4},"end":{"line":145,"column":42}},"92":{"start":{"line":146,"column":4},"end":{"line":146,"column":23}},"93":{"start":{"line":147,"column":4},"end":{"line":154,"column":27}},"94":{"start":{"line":148,"column":8},"end":{"line":148,"column":56}},"95":{"start":{"line":149,"column":8},"end":{"line":149,"column":40}},"96":{"start":{"line":150,"column":8},"end":{"line":152,"column":9}},"97":{"start":{"line":151,"column":12},"end":{"line":151,"column":24}},"98":{"start":{"line":153,"column":8},"end":{"line":153,"column":19}},"99":{"start":{"line":155,"column":4},"end":{"line":155,"column":46}},"100":{"start":{"line":157,"column":0},"end":{"line":157,"column":34}},"101":{"start":{"line":170,"column":0},"end":{"line":172,"column":1}},"102":{"start":{"line":171,"column":4},"end":{"line":171,"column":43}},"103":{"start":{"line":173,"column":0},"end":{"line":173,"column":28}},"104":{"start":{"line":183,"column":0},"end":{"line":185,"column":1}},"105":{"start":{"line":184,"column":4},"end":{"line":184,"column":44}},"106":{"start":{"line":186,"column":0},"end":{"line":186,"column":26}},"107":{"start":{"line":197,"column":0},"end":{"line":237,"column":1}},"108":{"start":{"line":198,"column":4},"end":{"line":198,"column":57}},"109":{"start":{"line":199,"column":4},"end":{"line":199,"column":28}},"110":{"start":{"line":200,"column":4},"end":{"line":200,"column":19}},"111":{"start":{"line":201,"column":4},"end":{"line":203,"column":5}},"112":{"start":{"line":202,"column":8},"end":{"line":202,"column":31}},"113":{"start":{"line":204,"column":4},"end":{"line":209,"column":5}},"114":{"start":{"line":205,"column":8},"end":{"line":205,"column":61}},"115":{"start":{"line":206,"column":8},"end":{"line":208,"column":9}},"116":{"start":{"line":207,"column":12},"end":{"line":207,"column":39}},"117":{"start":{"line":210,"column":4},"end":{"line":235,"column":7}},"118":{"start":{"line":211,"column":8},"end":{"line":211,"column":62}},"119":{"start":{"line":212,"column":8},"end":{"line":223,"column":9}},"120":{"start":{"line":213,"column":12},"end":{"line":222,"column":13}},"121":{"start":{"line":214,"column":16},"end":{"line":216,"column":17}},"122":{"start":{"line":215,"column":20},"end":{"line":215,"column":27}},"123":{"start":{"line":219,"column":16},"end":{"line":221,"column":17}},"124":{"start":{"line":220,"column":20},"end":{"line":220,"column":27}},"125":{"start":{"line":224,"column":8},"end":{"line":234,"column":9}},"126":{"start":{"line":225,"column":12},"end":{"line":227,"column":13}},"127":{"start":{"line":226,"column":16},"end":{"line":226,"column":38}},"128":{"start":{"line":228,"column":12},"end":{"line":228,"column":72}},"129":{"start":{"line":231,"column":12},"end":{"line":233,"column":13}},"130":{"start":{"line":232,"column":16},"end":{"line":232,"column":38}},"131":{"start":{"line":236,"column":4},"end":{"line":236,"column":17}},"132":{"start":{"line":243,"column":0},"end":{"line":251,"column":1}},"133":{"start":{"line":244,"column":4},"end":{"line":246,"column":5}},"134":{"start":{"line":245,"column":8},"end":{"line":245,"column":49}},"135":{"start":{"line":247,"column":4},"end":{"line":249,"column":5}},"136":{"start":{"line":248,"column":8},"end":{"line":248,"column":64}},"137":{"start":{"line":250,"column":4},"end":{"line":250,"column":19}},"138":{"start":{"line":257,"column":0},"end":{"line":262,"column":1}},"139":{"start":{"line":258,"column":4},"end":{"line":260,"column":5}},"140":{"start":{"line":259,"column":8},"end":{"line":259,"column":78}},"141":{"start":{"line":261,"column":4},"end":{"line":261,"column":19}},"142":{"start":{"line":263,"column":0},"end":{"line":274,"column":1}},"143":{"start":{"line":264,"column":4},"end":{"line":264,"column":59}},"144":{"start":{"line":264,"column":36},"end":{"line":264,"column":57}},"145":{"start":{"line":265,"column":4},"end":{"line":265,"column":31}},"146":{"start":{"line":266,"column":4},"end":{"line":272,"column":7}},"147":{"start":{"line":267,"column":8},"end":{"line":270,"column":9}},"148":{"start":{"line":268,"column":12},"end":{"line":268,"column":26}},"149":{"start":{"line":269,"column":12},"end":{"line":269,"column":25}},"150":{"start":{"line":271,"column":8},"end":{"line":271,"column":25}},"151":{"start":{"line":273,"column":4},"end":{"line":273,"column":18}},"152":{"start":{"line":275,"column":0},"end":{"line":275,"column":54}},"153":{"start":{"line":276,"column":0},"end":{"line":278,"column":1}},"154":{"start":{"line":277,"column":4},"end":{"line":277,"column":53}},"155":{"start":{"line":279,"column":0},"end":{"line":279,"column":28}},"156":{"start":{"line":280,"column":0},"end":{"line":288,"column":1}},"157":{"start":{"line":281,"column":4},"end":{"line":286,"column":5}},"158":{"start":{"line":282,"column":8},"end":{"line":284,"column":9}},"159":{"start":{"line":283,"column":12},"end":{"line":283,"column":30}},"160":{"start":{"line":285,"column":8},"end":{"line":285,"column":18}},"161":{"start":{"line":287,"column":4},"end":{"line":287,"column":19}},"162":{"start":{"line":289,"column":0},"end":{"line":289,"column":38}},"163":{"start":{"line":290,"column":0},"end":{"line":306,"column":1}},"164":{"start":{"line":291,"column":4},"end":{"line":293,"column":5}},"165":{"start":{"line":292,"column":8},"end":{"line":292,"column":20}},"166":{"start":{"line":294,"column":4},"end":{"line":305,"column":5}},"167":{"start":{"line":295,"column":8},"end":{"line":295,"column":20}},"168":{"start":{"line":298,"column":8},"end":{"line":298,"column":34}},"169":{"start":{"line":299,"column":8},"end":{"line":304,"column":9}},"170":{"start":{"line":300,"column":12},"end":{"line":300,"column":27}},"171":{"start":{"line":303,"column":12},"end":{"line":303,"column":39}},"172":{"start":{"line":307,"column":0},"end":{"line":307,"column":70}},"173":{"start":{"line":314,"column":0},"end":{"line":322,"column":1}},"174":{"start":{"line":315,"column":4},"end":{"line":315,"column":41}},"175":{"start":{"line":316,"column":4},"end":{"line":316,"column":22}},"176":{"start":{"line":317,"column":4},"end":{"line":317,"column":39}},"177":{"start":{"line":318,"column":4},"end":{"line":321,"column":6}},"178":{"start":{"line":323,"column":0},"end":{"line":323,"column":24}},"179":{"start":{"line":327,"column":0},"end":{"line":346,"column":1}},"180":{"start":{"line":328,"column":4},"end":{"line":328,"column":27}},"181":{"start":{"line":329,"column":4},"end":{"line":329,"column":18}},"182":{"start":{"line":331,"column":4},"end":{"line":345,"column":7}},"183":{"start":{"line":332,"column":8},"end":{"line":343,"column":10}},"184":{"start":{"line":333,"column":12},"end":{"line":336,"column":13}},"185":{"start":{"line":334,"column":16},"end":{"line":334,"column":30}},"186":{"start":{"line":335,"column":16},"end":{"line":335,"column":23}},"187":{"start":{"line":337,"column":12},"end":{"line":342,"column":23}},"188":{"start":{"line":340,"column":16},"end":{"line":340,"column":34}},"189":{"start":{"line":341,"column":16},"end":{"line":341,"column":23}},"190":{"start":{"line":344,"column":8},"end":{"line":344,"column":15}},"191":{"start":{"line":347,"column":0},"end":{"line":347,"column":34}},"192":{"start":{"line":348,"column":0},"end":{"line":358,"column":1}},"193":{"start":{"line":349,"column":4},"end":{"line":349,"column":51}},"194":{"start":{"line":349,"column":31},"end":{"line":349,"column":49}},"195":{"start":{"line":350,"column":4},"end":{"line":357,"column":7}},"196":{"start":{"line":351,"column":8},"end":{"line":356,"column":11}},"197":{"start":{"line":352,"column":12},"end":{"line":354,"column":13}},"198":{"start":{"line":353,"column":16},"end":{"line":353,"column":37}},"199":{"start":{"line":355,"column":12},"end":{"line":355,"column":30}},"200":{"start":{"line":359,"column":0},"end":{"line":359,"column":28}},"201":{"start":{"line":360,"column":0},"end":{"line":376,"column":1}},"202":{"start":{"line":361,"column":4},"end":{"line":361,"column":51}},"203":{"start":{"line":361,"column":31},"end":{"line":361,"column":49}},"204":{"start":{"line":362,"column":4},"end":{"line":362,"column":28}},"205":{"start":{"line":363,"column":4},"end":{"line":368,"column":5}},"206":{"start":{"line":364,"column":8},"end":{"line":364,"column":58}},"207":{"start":{"line":367,"column":8},"end":{"line":367,"column":70}},"208":{"start":{"line":369,"column":4},"end":{"line":374,"column":5}},"209":{"start":{"line":370,"column":8},"end":{"line":370,"column":41}},"210":{"start":{"line":373,"column":8},"end":{"line":373,"column":78}},"211":{"start":{"line":375,"column":4},"end":{"line":375,"column":18}},"212":{"start":{"line":377,"column":0},"end":{"line":377,"column":68}},"213":{"start":{"line":378,"column":0},"end":{"line":380,"column":1}},"214":{"start":{"line":379,"column":4},"end":{"line":379,"column":29}},"215":{"start":{"line":381,"column":0},"end":{"line":381,"column":38}},"216":{"start":{"line":382,"column":0},"end":{"line":384,"column":1}},"217":{"start":{"line":383,"column":4},"end":{"line":383,"column":62}},"218":{"start":{"line":385,"column":0},"end":{"line":385,"column":46}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"2":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":13},"end":{"line":13,"column":40}},{"start":{"line":13,"column":44},"end":{"line":13,"column":74}},{"start":{"line":14,"column":9},"end":{"line":14,"column":34}},{"start":{"line":14,"column":38},"end":{"line":14,"column":66}}]},"3":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"4":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"6":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"7":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":21}},{"start":{"line":35,"column":25},"end":{"line":35,"column":48}}]},"8":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":44,"column":4}},{"start":{"line":44,"column":4},"end":{"line":44,"column":4}}]},"9":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":4}},{"start":{"line":48,"column":4},"end":{"line":48,"column":4}}]},"10":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"11":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":36}},{"start":{"line":91,"column":40},"end":{"line":91,"column":71}}]},"12":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"13":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":46}},{"start":{"line":95,"column":8},"end":{"line":95,"column":76}}]},"14":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":4}},{"start":{"line":102,"column":4},"end":{"line":102,"column":4}}]},"15":{"line":118,"type":"cond-expr","locations":[{"start":{"line":118,"column":39},"end":{"line":118,"column":46}},{"start":{"line":118,"column":49},"end":{"line":118,"column":50}}]},"16":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":4}},{"start":{"line":128,"column":4},"end":{"line":128,"column":4}}]},"17":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":4},"end":{"line":143,"column":4}},{"start":{"line":143,"column":4},"end":{"line":143,"column":4}}]},"18":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":4},"end":{"line":144,"column":4}},{"start":{"line":144,"column":4},"end":{"line":144,"column":4}}]},"19":{"line":145,"type":"cond-expr","locations":[{"start":{"line":145,"column":23},"end":{"line":145,"column":35}},{"start":{"line":145,"column":38},"end":{"line":145,"column":40}}]},"20":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":8},"end":{"line":150,"column":8}},{"start":{"line":150,"column":8},"end":{"line":150,"column":8}}]},"21":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":4},"end":{"line":201,"column":4}},{"start":{"line":201,"column":4},"end":{"line":201,"column":4}}]},"22":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":4},"end":{"line":204,"column":4}},{"start":{"line":204,"column":4},"end":{"line":204,"column":4}}]},"23":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":8},"end":{"line":206,"column":8}},{"start":{"line":206,"column":8},"end":{"line":206,"column":8}}]},"24":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":8},"end":{"line":212,"column":8}},{"start":{"line":212,"column":8},"end":{"line":212,"column":8}}]},"25":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":12},"end":{"line":213,"column":12}},{"start":{"line":213,"column":12},"end":{"line":213,"column":12}}]},"26":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":16},"end":{"line":214,"column":16}},{"start":{"line":214,"column":16},"end":{"line":214,"column":16}}]},"27":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":16},"end":{"line":219,"column":16}},{"start":{"line":219,"column":16},"end":{"line":219,"column":16}}]},"28":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":8}},{"start":{"line":224,"column":8},"end":{"line":224,"column":8}}]},"29":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":12},"end":{"line":225,"column":12}},{"start":{"line":225,"column":12},"end":{"line":225,"column":12}}]},"30":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":12},"end":{"line":231,"column":12}},{"start":{"line":231,"column":12},"end":{"line":231,"column":12}}]},"31":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":4},"end":{"line":244,"column":4}},{"start":{"line":244,"column":4},"end":{"line":244,"column":4}}]},"32":{"line":244,"type":"binary-expr","locations":[{"start":{"line":244,"column":8},"end":{"line":244,"column":16}},{"start":{"line":244,"column":20},"end":{"line":244,"column":34}}]},"33":{"line":247,"type":"if","locations":[{"start":{"line":247,"column":4},"end":{"line":247,"column":4}},{"start":{"line":247,"column":4},"end":{"line":247,"column":4}}]},"34":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":4},"end":{"line":258,"column":4}},{"start":{"line":258,"column":4},"end":{"line":258,"column":4}}]},"35":{"line":258,"type":"binary-expr","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":31}},{"start":{"line":258,"column":35},"end":{"line":258,"column":66}}]},"36":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":4},"end":{"line":264,"column":4}},{"start":{"line":264,"column":4},"end":{"line":264,"column":4}}]},"37":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":8}},{"start":{"line":267,"column":8},"end":{"line":267,"column":8}}]},"38":{"line":277,"type":"binary-expr","locations":[{"start":{"line":277,"column":11},"end":{"line":277,"column":27}},{"start":{"line":277,"column":31},"end":{"line":277,"column":52}}]},"39":{"line":281,"type":"if","locations":[{"start":{"line":281,"column":4},"end":{"line":281,"column":4}},{"start":{"line":281,"column":4},"end":{"line":281,"column":4}}]},"40":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":8},"end":{"line":282,"column":8}},{"start":{"line":282,"column":8},"end":{"line":282,"column":8}}]},"41":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":4},"end":{"line":291,"column":4}},{"start":{"line":291,"column":4},"end":{"line":291,"column":4}}]},"42":{"line":291,"type":"binary-expr","locations":[{"start":{"line":291,"column":8},"end":{"line":291,"column":13}},{"start":{"line":291,"column":17},"end":{"line":291,"column":30}}]},"43":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":4},"end":{"line":294,"column":4}},{"start":{"line":294,"column":4},"end":{"line":294,"column":4}}]},"44":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":8},"end":{"line":299,"column":8}},{"start":{"line":299,"column":8},"end":{"line":299,"column":8}}]},"45":{"line":299,"type":"binary-expr","locations":[{"start":{"line":299,"column":12},"end":{"line":299,"column":38}},{"start":{"line":299,"column":42},"end":{"line":299,"column":89}}]},"46":{"line":333,"type":"if","locations":[{"start":{"line":333,"column":12},"end":{"line":333,"column":12}},{"start":{"line":333,"column":12},"end":{"line":333,"column":12}}]},"47":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":4},"end":{"line":349,"column":4}},{"start":{"line":349,"column":4},"end":{"line":349,"column":4}}]},"48":{"line":352,"type":"if","locations":[{"start":{"line":352,"column":12},"end":{"line":352,"column":12}},{"start":{"line":352,"column":12},"end":{"line":352,"column":12}}]},"49":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":4},"end":{"line":361,"column":4}},{"start":{"line":361,"column":4},"end":{"line":361,"column":4}}]},"50":{"line":383,"type":"binary-expr","locations":[{"start":{"line":383,"column":12},"end":{"line":383,"column":28}},{"start":{"line":383,"column":32},"end":{"line":383,"column":60}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","\"use strict\";","var path = require('path');","var fs = require('fs');","var os = require('os');","var util = require('util');","var _ = require('lodash');","var es6_promise_1 = require('es6-promise');","exports.grunt = require('grunt');","exports.eol = exports.grunt.util.linefeed;","function newLineIsRedundantForTsc(newLineParameter, operatingSystem) {","    if (operatingSystem === void 0) { operatingSystem = os; }","    return ((newLineParameter === 'CRLF' && operatingSystem.EOL === '\\r\\n') ||","        (newLineParameter === 'LF' && operatingSystem.EOL === '\\n'));","}","exports.newLineIsRedundantForTsc = newLineIsRedundantForTsc;","function newLineActualAsParameter(actualNewLineChars) {","    if (actualNewLineChars) {","        return actualNewLineChars.replace(/\\n/g, 'LF').replace(/\\r/g, 'CR');","    }","    return '';","}","exports.newLineActualAsParameter = newLineActualAsParameter;","function newLineParameterAsActual(parameterNewLineChars) {","    if (parameterNewLineChars) {","        return parameterNewLineChars.replace(/LF/g, '\\n').replace(/CR/g, '\\r');","    }","    return '';","}","exports.newLineParameterAsActual = newLineParameterAsActual;","// Converts \"C:\\boo\" , \"C:\\boo\\foo.ts\" => \"./foo.ts\"; Works on unix as well.","function makeRelativePath(folderpath, filename, forceRelative) {","    if (forceRelative === void 0) { forceRelative = false; }","    var relativePath = path.relative(folderpath, filename).split('\\\\').join('/');","    if (forceRelative && relativePath[0] !== '.') {","        relativePath = './' + relativePath;","    }","    return relativePath;","}","exports.makeRelativePath = makeRelativePath;","// Finds the longest common section of a collection of strings.","// Simply sorting and comparing first and last http://stackoverflow.com/a/1917041/390330","function sharedStart(array) {","    if (array.length === 0) {","        throw 'Cannot find common root of empty array.';","    }","    var A = array.slice(0).sort(), firstWord = A[0], lastWord = A[A.length - 1];","    if (firstWord === lastWord) {","        return firstWord;","    }","    else {","        var i = -1;","        do {","            i += 1;","            var firstWordChar = firstWord.charAt(i);","            var lastWordChar = lastWord.charAt(i);","        } while (firstWordChar === lastWordChar);","        return firstWord.substring(0, i);","    }","}","// Finds the common system path between paths","// Explanation of how is inline","function findCommonPath(paths, pathSeperator) {","    // Now for \"C:\\u\\starter\" \"C:\\u\\started\" => \"C:\\u\\starte\"","    var largetStartSegement = sharedStart(paths);","    // For \"C:\\u\\starte\" => C:\\u\\","    var ending = largetStartSegement.lastIndexOf(pathSeperator);","    return largetStartSegement.substr(0, ending);","}","exports.findCommonPath = findCommonPath;","/**"," * Returns the result of an array inserted into another, starting at the given index."," */","function insertArrayAt(array, index, arrayToInsert) {","    var updated = array.slice(0);","    var spliceAt = [index, 0];","    Array.prototype.splice.apply(updated, spliceAt.concat(arrayToInsert));","    return updated;","}","exports.insertArrayAt = insertArrayAt;","/**"," * Compares the end of the string with the given suffix for literal equality."," *"," * @returns {boolean} whether the string ends with the suffix literally."," */","function endsWith(str, suffix) {","    return str.indexOf(suffix, str.length - suffix.length) !== -1;","}","exports.endsWith = endsWith;","function stripQuotesIfQuoted(possiblyQuotedString) {","    if (!possiblyQuotedString.length || possiblyQuotedString.length < 2) {","        return possiblyQuotedString;","    }","    if (possiblyQuotedString.charAt(0) === '\"' &&","        possiblyQuotedString.charAt(possiblyQuotedString.length - 1) === '\"') {","        return possiblyQuotedString.substr(1, possiblyQuotedString.length - 2);","    }","    return possiblyQuotedString;","}","exports.stripQuotesIfQuoted = stripQuotesIfQuoted;","function isJavaScriptFile(filePath) {","    if (filePath.toLowerCase) {","        var normalizedFile = path.resolve(stripQuotesIfQuoted(filePath)).toLowerCase();","        return endsWith(normalizedFile, '.js');","    }","    return false;","}","exports.isJavaScriptFile = isJavaScriptFile;","/** function for formatting strings"," * ('{0} says {1}','la','ba' ) => 'la says ba'"," */","function format(str) {","    var args = [];","    for (var _i = 1; _i < arguments.length; _i++) {","        args[_i - 1] = arguments[_i];","    }","    return str.replace(/{(\\d+)}/g, function (m, i) {","        return args[i] !== undefined ? args[i] : m;","    });","}","exports.format = format;","/**"," * Get a random hex value"," *"," * @returns {string} hex string"," */","function getRandomHex(length) {","    if (length === void 0) { length = 16; }","    var name = '';","    do {","        name += Math.round(Math.random() * Math.pow(16, 8)).toString(16);","    } while (name.length < length);","    return name.substr(0, length);","}","exports.getRandomHex = getRandomHex;","/**"," * Get a unique temp file"," *"," * @returns {string} unique-ish path to file in given directory."," * @throws when it cannot create a temp file in the specified directory"," */","function getTempFile(prefix, dir, extension) {","    if (dir === void 0) { dir = ''; }","    if (extension === void 0) { extension = '.tmp.txt'; }","    prefix = (prefix ? prefix + '-' : '');","    var attempts = 100;","    do {","        var name = prefix + getRandomHex(8) + extension;","        var dest = path.join(dir, name);","        if (!fs.existsSync(dest)) {","            return dest;","        }","        attempts--;","    } while (attempts > 0);","    throw 'Cannot create temp file in ' + dir;","}","exports.getTempFile = getTempFile;","/////////////////////////////////////////////////////////////////////////","// From https://github.com/centi/node-dirutils/blob/master/index.js","// Slightly modified. See BAS","////////////////////////////////////////////////////////////////////////","/**"," * Get all files from a directory and all its subdirectories."," * @param {String} dirPath A path to a directory"," * @param {RegExp|Function} exclude Defines which files should be excluded.","     Can be a RegExp (whole filepath is tested) or a Function which will get the filepath","     as an argument and should return true (exclude file) or false (do not exclude)."," * @returns {Array} An array of files"," */","function getFiles(dirPath, exclude) {","    return _getAll(dirPath, exclude, true);","}","exports.getFiles = getFiles;",";","/**"," * Get all directories from a directory and all its subdirectories."," * @param {String} dirPath A path to a directory"," * @param {RegExp|Function} exclude Defines which directories should be excluded.","    Can be a RegExp (whole dirpath is tested) or a Function which will get the dirpath","    as an argument and should return true (exclude dir) or false (do not exclude)."," * @returns {Array} An array of directories"," */","function getDirs(dirPath, exclude) {","    return _getAll(dirPath, exclude, false);","}","exports.getDirs = getDirs;",";","/**"," * Get all files or directories from a directory and all its subdirectories."," * @param {String} dirPath A path to a directory"," * @param {RegExp|Function} exclude Defines which files or directories should be excluded.","    Can be a RegExp (whole path is tested) or a Function which will get the path","    as an argument and should return true (exclude) or false (do not exclude)."," * @param {Boolean} getFiles Whether to get files (true) or directories (false)."," * @returns {Array} An array of files or directories"," */","function _getAll(dirPath, exclude, getFiles) {","    var _checkDirResult = _checkDirPathArgument(dirPath);","    var _checkExcludeResult;","    var items = [];","    if (util.isError(_checkDirResult)) {","        return _checkDirResult;","    }","    if (exclude) {","        _checkExcludeResult = _checkExcludeArgument(exclude);","        if (util.isError(_checkExcludeResult)) {","            return _checkExcludeResult;","        }","    }","    fs.readdirSync(dirPath).forEach(function (_item) {","        var _itempath = path.normalize(dirPath + '/' + _item);","        if (exclude) {","            if (util.isRegExp(exclude)) {","                if (exclude.test(_itempath)) {","                    return;","                }","            }","            else {","                if (exclude(_itempath)) {","                    return;","                }","            }","        }","        if (fs.statSync(_itempath).isDirectory()) {","            if (!getFiles) {","                items.push(_itempath);","            }","            items = items.concat(_getAll(_itempath, exclude, getFiles));","        }","        else {","            if (getFiles === true) {","                items.push(_itempath);","            }","        }","    });","    return items;","}","/**"," * Check if the dirPath is provided and if it does exist on the filesystem."," * @param {String} dirPath A path to the directory"," * @returns {String|Error} Returns the dirPath if everything is allright or an Error otherwise."," */","function _checkDirPathArgument(dirPath) {","    if (!dirPath || dirPath === '') {","        return new Error('Dir path is missing!');","    }","    if (!fs.existsSync(dirPath)) {","        return new Error('Dir path does not exist: ' + dirPath);","    }","    return dirPath;","}","/**"," * Check if the exclude argument is a RegExp or a Function."," * @param {RegExp|Function} exclude A RegExp or a Function which returns true/false."," * @returns {String|Error} Returns the exclude argument if everything is allright or an Error otherwise."," */","function _checkExcludeArgument(exclude) {","    if (!util.isRegExp(exclude) && typeof (exclude) !== 'function') {","        return new Error('Argument exclude should be a RegExp or a Function');","    }","    return exclude;","}","function firstElementWithValue(elements, defaultResult) {","    if (defaultResult === void 0) { defaultResult = null; }","    var result = defaultResult;","    _.each(elements, function (item) {","        if (hasValue(item)) {","            result = item;","            return false; // break out of lodash loop","        }","        return undefined;","    });","    return result;","}","exports.firstElementWithValue = firstElementWithValue;","function hasValue(thing) {","    return !_.isNull(thing) && !_.isUndefined(thing);","}","exports.hasValue = hasValue;","function getOrGetFirst(getFrom) {","    if (_.isArray(getFrom)) {","        if (getFrom.length > 0) {","            return getFrom[0];","        }","        return '';","    }","    return getFrom;","}","exports.getOrGetFirst = getOrGetFirst;","function enclosePathInQuotesIfRequired(path) {","    if (!path || !path.indexOf) {","        return path;","    }","    if (path.indexOf(' ') === -1) {","        return path;","    }","    else {","        var newPath = path.trim();","        if (newPath.indexOf('\"') === 0 && newPath.lastIndexOf('\"') === newPath.length - 1) {","            return newPath;","        }","        else {","            return '\"' + newPath + '\"';","        }","    }","}","exports.enclosePathInQuotesIfRequired = enclosePathInQuotesIfRequired;","/**"," * Time a function and print the result."," *"," * @param makeIt the code to time"," * @returns the result of the block of code"," */","function timeIt(makeIt) {","    var starttime = new Date().getTime();","    var it = makeIt();","    var endtime = new Date().getTime();","    return {","        it: it,","        time: endtime - starttime","    };","}","exports.timeIt = timeIt;","/**"," * Run a map operation async in series (simplified)"," */","function asyncSeries(items, callPerItem) {","    items = items.slice(0);","    var memo = [];","    // Run one at a time","    return new es6_promise_1.Promise(function (resolve, reject) {","        var next = function () {","            if (items.length === 0) {","                resolve(memo);","                return;","            }","            es6_promise_1.Promise","                .cast(callPerItem(items.shift()))","                .then(function (result) {","                memo.push(result);","                next();","            }, reject);","        };","        next();","    });","}","exports.asyncSeries = asyncSeries;","function copyFile(srcFile, destFile, callback, encoding) {","    if (encoding === void 0) { encoding = 'utf8'; }","    fs.readFile(srcFile, encoding, function (err, data) {","        fs.writeFile(destFile, data, encoding, function (err) {","            if (err) {","                return callback(err);","            }","            return callback();","        });","    });","}","exports.copyFile = copyFile;","function readAndParseJSONFromFileSync(fileName, encoding) {","    if (encoding === void 0) { encoding = 'utf8'; }","    var textContent, result;","    try {","        textContent = fs.readFileSync(fileName, encoding);","    }","    catch (ex) {","        throw new Error(\"Error reading file \" + fileName + \": \" + ex);","    }","    try {","        result = JSON.parse(textContent);","    }","    catch (ex) {","        throw new Error(\"Error parsing JSON in file \" + fileName + \": \" + ex);","    }","    return result;","}","exports.readAndParseJSONFromFileSync = readAndParseJSONFromFileSync;","function shouldCompile(options) {","    return !!options.compile;","}","exports.shouldCompile = shouldCompile;","function shouldPassThrough(options) {","    return (options.tsconfig && options.tsconfig.passThrough);","}","exports.shouldPassThrough = shouldPassThrough;","//# sourceMappingURL=utils.js.map"],"l":{"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"16":1,"17":1,"18":0,"19":0,"21":0,"23":1,"24":1,"25":0,"26":0,"28":0,"30":1,"32":1,"33":0,"34":0,"35":0,"36":0,"38":0,"40":1,"43":1,"44":0,"45":0,"47":0,"48":0,"49":0,"52":0,"53":0,"54":0,"55":0,"56":0,"58":0,"63":1,"65":0,"67":0,"68":0,"70":1,"74":1,"75":0,"76":0,"77":0,"78":0,"80":1,"86":1,"87":0,"89":1,"90":1,"91":0,"92":0,"94":0,"96":0,"98":0,"100":1,"101":1,"102":0,"103":0,"104":0,"106":0,"108":1,"112":1,"113":0,"114":0,"115":0,"117":0,"118":0,"121":1,"127":1,"128":0,"129":0,"130":0,"131":0,"133":0,"135":1,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"153":0,"155":0,"157":1,"170":1,"171":0,"173":1,"183":1,"184":0,"186":1,"197":1,"198":0,"199":0,"200":0,"201":0,"202":0,"204":0,"205":0,"206":0,"207":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"219":0,"220":0,"224":0,"225":0,"226":0,"228":0,"231":0,"232":0,"236":0,"243":1,"244":0,"245":0,"247":0,"248":0,"250":0,"257":1,"258":0,"259":0,"261":0,"263":1,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"271":0,"273":0,"275":1,"276":1,"277":0,"279":1,"280":1,"281":0,"282":0,"283":0,"285":0,"287":0,"289":1,"290":1,"291":0,"292":0,"294":0,"295":0,"298":0,"299":0,"300":0,"303":0,"307":1,"314":1,"315":0,"316":0,"317":0,"318":0,"323":1,"327":1,"328":0,"329":0,"331":0,"332":0,"333":0,"334":0,"335":0,"337":0,"340":0,"341":0,"344":0,"347":1,"348":1,"349":0,"350":0,"351":0,"352":0,"353":0,"355":0,"359":1,"360":1,"361":0,"362":0,"363":0,"364":0,"367":0,"369":0,"370":0,"373":0,"375":0,"377":1,"378":1,"379":0,"381":1,"382":1,"383":0,"385":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/compile.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/compile.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":1,"36":0,"37":1,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":1,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"(anonymous_1)","line":16,"loc":{"start":{"line":16,"column":25},"end":{"line":16,"column":55}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":64}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":11},"end":{"line":21,"column":42}}},"4":{"name":"getChangedFiles","line":36,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":44}}},"5":{"name":"(anonymous_5)","line":38,"loc":{"start":{"line":38,"column":21},"end":{"line":38,"column":37}}},"6":{"name":"resetChangedFiles","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":46}}},"7":{"name":"clearCache","line":46,"loc":{"start":{"line":46,"column":0},"end":{"line":46,"column":32}}},"8":{"name":"resolveTypeScriptBinPath","line":53,"loc":{"start":{"line":53,"column":0},"end":{"line":53,"column":36}}},"9":{"name":"getTsc","line":63,"loc":{"start":{"line":63,"column":0},"end":{"line":63,"column":25}}},"10":{"name":"compileResultMeansFastCacheShouldBeRefreshed","line":66,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":71}}},"11":{"name":"compileAllFiles","line":71,"loc":{"start":{"line":71,"column":0},"end":{"line":71,"column":51}}},"12":{"name":"(anonymous_12)","line":74,"loc":{"start":{"line":74,"column":35},"end":{"line":74,"column":51}}},"13":{"name":"(anonymous_13)","line":98,"loc":{"start":{"line":98,"column":49},"end":{"line":98,"column":68}}},"14":{"name":"(anonymous_14)","line":129,"loc":{"start":{"line":129,"column":25},"end":{"line":129,"column":41}}},"15":{"name":"getTscVersion","line":330,"loc":{"start":{"line":330,"column":4},"end":{"line":330,"column":36}}},"16":{"name":"(anonymous_16)","line":367,"loc":{"start":{"line":367,"column":46},"end":{"line":367,"column":64}}},"17":{"name":"(anonymous_17)","line":375,"loc":{"start":{"line":375,"column":7},"end":{"line":375,"column":22}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":23}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":26}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":36}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":43}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"9":{"start":{"line":15,"column":0},"end":{"line":15,"column":16}},"10":{"start":{"line":16,"column":0},"end":{"line":30,"column":2}},"11":{"start":{"line":17,"column":4},"end":{"line":29,"column":7}},"12":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"13":{"start":{"line":22,"column":12},"end":{"line":26,"column":14}},"14":{"start":{"line":27,"column":12},"end":{"line":27,"column":25}},"15":{"start":{"line":35,"column":0},"end":{"line":35,"column":26}},"16":{"start":{"line":36,"column":0},"end":{"line":42,"column":1}},"17":{"start":{"line":37,"column":4},"end":{"line":37,"column":58}},"18":{"start":{"line":38,"column":4},"end":{"line":40,"column":7}},"19":{"start":{"line":39,"column":8},"end":{"line":39,"column":71}},"20":{"start":{"line":41,"column":4},"end":{"line":41,"column":17}},"21":{"start":{"line":43,"column":0},"end":{"line":45,"column":1}},"22":{"start":{"line":44,"column":4},"end":{"line":44,"column":48}},"23":{"start":{"line":46,"column":0},"end":{"line":49,"column":1}},"24":{"start":{"line":47,"column":4},"end":{"line":47,"column":33}},"25":{"start":{"line":48,"column":4},"end":{"line":48,"column":40}},"26":{"start":{"line":53,"column":0},"end":{"line":62,"column":1}},"27":{"start":{"line":54,"column":4},"end":{"line":54,"column":73}},"28":{"start":{"line":55,"column":4},"end":{"line":55,"column":53}},"29":{"start":{"line":56,"column":4},"end":{"line":56,"column":64}},"30":{"start":{"line":57,"column":4},"end":{"line":60,"column":5}},"31":{"start":{"line":59,"column":8},"end":{"line":59,"column":43}},"32":{"start":{"line":61,"column":4},"end":{"line":61,"column":38}},"33":{"start":{"line":63,"column":0},"end":{"line":65,"column":1}},"34":{"start":{"line":64,"column":4},"end":{"line":64,"column":37}},"35":{"start":{"line":66,"column":0},"end":{"line":69,"column":1}},"36":{"start":{"line":67,"column":4},"end":{"line":68,"column":81}},"37":{"start":{"line":70,"column":0},"end":{"line":70,"column":100}},"38":{"start":{"line":71,"column":0},"end":{"line":379,"column":1}},"39":{"start":{"line":72,"column":4},"end":{"line":72,"column":42}},"40":{"start":{"line":74,"column":4},"end":{"line":74,"column":69}},"41":{"start":{"line":74,"column":53},"end":{"line":74,"column":65}},"42":{"start":{"line":75,"column":4},"end":{"line":75,"column":25}},"43":{"start":{"line":76,"column":4},"end":{"line":82,"column":5}},"44":{"start":{"line":78,"column":8},"end":{"line":81,"column":9}},"45":{"start":{"line":80,"column":12},"end":{"line":80,"column":43}},"46":{"start":{"line":83,"column":4},"end":{"line":108,"column":5}},"47":{"start":{"line":84,"column":8},"end":{"line":107,"column":9}},"48":{"start":{"line":85,"column":12},"end":{"line":85,"column":124}},"49":{"start":{"line":88,"column":12},"end":{"line":88,"column":66}},"50":{"start":{"line":89,"column":12},"end":{"line":106,"column":13}},"51":{"start":{"line":90,"column":16},"end":{"line":90,"column":33}},"52":{"start":{"line":92,"column":16},"end":{"line":94,"column":17}},"53":{"start":{"line":93,"column":20},"end":{"line":93,"column":71}},"54":{"start":{"line":97,"column":16},"end":{"line":97,"column":99}},"55":{"start":{"line":98,"column":16},"end":{"line":105,"column":19}},"56":{"start":{"line":99,"column":20},"end":{"line":103,"column":22}},"57":{"start":{"line":104,"column":20},"end":{"line":104,"column":33}},"58":{"start":{"line":113,"column":4},"end":{"line":113,"column":36}},"59":{"start":{"line":114,"column":4},"end":{"line":114,"column":24}},"60":{"start":{"line":115,"column":4},"end":{"line":121,"column":5}},"61":{"start":{"line":116,"column":8},"end":{"line":116,"column":66}},"62":{"start":{"line":117,"column":8},"end":{"line":119,"column":9}},"63":{"start":{"line":118,"column":12},"end":{"line":118,"column":129}},"64":{"start":{"line":120,"column":8},"end":{"line":120,"column":36}},"65":{"start":{"line":124,"column":4},"end":{"line":127,"column":5}},"66":{"start":{"line":125,"column":8},"end":{"line":125,"column":60}},"67":{"start":{"line":126,"column":8},"end":{"line":126,"column":32}},"68":{"start":{"line":129,"column":4},"end":{"line":129,"column":89}},"69":{"start":{"line":129,"column":43},"end":{"line":129,"column":85}},"70":{"start":{"line":130,"column":4},"end":{"line":130,"column":52}},"71":{"start":{"line":131,"column":4},"end":{"line":131,"column":36}},"72":{"start":{"line":132,"column":4},"end":{"line":144,"column":5}},"73":{"start":{"line":134,"column":8},"end":{"line":134,"column":85}},"74":{"start":{"line":135,"column":8},"end":{"line":135,"column":31}},"75":{"start":{"line":136,"column":8},"end":{"line":136,"column":24}},"76":{"start":{"line":140,"column":8},"end":{"line":140,"column":49}},"77":{"start":{"line":141,"column":8},"end":{"line":141,"column":30}},"78":{"start":{"line":142,"column":8},"end":{"line":142,"column":44}},"79":{"start":{"line":143,"column":8},"end":{"line":143,"column":62}},"80":{"start":{"line":145,"column":4},"end":{"line":326,"column":5}},"81":{"start":{"line":146,"column":8},"end":{"line":146,"column":50}},"82":{"start":{"line":149,"column":8},"end":{"line":151,"column":9}},"83":{"start":{"line":150,"column":12},"end":{"line":150,"column":37}},"84":{"start":{"line":152,"column":8},"end":{"line":154,"column":9}},"85":{"start":{"line":153,"column":12},"end":{"line":153,"column":49}},"86":{"start":{"line":155,"column":8},"end":{"line":157,"column":9}},"87":{"start":{"line":156,"column":12},"end":{"line":156,"column":39}},"88":{"start":{"line":158,"column":8},"end":{"line":160,"column":9}},"89":{"start":{"line":159,"column":12},"end":{"line":159,"column":42}},"90":{"start":{"line":161,"column":8},"end":{"line":163,"column":9}},"91":{"start":{"line":162,"column":12},"end":{"line":162,"column":41}},"92":{"start":{"line":164,"column":8},"end":{"line":166,"column":9}},"93":{"start":{"line":165,"column":12},"end":{"line":165,"column":37}},"94":{"start":{"line":167,"column":8},"end":{"line":169,"column":9}},"95":{"start":{"line":168,"column":12},"end":{"line":168,"column":41}},"96":{"start":{"line":170,"column":8},"end":{"line":172,"column":9}},"97":{"start":{"line":171,"column":12},"end":{"line":171,"column":46}},"98":{"start":{"line":173,"column":8},"end":{"line":175,"column":9}},"99":{"start":{"line":174,"column":12},"end":{"line":174,"column":58}},"100":{"start":{"line":176,"column":8},"end":{"line":178,"column":9}},"101":{"start":{"line":177,"column":12},"end":{"line":177,"column":34}},"102":{"start":{"line":179,"column":8},"end":{"line":181,"column":9}},"103":{"start":{"line":180,"column":12},"end":{"line":180,"column":41}},"104":{"start":{"line":182,"column":8},"end":{"line":184,"column":9}},"105":{"start":{"line":183,"column":12},"end":{"line":183,"column":43}},"106":{"start":{"line":185,"column":8},"end":{"line":187,"column":9}},"107":{"start":{"line":186,"column":12},"end":{"line":186,"column":52}},"108":{"start":{"line":188,"column":8},"end":{"line":190,"column":9}},"109":{"start":{"line":189,"column":12},"end":{"line":189,"column":43}},"110":{"start":{"line":191,"column":8},"end":{"line":193,"column":9}},"111":{"start":{"line":192,"column":12},"end":{"line":192,"column":41}},"112":{"start":{"line":194,"column":8},"end":{"line":196,"column":9}},"113":{"start":{"line":195,"column":12},"end":{"line":195,"column":50}},"114":{"start":{"line":197,"column":8},"end":{"line":199,"column":9}},"115":{"start":{"line":198,"column":12},"end":{"line":198,"column":54}},"116":{"start":{"line":200,"column":8},"end":{"line":202,"column":9}},"117":{"start":{"line":201,"column":12},"end":{"line":201,"column":64}},"118":{"start":{"line":203,"column":8},"end":{"line":205,"column":9}},"119":{"start":{"line":204,"column":12},"end":{"line":204,"column":90}},"120":{"start":{"line":206,"column":8},"end":{"line":208,"column":9}},"121":{"start":{"line":207,"column":12},"end":{"line":207,"column":52}},"122":{"start":{"line":209,"column":8},"end":{"line":211,"column":9}},"123":{"start":{"line":210,"column":12},"end":{"line":210,"column":33}},"124":{"start":{"line":212,"column":8},"end":{"line":214,"column":9}},"125":{"start":{"line":213,"column":12},"end":{"line":213,"column":35}},"126":{"start":{"line":215,"column":8},"end":{"line":217,"column":9}},"127":{"start":{"line":216,"column":12},"end":{"line":216,"column":50}},"128":{"start":{"line":218,"column":8},"end":{"line":220,"column":9}},"129":{"start":{"line":219,"column":12},"end":{"line":219,"column":56}},"130":{"start":{"line":221,"column":8},"end":{"line":223,"column":9}},"131":{"start":{"line":222,"column":12},"end":{"line":222,"column":41}},"132":{"start":{"line":224,"column":8},"end":{"line":226,"column":9}},"133":{"start":{"line":225,"column":12},"end":{"line":225,"column":56}},"134":{"start":{"line":227,"column":8},"end":{"line":229,"column":9}},"135":{"start":{"line":228,"column":12},"end":{"line":228,"column":66}},"136":{"start":{"line":230,"column":8},"end":{"line":232,"column":9}},"137":{"start":{"line":231,"column":12},"end":{"line":231,"column":47}},"138":{"start":{"line":233,"column":8},"end":{"line":235,"column":9}},"139":{"start":{"line":234,"column":12},"end":{"line":234,"column":34}},"140":{"start":{"line":236,"column":8},"end":{"line":238,"column":9}},"141":{"start":{"line":237,"column":12},"end":{"line":237,"column":45}},"142":{"start":{"line":239,"column":8},"end":{"line":241,"column":9}},"143":{"start":{"line":240,"column":12},"end":{"line":240,"column":45}},"144":{"start":{"line":242,"column":8},"end":{"line":244,"column":9}},"145":{"start":{"line":243,"column":12},"end":{"line":243,"column":54}},"146":{"start":{"line":245,"column":8},"end":{"line":247,"column":9}},"147":{"start":{"line":246,"column":12},"end":{"line":246,"column":48}},"148":{"start":{"line":248,"column":8},"end":{"line":250,"column":9}},"149":{"start":{"line":249,"column":12},"end":{"line":249,"column":60}},"150":{"start":{"line":251,"column":8},"end":{"line":253,"column":9}},"151":{"start":{"line":252,"column":12},"end":{"line":252,"column":35}},"152":{"start":{"line":254,"column":8},"end":{"line":256,"column":9}},"153":{"start":{"line":255,"column":12},"end":{"line":255,"column":47}},"154":{"start":{"line":257,"column":8},"end":{"line":257,"column":60}},"155":{"start":{"line":258,"column":8},"end":{"line":266,"column":9}},"156":{"start":{"line":259,"column":12},"end":{"line":259,"column":73}},"157":{"start":{"line":260,"column":12},"end":{"line":265,"column":13}},"158":{"start":{"line":261,"column":16},"end":{"line":261,"column":58}},"159":{"start":{"line":264,"column":16},"end":{"line":264,"column":137}},"160":{"start":{"line":267,"column":8},"end":{"line":272,"column":9}},"161":{"start":{"line":268,"column":12},"end":{"line":270,"column":13}},"162":{"start":{"line":269,"column":16},"end":{"line":269,"column":103}},"163":{"start":{"line":271,"column":12},"end":{"line":271,"column":58}},"164":{"start":{"line":273,"column":8},"end":{"line":278,"column":9}},"165":{"start":{"line":277,"column":12},"end":{"line":277,"column":52}},"166":{"start":{"line":279,"column":8},"end":{"line":304,"column":9}},"167":{"start":{"line":280,"column":12},"end":{"line":303,"column":13}},"168":{"start":{"line":281,"column":16},"end":{"line":281,"column":57}},"169":{"start":{"line":284,"column":16},"end":{"line":288,"column":17}},"170":{"start":{"line":285,"column":20},"end":{"line":287,"column":107}},"171":{"start":{"line":289,"column":16},"end":{"line":302,"column":17}},"172":{"start":{"line":290,"column":20},"end":{"line":298,"column":21}},"173":{"start":{"line":292,"column":25},"end":{"line":298,"column":21}},"174":{"start":{"line":293,"column":24},"end":{"line":296,"column":87}},"175":{"start":{"line":297,"column":24},"end":{"line":297,"column":71}},"176":{"start":{"line":301,"column":20},"end":{"line":301,"column":64}},"177":{"start":{"line":305,"column":8},"end":{"line":319,"column":9}},"178":{"start":{"line":306,"column":12},"end":{"line":318,"column":13}},"179":{"start":{"line":307,"column":16},"end":{"line":312,"column":17}},"180":{"start":{"line":310,"column":20},"end":{"line":311,"column":97}},"181":{"start":{"line":315,"column":16},"end":{"line":317,"column":47}},"182":{"start":{"line":320,"column":8},"end":{"line":322,"column":9}},"183":{"start":{"line":321,"column":12},"end":{"line":321,"column":58}},"184":{"start":{"line":323,"column":8},"end":{"line":325,"column":9}},"185":{"start":{"line":324,"column":12},"end":{"line":324,"column":52}},"186":{"start":{"line":327,"column":4},"end":{"line":329,"column":5}},"187":{"start":{"line":328,"column":8},"end":{"line":328,"column":43}},"188":{"start":{"line":330,"column":4},"end":{"line":333,"column":5}},"189":{"start":{"line":331,"column":8},"end":{"line":331,"column":102}},"190":{"start":{"line":332,"column":8},"end":{"line":332,"column":32}},"191":{"start":{"line":335,"column":4},"end":{"line":340,"column":5}},"192":{"start":{"line":336,"column":8},"end":{"line":336,"column":43}},"193":{"start":{"line":339,"column":8},"end":{"line":339,"column":65}},"194":{"start":{"line":343,"column":4},"end":{"line":343,"column":54}},"195":{"start":{"line":344,"column":4},"end":{"line":346,"column":5}},"196":{"start":{"line":345,"column":8},"end":{"line":345,"column":53}},"197":{"start":{"line":347,"column":4},"end":{"line":347,"column":51}},"198":{"start":{"line":348,"column":4},"end":{"line":348,"column":16}},"199":{"start":{"line":350,"column":4},"end":{"line":365,"column":5}},"200":{"start":{"line":351,"column":8},"end":{"line":359,"column":9}},"201":{"start":{"line":352,"column":12},"end":{"line":352,"column":44}},"202":{"start":{"line":353,"column":12},"end":{"line":353,"column":46}},"203":{"start":{"line":356,"column":12},"end":{"line":357,"column":84}},"204":{"start":{"line":358,"column":12},"end":{"line":358,"column":55}},"205":{"start":{"line":363,"column":8},"end":{"line":363,"column":44}},"206":{"start":{"line":364,"column":8},"end":{"line":364,"column":41}},"207":{"start":{"line":367,"column":4},"end":{"line":378,"column":7}},"208":{"start":{"line":368,"column":8},"end":{"line":370,"column":9}},"209":{"start":{"line":369,"column":12},"end":{"line":369,"column":60}},"210":{"start":{"line":371,"column":8},"end":{"line":371,"column":40}},"211":{"start":{"line":372,"column":8},"end":{"line":372,"column":36}},"212":{"start":{"line":373,"column":8},"end":{"line":373,"column":49}},"213":{"start":{"line":374,"column":8},"end":{"line":374,"column":50}},"214":{"start":{"line":376,"column":8},"end":{"line":376,"column":36}},"215":{"start":{"line":377,"column":8},"end":{"line":377,"column":18}},"216":{"start":{"line":380,"column":0},"end":{"line":380,"column":42}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":24},"end":{"line":25,"column":37}},{"start":{"line":25,"column":41},"end":{"line":25,"column":54}}]},"2":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"3":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":12},"end":{"line":67,"column":36}},{"start":{"line":68,"column":9},"end":{"line":68,"column":26}},{"start":{"line":68,"column":31},"end":{"line":68,"column":48}},{"start":{"line":68,"column":52},"end":{"line":68,"column":77}}]},"4":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":4},"end":{"line":76,"column":4}},{"start":{"line":76,"column":4},"end":{"line":76,"column":4}}]},"5":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"6":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":4}},{"start":{"line":83,"column":4},"end":{"line":83,"column":4}}]},"7":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":8},"end":{"line":84,"column":8}},{"start":{"line":84,"column":8},"end":{"line":84,"column":8}}]},"8":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":12},"end":{"line":89,"column":12}},{"start":{"line":89,"column":12},"end":{"line":89,"column":12}}]},"9":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":16},"end":{"line":89,"column":37}},{"start":{"line":89,"column":41},"end":{"line":89,"column":60}},{"start":{"line":89,"column":64},"end":{"line":89,"column":96}}]},"10":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16}},{"start":{"line":92,"column":16},"end":{"line":92,"column":16}}]},"11":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":20},"end":{"line":92,"column":42}},{"start":{"line":92,"column":46},"end":{"line":92,"column":62}}]},"12":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":4}},{"start":{"line":115,"column":4},"end":{"line":115,"column":4}}]},"13":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":8},"end":{"line":115,"column":30}},{"start":{"line":115,"column":34},"end":{"line":115,"column":49}},{"start":{"line":115,"column":53},"end":{"line":115,"column":69}}]},"14":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":8},"end":{"line":117,"column":8}},{"start":{"line":117,"column":8},"end":{"line":117,"column":8}}]},"15":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":124,"column":4}},{"start":{"line":124,"column":4},"end":{"line":124,"column":4}}]},"16":{"line":124,"type":"binary-expr","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":25}},{"start":{"line":124,"column":29},"end":{"line":124,"column":48}}]},"17":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":4},"end":{"line":132,"column":4}},{"start":{"line":132,"column":4},"end":{"line":132,"column":4}}]},"18":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":4},"end":{"line":145,"column":4}},{"start":{"line":145,"column":4},"end":{"line":145,"column":4}}]},"19":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":8},"end":{"line":145,"column":16}},{"start":{"line":145,"column":20},"end":{"line":145,"column":40}}]},"20":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":8},"end":{"line":149,"column":8}},{"start":{"line":149,"column":8},"end":{"line":149,"column":8}}]},"21":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":8},"end":{"line":152,"column":8}},{"start":{"line":152,"column":8},"end":{"line":152,"column":8}}]},"22":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":155,"column":8}},{"start":{"line":155,"column":8},"end":{"line":155,"column":8}}]},"23":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":8},"end":{"line":158,"column":8}},{"start":{"line":158,"column":8},"end":{"line":158,"column":8}}]},"24":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":8},"end":{"line":161,"column":8}},{"start":{"line":161,"column":8},"end":{"line":161,"column":8}}]},"25":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":8},"end":{"line":164,"column":8}},{"start":{"line":164,"column":8},"end":{"line":164,"column":8}}]},"26":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":8},"end":{"line":167,"column":8}},{"start":{"line":167,"column":8},"end":{"line":167,"column":8}}]},"27":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":8},"end":{"line":170,"column":8}},{"start":{"line":170,"column":8},"end":{"line":170,"column":8}}]},"28":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":8},"end":{"line":173,"column":8}},{"start":{"line":173,"column":8},"end":{"line":173,"column":8}}]},"29":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":8},"end":{"line":176,"column":8}},{"start":{"line":176,"column":8},"end":{"line":176,"column":8}}]},"30":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":8},"end":{"line":179,"column":8}},{"start":{"line":179,"column":8},"end":{"line":179,"column":8}}]},"31":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":8},"end":{"line":182,"column":8}},{"start":{"line":182,"column":8},"end":{"line":182,"column":8}}]},"32":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":8},"end":{"line":185,"column":8}},{"start":{"line":185,"column":8},"end":{"line":185,"column":8}}]},"33":{"line":185,"type":"binary-expr","locations":[{"start":{"line":185,"column":12},"end":{"line":185,"column":27}},{"start":{"line":185,"column":31},"end":{"line":185,"column":79}}]},"34":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":8},"end":{"line":188,"column":8}},{"start":{"line":188,"column":8},"end":{"line":188,"column":8}}]},"35":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":8},"end":{"line":191,"column":8}},{"start":{"line":191,"column":8},"end":{"line":191,"column":8}}]},"36":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":8},"end":{"line":194,"column":8}},{"start":{"line":194,"column":8},"end":{"line":194,"column":8}}]},"37":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":8},"end":{"line":197,"column":8}},{"start":{"line":197,"column":8},"end":{"line":197,"column":8}}]},"38":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":8},"end":{"line":200,"column":8}},{"start":{"line":200,"column":8},"end":{"line":200,"column":8}}]},"39":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":8},"end":{"line":203,"column":8}},{"start":{"line":203,"column":8},"end":{"line":203,"column":8}}]},"40":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":8},"end":{"line":206,"column":8}},{"start":{"line":206,"column":8},"end":{"line":206,"column":8}}]},"41":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":8},"end":{"line":209,"column":8}},{"start":{"line":209,"column":8},"end":{"line":209,"column":8}}]},"42":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":8},"end":{"line":212,"column":8}},{"start":{"line":212,"column":8},"end":{"line":212,"column":8}}]},"43":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":8},"end":{"line":215,"column":8}},{"start":{"line":215,"column":8},"end":{"line":215,"column":8}}]},"44":{"line":218,"type":"if","locations":[{"start":{"line":218,"column":8},"end":{"line":218,"column":8}},{"start":{"line":218,"column":8},"end":{"line":218,"column":8}}]},"45":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":8},"end":{"line":221,"column":8}},{"start":{"line":221,"column":8},"end":{"line":221,"column":8}}]},"46":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":8}},{"start":{"line":224,"column":8},"end":{"line":224,"column":8}}]},"47":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":8},"end":{"line":227,"column":8}},{"start":{"line":227,"column":8},"end":{"line":227,"column":8}}]},"48":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":8},"end":{"line":230,"column":8}},{"start":{"line":230,"column":8},"end":{"line":230,"column":8}}]},"49":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":8},"end":{"line":233,"column":8}},{"start":{"line":233,"column":8},"end":{"line":233,"column":8}}]},"50":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":8},"end":{"line":236,"column":8}},{"start":{"line":236,"column":8},"end":{"line":236,"column":8}}]},"51":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":8},"end":{"line":239,"column":8}},{"start":{"line":239,"column":8},"end":{"line":239,"column":8}}]},"52":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":8},"end":{"line":242,"column":8}},{"start":{"line":242,"column":8},"end":{"line":242,"column":8}}]},"53":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":8},"end":{"line":245,"column":8}},{"start":{"line":245,"column":8},"end":{"line":245,"column":8}}]},"54":{"line":248,"type":"if","locations":[{"start":{"line":248,"column":8},"end":{"line":248,"column":8}},{"start":{"line":248,"column":8},"end":{"line":248,"column":8}}]},"55":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":8},"end":{"line":251,"column":8}},{"start":{"line":251,"column":8},"end":{"line":251,"column":8}}]},"56":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":8},"end":{"line":254,"column":8}},{"start":{"line":254,"column":8},"end":{"line":254,"column":8}}]},"57":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8}},{"start":{"line":258,"column":8},"end":{"line":258,"column":8}}]},"58":{"line":260,"type":"if","locations":[{"start":{"line":260,"column":12},"end":{"line":260,"column":12}},{"start":{"line":260,"column":12},"end":{"line":260,"column":12}}]},"59":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":8}},{"start":{"line":267,"column":8},"end":{"line":267,"column":8}}]},"60":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":12},"end":{"line":268,"column":12}},{"start":{"line":268,"column":12},"end":{"line":268,"column":12}}]},"61":{"line":273,"type":"if","locations":[{"start":{"line":273,"column":8},"end":{"line":273,"column":8}},{"start":{"line":273,"column":8},"end":{"line":273,"column":8}}]},"62":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":8},"end":{"line":279,"column":8}},{"start":{"line":279,"column":8},"end":{"line":279,"column":8}}]},"63":{"line":279,"type":"binary-expr","locations":[{"start":{"line":279,"column":12},"end":{"line":279,"column":32}},{"start":{"line":279,"column":37},"end":{"line":279,"column":57}},{"start":{"line":279,"column":63},"end":{"line":279,"column":86}}]},"64":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":12},"end":{"line":280,"column":12}},{"start":{"line":280,"column":12},"end":{"line":280,"column":12}}]},"65":{"line":284,"type":"if","locations":[{"start":{"line":284,"column":16},"end":{"line":284,"column":16}},{"start":{"line":284,"column":16},"end":{"line":284,"column":16}}]},"66":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":16},"end":{"line":289,"column":16}},{"start":{"line":289,"column":16},"end":{"line":289,"column":16}}]},"67":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":20},"end":{"line":290,"column":20}},{"start":{"line":290,"column":20},"end":{"line":290,"column":20}}]},"68":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":25},"end":{"line":292,"column":25}},{"start":{"line":292,"column":25},"end":{"line":292,"column":25}}]},"69":{"line":295,"type":"cond-expr","locations":[{"start":{"line":295,"column":65},"end":{"line":296,"column":69}},{"start":{"line":296,"column":72},"end":{"line":296,"column":74}}]},"70":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":8},"end":{"line":305,"column":8}},{"start":{"line":305,"column":8},"end":{"line":305,"column":8}}]},"71":{"line":305,"type":"binary-expr","locations":[{"start":{"line":305,"column":12},"end":{"line":305,"column":38}},{"start":{"line":305,"column":42},"end":{"line":305,"column":71}}]},"72":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":12},"end":{"line":306,"column":12}},{"start":{"line":306,"column":12},"end":{"line":306,"column":12}}]},"73":{"line":307,"type":"if","locations":[{"start":{"line":307,"column":16},"end":{"line":307,"column":16}},{"start":{"line":307,"column":16},"end":{"line":307,"column":16}}]},"74":{"line":307,"type":"binary-expr","locations":[{"start":{"line":307,"column":21},"end":{"line":307,"column":48}},{"start":{"line":307,"column":52},"end":{"line":307,"column":76}}]},"75":{"line":320,"type":"if","locations":[{"start":{"line":320,"column":8},"end":{"line":320,"column":8}},{"start":{"line":320,"column":8},"end":{"line":320,"column":8}}]},"76":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":8},"end":{"line":323,"column":8}},{"start":{"line":323,"column":8},"end":{"line":323,"column":8}}]},"77":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":4},"end":{"line":327,"column":4}},{"start":{"line":327,"column":4},"end":{"line":327,"column":4}}]},"78":{"line":335,"type":"if","locations":[{"start":{"line":335,"column":4},"end":{"line":335,"column":4}},{"start":{"line":335,"column":4},"end":{"line":335,"column":4}}]},"79":{"line":344,"type":"if","locations":[{"start":{"line":344,"column":4},"end":{"line":344,"column":4}},{"start":{"line":344,"column":4},"end":{"line":344,"column":4}}]},"80":{"line":350,"type":"if","locations":[{"start":{"line":350,"column":4},"end":{"line":350,"column":4}},{"start":{"line":350,"column":4},"end":{"line":350,"column":4}}]},"81":{"line":351,"type":"if","locations":[{"start":{"line":351,"column":8},"end":{"line":351,"column":8}},{"start":{"line":351,"column":8},"end":{"line":351,"column":8}}]},"82":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":8},"end":{"line":368,"column":8}},{"start":{"line":368,"column":8},"end":{"line":368,"column":8}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","/// <reference path=\"./interfaces.d.ts\"/>","'use strict';","var path = require('path');","var fs = require('fs');","var _ = require('lodash');","var utils = require('./utils');","var cache = require('./cacheUtils');","var semver = require('semver');","var es6_promise_1 = require('es6-promise');","exports.grunt = require('grunt');","///////////////////////////","// Helper","///////////////////////////","var executeNode;","var executeNodeDefault = function (args, optionalInfo) {","    return new es6_promise_1.Promise(function (resolve, reject) {","        exports.grunt.util.spawn({","            cmd: process.execPath,","            args: args","        }, function (error, result, code) {","            var ret = {","                code: code,","                // New TypeScript compiler uses stdout for user code errors. Old one used stderr.","                output: result.stdout || result.stderr","            };","            resolve(ret);","        });","    });","};","/////////////////////////////////////////////////////////////////","// Fast Compilation","/////////////////////////////////////////////////////////////////","// Map to store if the cache was cleared after the gruntfile was parsed","var cacheClearedOnce = {};","function getChangedFiles(files, targetName) {","    files = cache.getNewFilesForTarget(files, targetName);","    _.forEach(files, function (file) {","        exports.grunt.log.writeln(('### Fast Compile >>' + file).cyan);","    });","    return files;","}","function resetChangedFiles(files, targetName) {","    cache.compileSuccessfull(files, targetName);","}","function clearCache(targetName) {","    cache.clearCache(targetName);","    cacheClearedOnce[targetName] = true;","}","/////////////////////////////////////////////////////////////////////","// tsc handling","////////////////////////////////////////////////////////////////////","function resolveTypeScriptBinPath() {","    var ownRoot = path.resolve(path.dirname((module).filename), '../..');","    var userRoot = path.resolve(ownRoot, '..', '..');","    var binSub = path.join('node_modules', 'typescript', 'bin');","    if (fs.existsSync(path.join(userRoot, binSub))) {","        // Using project override","        return path.join(userRoot, binSub);","    }","    return path.join(ownRoot, binSub);","}","function getTsc(binPath) {","    return path.join(binPath, 'tsc');","}","function compileResultMeansFastCacheShouldBeRefreshed(options, result) {","    return (options.fast !== 'never' &&","        (result.code === 0 || (result.code === 2 && !options.failOnTypeErrors)));","}","exports.compileResultMeansFastCacheShouldBeRefreshed = compileResultMeansFastCacheShouldBeRefreshed;","function compileAllFiles(options, compilationInfo) {","    var targetFiles = compilationInfo.src;","    // Make a local copy so we can modify files without having external side effects","    var files = _.map(targetFiles, function (file) { return file; });","    var newFiles = files;","    if (options.fast === 'watch') {","        // if this is the first time its running after this file was loaded","        if (cacheClearedOnce[exports.grunt.task.current.target] === undefined) {","            // Then clear the cache for this target","            clearCache(options.targetName);","        }","    }","    if (options.fast !== 'never') {","        if (compilationInfo.out) {","            exports.grunt.log.writeln('Fast compile will not work when --out is specified. Ignoring fast compilation'.cyan);","        }","        else {","            newFiles = getChangedFiles(files, options.targetName);","            if (newFiles.length !== 0 || options.testExecute || utils.shouldPassThrough(options)) {","                files = newFiles;","                // If outDir is specified but no baseDir is specified we need to determine one","                if (compilationInfo.outDir && !options.baseDir) {","                    options.baseDir = utils.findCommonPath(files, '/');","                }","            }","            else {","                exports.grunt.log.writeln('No file changes were detected. Skipping Compile'.green);","                return new es6_promise_1.Promise(function (resolve) {","                    var ret = {","                        code: 0,","                        fileCount: 0,","                        output: 'No files compiled as no change detected'","                    };","                    resolve(ret);","                });","            }","        }","    }","    // Transform files as needed. Currently all of this logic in is one module","    // transformers.transformFiles(newFiles, targetFiles, target, task);","    // If baseDir is specified create a temp tsc file to make sure that `--outDir` works fine","    // see https://github.com/grunt-ts/grunt-ts/issues/77","    var baseDirFile = '.baseDir.ts';","    var baseDirFilePath;","    if (compilationInfo.outDir && options.baseDir && files.length > 0) {","        baseDirFilePath = path.join(options.baseDir, baseDirFile);","        if (!fs.existsSync(baseDirFilePath)) {","            exports.grunt.file.write(baseDirFilePath, '// Ignore this file. See https://github.com/grunt-ts/grunt-ts/issues/77');","        }","        files.push(baseDirFilePath);","    }","    // If reference and out are both specified.","    // Then only compile the updated reference file as that contains the correct order","    if (options.reference && compilationInfo.out) {","        var referenceFile = path.resolve(options.reference);","        files = [referenceFile];","    }","    // Quote the files to compile. Needed for command line parsing by tsc","    files = _.map(files, function (item) { return (\"\\\"\" + path.resolve(item) + \"\\\"\"); });","    var args = files.slice(0), tsc, tscVersion = '';","    var tsconfig = options.tsconfig;","    if (options.compiler) {","        // Custom compiler (task.compiler)","        exports.grunt.log.writeln('Using the custom compiler : ' + options.compiler);","        tsc = options.compiler;","        tscVersion = '';","    }","    else {","        // the bundled OR npm module based compiler","        var tscPath = resolveTypeScriptBinPath();","        tsc = getTsc(tscPath);","        tscVersion = getTscVersion(tscPath);","        exports.grunt.log.writeln('Using tsc v' + tscVersion);","    }","    if (tsconfig && tsconfig.passThrough) {","        args.push('--project', tsconfig.tsconfig);","    }","    else {","        if (options.sourceMap) {","            args.push('--sourcemap');","        }","        if (options.emitDecoratorMetadata) {","            args.push('--emitDecoratorMetadata');","        }","        if (options.declaration) {","            args.push('--declaration');","        }","        if (options.removeComments) {","            args.push('--removeComments');","        }","        if (options.noImplicitAny) {","            args.push('--noImplicitAny');","        }","        if (options.noResolve) {","            args.push('--noResolve');","        }","        if (options.noEmitOnError) {","            args.push('--noEmitOnError');","        }","        if (options.preserveConstEnums) {","            args.push('--preserveConstEnums');","        }","        if (options.suppressImplicitAnyIndexErrors) {","            args.push('--suppressImplicitAnyIndexErrors');","        }","        if (options.noEmit) {","            args.push('--noEmit');","        }","        if (options.inlineSources) {","            args.push('--inlineSources');","        }","        if (options.inlineSourceMap) {","            args.push('--inlineSourceMap');","        }","        if (options.newLine && !utils.newLineIsRedundantForTsc(options.newLine)) {","            args.push('--newLine', options.newLine);","        }","        if (options.isolatedModules) {","            args.push('--isolatedModules');","        }","        if (options.noEmitHelpers) {","            args.push('--noEmitHelpers');","        }","        if (options.experimentalDecorators) {","            args.push('--experimentalDecorators');","        }","        if (options.experimentalAsyncFunctions) {","            args.push('--experimentalAsyncFunctions');","        }","        if (options.jsx) {","            args.push('--jsx', options.jsx.toLocaleLowerCase());","        }","        if (options.moduleResolution) {","            args.push('--moduleResolution', options.moduleResolution.toLocaleLowerCase());","        }","        if (options.rootDir) {","            args.push('--rootDir', options.rootDir);","        }","        if (options.noLib) {","            args.push('--noLib');","        }","        if (options.emitBOM) {","            args.push('--emitBOM');","        }","        if (options.locale) {","            args.push('--locale', options.locale);","        }","        if (options.suppressExcessPropertyErrors) {","            args.push('--suppressExcessPropertyErrors');","        }","        if (options.stripInternal) {","            args.push('--stripInternal');","        }","        if (options.allowSyntheticDefaultImports) {","            args.push('--allowSyntheticDefaultImports');","        }","        if (options.reactNamespace) {","            args.push('--reactNamespace', options.reactNamespace);","        }","        if (options.skipDefaultLibCheck) {","            args.push('--skipDefaultLibCheck');","        }","        if (options.pretty) {","            args.push('--pretty');","        }","        if (options.allowUnusedLabels) {","            args.push('--allowUnusedLabels');","        }","        if (options.noImplicitReturns) {","            args.push('--noImplicitReturns');","        }","        if (options.noFallthroughCasesInSwitch) {","            args.push('--noFallthroughCasesInSwitch');","        }","        if (options.allowUnreachableCode) {","            args.push('--allowUnreachableCode');","        }","        if (options.forceConsistentCasingInFileNames) {","            args.push('--forceConsistentCasingInFileNames');","        }","        if (options.allowJs) {","            args.push('--allowJs');","        }","        if (options.noImplicitUseStrict) {","            args.push('--noImplicitUseStrict');","        }","        args.push('--target', options.target.toUpperCase());","        if (options.module) {","            var moduleOptionString = ('' + options.module).toLowerCase();","            if ('amd|commonjs|system|umd|es6|es2015'.indexOf(moduleOptionString) > -1) {","                args.push('--module', moduleOptionString);","            }","            else {","                console.warn('WARNING: Option \"module\" only supports \"amd\" | \"commonjs\" | \"system\" | \"umd\" | \"es6\" | \"es2015\" '.magenta);","            }","        }","        if (compilationInfo.outDir) {","            if (compilationInfo.out) {","                console.warn('WARNING: Option \"out\" and \"outDir\" should not be used together'.magenta);","            }","            args.push('--outDir', compilationInfo.outDir);","        }","        if (compilationInfo.out) {","            // We only pass --out instead of --outFile for backward-compatability reasons.","            // It is the same for purposes of the command-line (the subtle difference is handled in the tsconfig code","            //  and the value of --outFile is copied to --out).","            args.push('--out', compilationInfo.out);","        }","        if (compilationInfo.dest && (!compilationInfo.out) && (!compilationInfo.outDir)) {","            if (utils.isJavaScriptFile(compilationInfo.dest)) {","                args.push('--out', compilationInfo.dest);","            }","            else {","                if (compilationInfo.dest === 'src') {","                    console.warn(('WARNING: Destination for target \"' + options.targetName + '\" is \"src\", which is the default.  If you have' +","                        ' forgotten to specify a \"dest\" parameter, please add it.  If this is correct, you may wish' +","                        ' to change the \"dest\" parameter to \"src/\" or just ignore this warning.').magenta);","                }","                if (Array.isArray(compilationInfo.dest)) {","                    if (compilationInfo.dest.length === 0) {","                    }","                    else if (compilationInfo.dest.length > 0) {","                        console.warn((('WARNING: \"dest\" for target \"' + options.targetName + '\" is an array.  This is not supported by the' +","                            ' TypeScript compiler or grunt-ts.' +","                            ((compilationInfo.dest.length > 1) ? '  Only the first \"dest\" will be used.  The' +","                                ' remaining items will be truncated.' : ''))).magenta);","                        args.push('--outDir', compilationInfo.dest[0]);","                    }","                }","                else {","                    args.push('--outDir', compilationInfo.dest);","                }","            }","        }","        if (args.indexOf('--out') > -1 && args.indexOf('--module') > -1) {","            if (semver.satisfies(tscVersion, '>=1.8.0')) {","                if ((options.module === 'system' || options.module === 'amd')) {","                }","                else {","                    console.warn(('WARNING: TypeScript 1.8+ requires \"module\" to be set to' +","                        'system or amd for concatenation of external modules to work.').magenta);","                }","            }","            else {","                console.warn(('WARNING: TypeScript < 1.8 does not allow external modules to be concatenated with' +","                    ' --out. Any exported code may be truncated.  See TypeScript issue #1544 for' +","                    ' more details.').magenta);","            }","        }","        if (options.sourceRoot) {","            args.push('--sourceRoot', options.sourceRoot);","        }","        if (options.mapRoot) {","            args.push('--mapRoot', options.mapRoot);","        }","    }","    if (options.additionalFlags) {","        args.push(options.additionalFlags);","    }","    function getTscVersion(tscPath) {","        var pkg = JSON.parse(fs.readFileSync(path.resolve(tscPath, '..', 'package.json')).toString());","        return '' + pkg.version;","    }","    // To debug the tsc command","    if (options.verbose) {","        console.log(args.join(' ').yellow);","    }","    else {","        exports.grunt.log.verbose.writeln(args.join(' ').yellow);","    }","    // Create a temp last command file and use that to guide tsc.","    // Reason: passing all the files on the command line causes TSC to go in an infinite loop.","    var tempfilename = utils.getTempFile('tscommand');","    if (!tempfilename) {","        throw (new Error('cannot create temp file'));","    }","    fs.writeFileSync(tempfilename, args.join(' '));","    var command;","    // Switch implementation if a test version of executeNode exists.","    if ('testExecute' in options) {","        if (_.isFunction(options.testExecute)) {","            command = [tsc, args.join(' ')];","            executeNode = options.testExecute;","        }","        else {","            var invalidTestExecuteError = 'Invalid testExecute node present on target \"' +","                options.targetName + '\".  Value of testExecute must be a function.';","            throw (new Error(invalidTestExecuteError));","        }","    }","    else {","        // this is the normal path.","        command = [tsc, '@' + tempfilename];","        executeNode = executeNodeDefault;","    }","    // Execute command","    return executeNode(command, options).then(function (result) {","        if (compileResultMeansFastCacheShouldBeRefreshed(options, result)) {","            resetChangedFiles(newFiles, options.targetName);","        }","        result.fileCount = files.length;","        fs.unlinkSync(tempfilename);","        exports.grunt.log.writeln(result.output);","        return es6_promise_1.Promise.cast(result);","    }, function (err) {","        fs.unlinkSync(tempfilename);","        throw err;","    });","}","exports.compileAllFiles = compileAllFiles;","//# sourceMappingURL=compile.js.map"],"l":{"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"15":1,"16":1,"17":0,"18":0,"22":0,"27":0,"35":1,"36":1,"37":0,"38":0,"39":0,"41":0,"43":1,"44":0,"46":1,"47":0,"48":0,"53":1,"54":0,"55":0,"56":0,"57":0,"59":0,"61":0,"63":1,"64":0,"66":1,"67":0,"70":1,"71":1,"72":0,"74":0,"75":0,"76":0,"78":0,"80":0,"83":0,"84":0,"85":0,"88":0,"89":0,"90":0,"92":0,"93":0,"97":0,"98":0,"99":0,"104":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"120":0,"124":0,"125":0,"126":0,"129":0,"130":0,"131":0,"132":0,"134":0,"135":0,"136":0,"140":0,"141":0,"142":0,"143":0,"145":0,"146":0,"149":0,"150":0,"152":0,"153":0,"155":0,"156":0,"158":0,"159":0,"161":0,"162":0,"164":0,"165":0,"167":0,"168":0,"170":0,"171":0,"173":0,"174":0,"176":0,"177":0,"179":0,"180":0,"182":0,"183":0,"185":0,"186":0,"188":0,"189":0,"191":0,"192":0,"194":0,"195":0,"197":0,"198":0,"200":0,"201":0,"203":0,"204":0,"206":0,"207":0,"209":0,"210":0,"212":0,"213":0,"215":0,"216":0,"218":0,"219":0,"221":0,"222":0,"224":0,"225":0,"227":0,"228":0,"230":0,"231":0,"233":0,"234":0,"236":0,"237":0,"239":0,"240":0,"242":0,"243":0,"245":0,"246":0,"248":0,"249":0,"251":0,"252":0,"254":0,"255":0,"257":0,"258":0,"259":0,"260":0,"261":0,"264":0,"267":0,"268":0,"269":0,"271":0,"273":0,"277":0,"279":0,"280":0,"281":0,"284":0,"285":0,"289":0,"290":0,"292":0,"293":0,"297":0,"301":0,"305":0,"306":0,"307":0,"310":0,"315":0,"320":0,"321":0,"323":0,"324":0,"327":0,"328":0,"330":1,"331":0,"332":0,"335":0,"336":0,"339":0,"343":0,"344":0,"345":0,"347":0,"348":0,"350":0,"351":0,"352":0,"353":0,"356":0,"358":0,"363":0,"364":0,"367":0,"368":0,"369":0,"371":0,"372":0,"373":0,"374":0,"376":0,"377":0,"380":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/cacheUtils.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/cacheUtils.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1,"23":1,"24":0,"25":0,"26":1,"27":1,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":1,"57":1,"58":0,"59":0,"60":1,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"getStampPath","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":34}}},"2":{"name":"getLastSuccessfullCompile","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":47}}},"3":{"name":"getFilesNewerThan","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":40}}},"4":{"name":"(anonymous_4)","line":35,"loc":{"start":{"line":35,"column":35},"end":{"line":35,"column":51}}},"5":{"name":"anyNewerThan","line":41,"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":35}}},"6":{"name":"filterPathsByTime","line":45,"loc":{"start":{"line":45,"column":0},"end":{"line":45,"column":46}}},"7":{"name":"getHashPath","line":57,"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":43}}},"8":{"name":"getExistingHash","line":64,"loc":{"start":{"line":64,"column":0},"end":{"line":64,"column":47}}},"9":{"name":"generateFileHash","line":76,"loc":{"start":{"line":76,"column":0},"end":{"line":76,"column":36}}},"10":{"name":"filterPathsByHash","line":92,"loc":{"start":{"line":92,"column":0},"end":{"line":92,"column":50}}},"11":{"name":"(anonymous_11)","line":93,"loc":{"start":{"line":93,"column":39},"end":{"line":93,"column":59}}},"12":{"name":"updateHashes","line":100,"loc":{"start":{"line":100,"column":0},"end":{"line":100,"column":45}}},"13":{"name":"(anonymous_13)","line":101,"loc":{"start":{"line":101,"column":25},"end":{"line":101,"column":45}}},"14":{"name":"getNewFilesForTarget","line":113,"loc":{"start":{"line":113,"column":0},"end":{"line":113,"column":49}}},"15":{"name":"compileSuccessfull","line":122,"loc":{"start":{"line":122,"column":0},"end":{"line":122,"column":47}}},"16":{"name":"clearCache","line":129,"loc":{"start":{"line":129,"column":0},"end":{"line":129,"column":32}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":23}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":30}},"8":{"start":{"line":21,"column":0},"end":{"line":23,"column":1}},"9":{"start":{"line":22,"column":4},"end":{"line":22,"column":64}},"10":{"start":{"line":24,"column":0},"end":{"line":33,"column":1}},"11":{"start":{"line":25,"column":4},"end":{"line":25,"column":45}},"12":{"start":{"line":26,"column":4},"end":{"line":32,"column":5}},"13":{"start":{"line":27,"column":8},"end":{"line":27,"column":44}},"14":{"start":{"line":31,"column":8},"end":{"line":31,"column":27}},"15":{"start":{"line":34,"column":0},"end":{"line":40,"column":1}},"16":{"start":{"line":35,"column":4},"end":{"line":38,"column":7}},"17":{"start":{"line":36,"column":8},"end":{"line":36,"column":38}},"18":{"start":{"line":37,"column":8},"end":{"line":37,"column":34}},"19":{"start":{"line":39,"column":4},"end":{"line":39,"column":20}},"20":{"start":{"line":41,"column":0},"end":{"line":43,"column":1}},"21":{"start":{"line":42,"column":4},"end":{"line":42,"column":53}},"22":{"start":{"line":44,"column":0},"end":{"line":44,"column":36}},"23":{"start":{"line":45,"column":0},"end":{"line":48,"column":1}},"24":{"start":{"line":46,"column":4},"end":{"line":46,"column":53}},"25":{"start":{"line":47,"column":4},"end":{"line":47,"column":42}},"26":{"start":{"line":49,"column":0},"end":{"line":49,"column":46}},"27":{"start":{"line":57,"column":0},"end":{"line":60,"column":1}},"28":{"start":{"line":58,"column":4},"end":{"line":58,"column":109}},"29":{"start":{"line":59,"column":4},"end":{"line":59,"column":73}},"30":{"start":{"line":64,"column":0},"end":{"line":71,"column":1}},"31":{"start":{"line":65,"column":4},"end":{"line":65,"column":53}},"32":{"start":{"line":66,"column":4},"end":{"line":66,"column":41}},"33":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"34":{"start":{"line":68,"column":8},"end":{"line":68,"column":20}},"35":{"start":{"line":70,"column":4},"end":{"line":70,"column":48}},"36":{"start":{"line":76,"column":0},"end":{"line":81,"column":1}},"37":{"start":{"line":77,"column":4},"end":{"line":77,"column":42}},"38":{"start":{"line":78,"column":4},"end":{"line":78,"column":41}},"39":{"start":{"line":79,"column":4},"end":{"line":79,"column":24}},"40":{"start":{"line":80,"column":4},"end":{"line":80,"column":32}},"41":{"start":{"line":92,"column":0},"end":{"line":99,"column":1}},"42":{"start":{"line":93,"column":4},"end":{"line":97,"column":7}},"43":{"start":{"line":94,"column":8},"end":{"line":94,"column":61}},"44":{"start":{"line":95,"column":8},"end":{"line":95,"column":49}},"45":{"start":{"line":96,"column":8},"end":{"line":96,"column":36}},"46":{"start":{"line":98,"column":4},"end":{"line":98,"column":20}},"47":{"start":{"line":100,"column":0},"end":{"line":106,"column":1}},"48":{"start":{"line":101,"column":4},"end":{"line":105,"column":7}},"49":{"start":{"line":102,"column":8},"end":{"line":102,"column":57}},"50":{"start":{"line":103,"column":8},"end":{"line":103,"column":46}},"51":{"start":{"line":104,"column":8},"end":{"line":104,"column":41}},"52":{"start":{"line":113,"column":0},"end":{"line":117,"column":1}},"53":{"start":{"line":114,"column":4},"end":{"line":114,"column":53}},"54":{"start":{"line":115,"column":4},"end":{"line":115,"column":53}},"55":{"start":{"line":116,"column":4},"end":{"line":116,"column":17}},"56":{"start":{"line":118,"column":0},"end":{"line":118,"column":52}},"57":{"start":{"line":122,"column":0},"end":{"line":127,"column":1}},"58":{"start":{"line":124,"column":4},"end":{"line":124,"column":51}},"59":{"start":{"line":126,"column":4},"end":{"line":126,"column":36}},"60":{"start":{"line":128,"column":0},"end":{"line":128,"column":48}},"61":{"start":{"line":129,"column":0},"end":{"line":140,"column":1}},"62":{"start":{"line":130,"column":4},"end":{"line":130,"column":68}},"63":{"start":{"line":131,"column":4},"end":{"line":139,"column":5}},"64":{"start":{"line":132,"column":8},"end":{"line":135,"column":9}},"65":{"start":{"line":133,"column":12},"end":{"line":133,"column":43}},"66":{"start":{"line":134,"column":12},"end":{"line":134,"column":93}},"67":{"start":{"line":138,"column":8},"end":{"line":138,"column":91}},"68":{"start":{"line":141,"column":0},"end":{"line":141,"column":32}}},"branchMap":{"1":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]},"2":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":8},"end":{"line":132,"column":8}},{"start":{"line":132,"column":8},"end":{"line":132,"column":8}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","\"use strict\";","// Source based on : https://github.com/tschaub/grunt-newer/blob/master/lib/util.js","var fs = require('fs');","var _ = require('lodash');","var path = require('path');","var crypto = require('crypto');","var grunt = require('grunt');","var rimraf = require('rimraf');","//////////////////////","//  Basic algo: ","//        - We have a timestamp file per target. ","//        - We use the mtime of this file to filter out","//              new files for this target","//        - Finally we can update the timestamp file with new time","/////////////////////","exports.cacheDir = '.tscache';","//////////////////////////////","// File stamp based filtering","//////////////////////////////","function getStampPath(targetName) {","    return path.join(exports.cacheDir, targetName, 'timestamp');","}","function getLastSuccessfullCompile(targetName) {","    var stampFile = getStampPath(targetName);","    try {","        return fs.statSync(stampFile).mtime;","    }","    catch (err) {","        // task has never succeeded before","        return new Date(0);","    }","}","function getFilesNewerThan(paths, time) {","    var filtered = _.filter(paths, function (path) {","        var stats = fs.statSync(path);","        return stats.mtime > time;","    });","    return filtered;","}","function anyNewerThan(paths, time) {","    return getFilesNewerThan(paths, time).length > 0;","}","exports.anyNewerThan = anyNewerThan;","function filterPathsByTime(paths, targetName) {","    var time = getLastSuccessfullCompile(targetName);","    return getFilesNewerThan(paths, time);","}","exports.filterPathsByTime = filterPathsByTime;","//////////////////////////////","// File hash based filtering","//////////////////////////////","/**"," * Get path to cached file hash for a target."," * @return {string} Path to hash."," */","function getHashPath(filePath, targetName) {","    var hashedName = path.basename(filePath) + '-' + crypto.createHash('md5').update(filePath).digest('hex');","    return path.join(exports.cacheDir, targetName, 'hashes', hashedName);","}","/**"," * Get an existing hash for a file (if it exists)."," */","function getExistingHash(filePath, targetName) {","    var hashPath = getHashPath(filePath, targetName);","    var exists = fs.existsSync(hashPath);","    if (!exists) {","        return null;","    }","    return fs.readFileSync(hashPath).toString();","}","/**"," * Generate a hash (md5sum) of a file contents."," * @param {string} filePath Path to file."," */","function generateFileHash(filePath) {","    var md5sum = crypto.createHash('md5');","    var data = fs.readFileSync(filePath);","    md5sum.update(data);","    return md5sum.digest('hex');","}","/**"," * Filter files based on hashed contents."," * @param {Array.<string>} paths List of paths to files."," * @param {string} cacheDir Cache directory."," * @param {string} taskName Task name."," * @param {string} targetName Target name."," * @param {function(Error, Array.<string>)} callback Callback called with any"," *     error and a filtered list of files that only includes files with hashes"," *     that are different than the cached hashes for the same files."," */","function filterPathsByHash(filePaths, targetName) {","    var filtered = _.filter(filePaths, function (filePath) {","        var previous = getExistingHash(filePath, targetName);","        var current = generateFileHash(filePath);","        return previous !== current;","    });","    return filtered;","}","function updateHashes(filePaths, targetName) {","    _.forEach(filePaths, function (filePath) {","        var hashPath = getHashPath(filePath, targetName);","        var hash = generateFileHash(filePath);","        grunt.file.write(hashPath, hash);","    });","}","//////////////////////////////","// External functions","//////////////////////////////","/**"," * Filter a list of files by target"," */","function getNewFilesForTarget(paths, targetName) {","    var step1 = filterPathsByTime(paths, targetName);","    var step2 = filterPathsByHash(step1, targetName);","    return step2;","}","exports.getNewFilesForTarget = getNewFilesForTarget;","/**"," * Update the timestamp for a target to denote last successful compile"," */","function compileSuccessfull(paths, targetName) {","    // update timestamp","    grunt.file.write(getStampPath(targetName), '');","    // update filehash","    updateHashes(paths, targetName);","}","exports.compileSuccessfull = compileSuccessfull;","function clearCache(targetName) {","    var cacheDirForTarget = path.join(exports.cacheDir, targetName);","    try {","        if (fs.existsSync(cacheDirForTarget)) {","            rimraf.sync(cacheDirForTarget);","            grunt.log.writeln(('Cleared fast compile cache for target: ' + targetName).cyan);","        }","    }","    catch (ex) {","        grunt.log.writeln(('Failed to clear compile cache for target: ' + targetName).red);","    }","}","exports.clearCache = clearCache;","//# sourceMappingURL=cacheUtils.js.map"],"l":{"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"17":1,"21":1,"22":0,"24":1,"25":0,"26":0,"27":0,"31":0,"34":1,"35":0,"36":0,"37":0,"39":0,"41":1,"42":0,"44":1,"45":1,"46":0,"47":0,"49":1,"57":1,"58":0,"59":0,"64":1,"65":0,"66":0,"67":0,"68":0,"70":0,"76":1,"77":0,"78":0,"79":0,"80":0,"92":1,"93":0,"94":0,"95":0,"96":0,"98":0,"100":1,"101":0,"102":0,"103":0,"104":0,"113":1,"114":0,"115":0,"116":0,"118":1,"122":1,"124":0,"126":0,"128":1,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"138":0,"141":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/reference.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/reference.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"updateReferenceFile","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":87}}},"2":{"name":"(anonymous_2)","line":62,"loc":{"start":{"line":62,"column":43},"end":{"line":62,"column":59}}},"3":{"name":"(anonymous_3)","line":65,"loc":{"start":{"line":65,"column":18},"end":{"line":65,"column":38}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":23}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"6":{"start":{"line":12,"column":0},"end":{"line":89,"column":1}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":49}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":30}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":60}},"10":{"start":{"line":16,"column":4},"end":{"line":16,"column":44}},"11":{"start":{"line":17,"column":4},"end":{"line":17,"column":40}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":48}},"13":{"start":{"line":20,"column":4},"end":{"line":20,"column":19}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":27}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":32}},"16":{"start":{"line":25,"column":4},"end":{"line":25,"column":37}},"17":{"start":{"line":26,"column":4},"end":{"line":26,"column":10}},"18":{"start":{"line":28,"column":4},"end":{"line":28,"column":31}},"19":{"start":{"line":29,"column":4},"end":{"line":60,"column":5}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":70}},"21":{"start":{"line":31,"column":8},"end":{"line":31,"column":54}},"22":{"start":{"line":32,"column":8},"end":{"line":32,"column":39}},"23":{"start":{"line":34,"column":8},"end":{"line":34,"column":48}},"24":{"start":{"line":35,"column":8},"end":{"line":59,"column":9}},"25":{"start":{"line":36,"column":12},"end":{"line":36,"column":43}},"26":{"start":{"line":38,"column":12},"end":{"line":43,"column":13}},"27":{"start":{"line":40,"column":16},"end":{"line":40,"column":45}},"28":{"start":{"line":41,"column":16},"end":{"line":41,"column":42}},"29":{"start":{"line":42,"column":16},"end":{"line":42,"column":25}},"30":{"start":{"line":44,"column":12},"end":{"line":47,"column":13}},"31":{"start":{"line":45,"column":16},"end":{"line":45,"column":43}},"32":{"start":{"line":46,"column":16},"end":{"line":46,"column":25}},"33":{"start":{"line":48,"column":12},"end":{"line":50,"column":13}},"34":{"start":{"line":49,"column":16},"end":{"line":49,"column":25}},"35":{"start":{"line":52,"column":12},"end":{"line":52,"column":37}},"36":{"start":{"line":54,"column":12},"end":{"line":58,"column":13}},"37":{"start":{"line":55,"column":16},"end":{"line":55,"column":55}},"38":{"start":{"line":56,"column":16},"end":{"line":56,"column":40}},"39":{"start":{"line":57,"column":16},"end":{"line":57,"column":50}},"40":{"start":{"line":62,"column":4},"end":{"line":62,"column":148}},"41":{"start":{"line":62,"column":61},"end":{"line":62,"column":144}},"42":{"start":{"line":63,"column":4},"end":{"line":63,"column":79}},"43":{"start":{"line":65,"column":4},"end":{"line":76,"column":7}},"44":{"start":{"line":67,"column":8},"end":{"line":67,"column":71}},"45":{"start":{"line":69,"column":8},"end":{"line":73,"column":9}},"46":{"start":{"line":70,"column":12},"end":{"line":72,"column":13}},"47":{"start":{"line":71,"column":16},"end":{"line":71,"column":23}},"48":{"start":{"line":75,"column":8},"end":{"line":75,"column":64}},"49":{"start":{"line":77,"column":4},"end":{"line":77,"column":35}},"50":{"start":{"line":78,"column":4},"end":{"line":78,"column":98}},"51":{"start":{"line":79,"column":4},"end":{"line":79,"column":57}},"52":{"start":{"line":82,"column":4},"end":{"line":88,"column":5}},"53":{"start":{"line":83,"column":8},"end":{"line":83,"column":61}},"54":{"start":{"line":84,"column":8},"end":{"line":84,"column":20}},"55":{"start":{"line":87,"column":8},"end":{"line":87,"column":21}},"56":{"start":{"line":90,"column":0},"end":{"line":90,"column":50}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":4}},{"start":{"line":29,"column":4},"end":{"line":29,"column":4}}]},"2":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":38,"column":12}},{"start":{"line":38,"column":12},"end":{"line":38,"column":12}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":44,"column":12}},{"start":{"line":44,"column":12},"end":{"line":44,"column":12}}]},"4":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":12},"end":{"line":48,"column":12}},{"start":{"line":48,"column":12},"end":{"line":48,"column":12}}]},"5":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":12},"end":{"line":54,"column":12}},{"start":{"line":54,"column":12},"end":{"line":54,"column":12}}]},"6":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":8},"end":{"line":69,"column":8}},{"start":{"line":69,"column":8},"end":{"line":69,"column":8}}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12}},{"start":{"line":70,"column":12},"end":{"line":70,"column":12}}]},"8":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","\"use strict\";","var _ = require('lodash');","var _str = require('underscore.string');","var fs = require('fs');","var grunt = require('grunt');","var utils = require('./utils');","/////////////////////////////////////////////////////////////////////","// Reference file logic","////////////////////////////////////////////////////////////////////","// Updates the reference file","function updateReferenceFile(files, generatedFiles, referenceFile, referencePath, eol) {","    var referenceIntro = '/// <reference path=\"';","    var referenceEnd = '\" />';","    var referenceMatch = /\\/\\/\\/ <reference path=\\\"(.*?)\\\"/;","    var ourSignatureStart = '//grunt-start';","    var ourSignatureEnd = '//grunt-end';","    // remove the generated files from files:","    files = _.difference(files, generatedFiles);","    var lines = []; // All lines of the file","    var origFileLines = []; // The lines we do not modify and send out as is. Lines will we reach grunt-ts generated","    var origFileReferences = []; // The list of files already there that we do not need to manage","    // Location of our generated references","    // By default at start of file","    var signatureSectionPosition = 0;","    var i;","    // Read the original file if it exists","    var referenceContents = '';","    if (fs.existsSync(referenceFile)) {","        referenceContents = fs.readFileSync(referenceFile).toString();","        lines = referenceContents.split(/\\r\\n|\\r|\\n/);","        var inSignatureSection = false;","        // By default our signature goes at end of file","        signatureSectionPosition = lines.length;","        for (i = 0; i < lines.length; i++) {","            var line = _str.trim(lines[i]);","            // Skip logic for our generated section","            if (_str.include(line, ourSignatureStart)) {","                // Wait for the end signature:","                signatureSectionPosition = i;","                inSignatureSection = true;","                continue;","            }","            if (_str.include(line, ourSignatureEnd)) {","                inSignatureSection = false;","                continue;","            }","            if (inSignatureSection) {","                continue;","            }","            // store the line","            origFileLines.push(line);","            // Fetch the existing reference's filename if any:","            if (_str.include(line, referenceIntro)) {","                var match = line.match(referenceMatch);","                var filename = match[1];","                origFileReferences.push(filename);","            }","        }","    }","    // Put in the generated files","    generatedFiles = _.map(generatedFiles, function (file) { return referenceIntro + utils.makeRelativePath(referencePath, file) + referenceEnd; });","    var contents = utils.insertArrayAt([ourSignatureStart], 1, generatedFiles);","    // Put in the new / observed missing files:","    files.forEach(function (filename) {","        // The file we are about to add","        var filepath = utils.makeRelativePath(referencePath, filename);","        // If there are orig references","        if (origFileReferences.length) {","            if (_.contains(origFileReferences, filepath)) {","                return;","            }","        }","        // Finally add the filepath","        contents.push(referenceIntro + filepath + referenceEnd);","    });","    contents.push(ourSignatureEnd);","    var updatedFileLines = utils.insertArrayAt(origFileLines, signatureSectionPosition, contents);","    var updatedFileContents = updatedFileLines.join(eol);","    // Modify the orig contents to put in our contents only if changed","    // Also Return whether the file was changed","    if (updatedFileContents !== referenceContents) {","        grunt.file.write(referenceFile, updatedFileContents);","        return true;","    }","    else {","        return false;","    }","}","exports.updateReferenceFile = updateReferenceFile;","//# sourceMappingURL=reference.js.map"],"l":{"3":1,"4":1,"5":1,"6":1,"7":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"25":0,"26":0,"28":0,"29":0,"30":0,"31":0,"32":0,"34":0,"35":0,"36":0,"38":0,"40":0,"41":0,"42":0,"44":0,"45":0,"46":0,"48":0,"49":0,"52":0,"54":0,"55":0,"56":0,"57":0,"62":0,"63":0,"65":0,"67":0,"69":0,"70":0,"71":0,"75":0,"77":0,"78":0,"79":0,"82":0,"83":0,"84":0,"87":0,"90":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/amdLoader.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/amdLoader.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"getReferencesInOrder","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":76}}},"2":{"name":"isGeneratedFile","line":19,"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":39}}},"3":{"name":"(anonymous_3)","line":65,"loc":{"start":{"line":65,"column":45},"end":{"line":65,"column":69}}},"4":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":51},"end":{"line":66,"column":75}}},"5":{"name":"(anonymous_5)","line":67,"loc":{"start":{"line":67,"column":51},"end":{"line":67,"column":75}}},"6":{"name":"(anonymous_6)","line":68,"loc":{"start":{"line":68,"column":43},"end":{"line":68,"column":67}}},"7":{"name":"updateAmdLoader","line":74,"loc":{"start":{"line":74,"column":0},"end":{"line":74,"column":88}}},"8":{"name":"(anonymous_8)","line":77,"loc":{"start":{"line":77,"column":31},"end":{"line":77,"column":48}}},"9":{"name":"(anonymous_9)","line":78,"loc":{"start":{"line":78,"column":29},"end":{"line":78,"column":45}}},"10":{"name":"(anonymous_10)","line":96,"loc":{"start":{"line":96,"column":64},"end":{"line":96,"column":77}}},"11":{"name":"(anonymous_11)","line":102,"loc":{"start":{"line":102,"column":50},"end":{"line":102,"column":66}}},"12":{"name":"(anonymous_12)","line":103,"loc":{"start":{"line":103,"column":68},"end":{"line":103,"column":81}}},"13":{"name":"(anonymous_13)","line":106,"loc":{"start":{"line":106,"column":56},"end":{"line":106,"column":72}}},"14":{"name":"(anonymous_14)","line":107,"loc":{"start":{"line":107,"column":74},"end":{"line":107,"column":87}}},"15":{"name":"(anonymous_15)","line":110,"loc":{"start":{"line":110,"column":56},"end":{"line":110,"column":72}}},"16":{"name":"(anonymous_16)","line":111,"loc":{"start":{"line":111,"column":74},"end":{"line":111,"column":87}}},"17":{"name":"(anonymous_17)","line":114,"loc":{"start":{"line":114,"column":48},"end":{"line":114,"column":64}}},"18":{"name":"(anonymous_18)","line":115,"loc":{"start":{"line":115,"column":66},"end":{"line":115,"column":79}}},"19":{"name":"(anonymous_19)","line":159,"loc":{"start":{"line":159,"column":35},"end":{"line":159,"column":51}}},"20":{"name":"(anonymous_20)","line":174,"loc":{"start":{"line":174,"column":36},"end":{"line":174,"column":52}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":24}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":29}},"8":{"start":{"line":10,"column":0},"end":{"line":71,"column":1}},"9":{"start":{"line":11,"column":4},"end":{"line":17,"column":6}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":56}},"11":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"12":{"start":{"line":20,"column":8},"end":{"line":20,"column":70}},"13":{"start":{"line":23,"column":4},"end":{"line":23,"column":60}},"14":{"start":{"line":25,"column":4},"end":{"line":25,"column":49}},"15":{"start":{"line":28,"column":4},"end":{"line":28,"column":44}},"16":{"start":{"line":29,"column":4},"end":{"line":29,"column":40}},"17":{"start":{"line":30,"column":4},"end":{"line":30,"column":70}},"18":{"start":{"line":32,"column":4},"end":{"line":32,"column":35}},"19":{"start":{"line":33,"column":4},"end":{"line":63,"column":5}},"20":{"start":{"line":34,"column":8},"end":{"line":34,"column":39}},"21":{"start":{"line":35,"column":8},"end":{"line":38,"column":9}},"22":{"start":{"line":37,"column":12},"end":{"line":37,"column":42}},"23":{"start":{"line":39,"column":8},"end":{"line":41,"column":9}},"24":{"start":{"line":40,"column":12},"end":{"line":40,"column":38}},"25":{"start":{"line":43,"column":8},"end":{"line":62,"column":9}},"26":{"start":{"line":44,"column":12},"end":{"line":44,"column":51}},"27":{"start":{"line":45,"column":12},"end":{"line":45,"column":36}},"28":{"start":{"line":46,"column":12},"end":{"line":61,"column":13}},"29":{"start":{"line":48,"column":20},"end":{"line":48,"column":51}},"30":{"start":{"line":49,"column":20},"end":{"line":49,"column":26}},"31":{"start":{"line":51,"column":20},"end":{"line":56,"column":21}},"32":{"start":{"line":52,"column":24},"end":{"line":52,"column":58}},"33":{"start":{"line":55,"column":24},"end":{"line":55,"column":58}},"34":{"start":{"line":57,"column":20},"end":{"line":57,"column":26}},"35":{"start":{"line":59,"column":20},"end":{"line":59,"column":50}},"36":{"start":{"line":60,"column":20},"end":{"line":60,"column":26}},"37":{"start":{"line":65,"column":4},"end":{"line":65,"column":124}},"38":{"start":{"line":65,"column":71},"end":{"line":65,"column":120}},"39":{"start":{"line":66,"column":4},"end":{"line":66,"column":130}},"40":{"start":{"line":66,"column":77},"end":{"line":66,"column":126}},"41":{"start":{"line":67,"column":4},"end":{"line":67,"column":130}},"42":{"start":{"line":67,"column":77},"end":{"line":67,"column":126}},"43":{"start":{"line":68,"column":4},"end":{"line":68,"column":122}},"44":{"start":{"line":68,"column":69},"end":{"line":68,"column":118}},"45":{"start":{"line":69,"column":4},"end":{"line":69,"column":124}},"46":{"start":{"line":70,"column":4},"end":{"line":70,"column":20}},"47":{"start":{"line":72,"column":0},"end":{"line":72,"column":52}},"48":{"start":{"line":74,"column":0},"end":{"line":187,"column":1}},"49":{"start":{"line":75,"column":4},"end":{"line":75,"column":52}},"50":{"start":{"line":75,"column":30},"end":{"line":75,"column":50}},"51":{"start":{"line":76,"column":4},"end":{"line":76,"column":19}},"52":{"start":{"line":77,"column":4},"end":{"line":90,"column":6}},"53":{"start":{"line":78,"column":8},"end":{"line":88,"column":11}},"54":{"start":{"line":80,"column":12},"end":{"line":80,"column":52}},"55":{"start":{"line":82,"column":12},"end":{"line":82,"column":57}},"56":{"start":{"line":84,"column":12},"end":{"line":84,"column":60}},"57":{"start":{"line":86,"column":12},"end":{"line":86,"column":31}},"58":{"start":{"line":87,"column":12},"end":{"line":87,"column":24}},"59":{"start":{"line":89,"column":8},"end":{"line":89,"column":21}},"60":{"start":{"line":92,"column":4},"end":{"line":186,"column":5}},"61":{"start":{"line":93,"column":8},"end":{"line":93,"column":95}},"62":{"start":{"line":95,"column":8},"end":{"line":100,"column":9}},"63":{"start":{"line":96,"column":12},"end":{"line":96,"column":109}},"64":{"start":{"line":96,"column":79},"end":{"line":96,"column":93}},"65":{"start":{"line":99,"column":12},"end":{"line":99,"column":71}},"66":{"start":{"line":101,"column":8},"end":{"line":104,"column":9}},"67":{"start":{"line":102,"column":12},"end":{"line":102,"column":110}},"68":{"start":{"line":102,"column":68},"end":{"line":102,"column":106}},"69":{"start":{"line":103,"column":12},"end":{"line":103,"column":113}},"70":{"start":{"line":103,"column":83},"end":{"line":103,"column":97}},"71":{"start":{"line":105,"column":8},"end":{"line":108,"column":9}},"72":{"start":{"line":106,"column":12},"end":{"line":106,"column":116}},"73":{"start":{"line":106,"column":74},"end":{"line":106,"column":112}},"74":{"start":{"line":107,"column":12},"end":{"line":107,"column":119}},"75":{"start":{"line":107,"column":89},"end":{"line":107,"column":103}},"76":{"start":{"line":109,"column":8},"end":{"line":112,"column":9}},"77":{"start":{"line":110,"column":12},"end":{"line":110,"column":116}},"78":{"start":{"line":110,"column":74},"end":{"line":110,"column":112}},"79":{"start":{"line":111,"column":12},"end":{"line":111,"column":119}},"80":{"start":{"line":111,"column":89},"end":{"line":111,"column":103}},"81":{"start":{"line":113,"column":8},"end":{"line":116,"column":9}},"82":{"start":{"line":114,"column":12},"end":{"line":114,"column":108}},"83":{"start":{"line":114,"column":66},"end":{"line":114,"column":104}},"84":{"start":{"line":115,"column":12},"end":{"line":115,"column":111}},"85":{"start":{"line":115,"column":81},"end":{"line":115,"column":95}},"86":{"start":{"line":122,"column":8},"end":{"line":182,"column":9}},"87":{"start":{"line":124,"column":12},"end":{"line":124,"column":143}},"88":{"start":{"line":125,"column":12},"end":{"line":125,"column":74}},"89":{"start":{"line":127,"column":12},"end":{"line":127,"column":42}},"90":{"start":{"line":128,"column":12},"end":{"line":128,"column":65}},"91":{"start":{"line":129,"column":12},"end":{"line":129,"column":76}},"92":{"start":{"line":130,"column":12},"end":{"line":130,"column":62}},"93":{"start":{"line":131,"column":12},"end":{"line":131,"column":68}},"94":{"start":{"line":132,"column":12},"end":{"line":132,"column":68}},"95":{"start":{"line":133,"column":12},"end":{"line":133,"column":60}},"96":{"start":{"line":134,"column":12},"end":{"line":136,"column":35}},"97":{"start":{"line":138,"column":12},"end":{"line":140,"column":38}},"98":{"start":{"line":142,"column":12},"end":{"line":142,"column":29}},"99":{"start":{"line":144,"column":12},"end":{"line":144,"column":92}},"100":{"start":{"line":145,"column":12},"end":{"line":145,"column":116}},"101":{"start":{"line":146,"column":12},"end":{"line":146,"column":92}},"102":{"start":{"line":147,"column":12},"end":{"line":147,"column":45}},"103":{"start":{"line":148,"column":12},"end":{"line":148,"column":121}},"104":{"start":{"line":149,"column":12},"end":{"line":149,"column":76}},"105":{"start":{"line":150,"column":12},"end":{"line":150,"column":57}},"106":{"start":{"line":151,"column":12},"end":{"line":151,"column":87}},"107":{"start":{"line":158,"column":12},"end":{"line":158,"column":48}},"108":{"start":{"line":159,"column":12},"end":{"line":161,"column":15}},"109":{"start":{"line":160,"column":16},"end":{"line":160,"column":98}},"110":{"start":{"line":164,"column":12},"end":{"line":167,"column":13}},"111":{"start":{"line":165,"column":16},"end":{"line":165,"column":88}},"112":{"start":{"line":166,"column":16},"end":{"line":166,"column":110}},"113":{"start":{"line":170,"column":12},"end":{"line":170,"column":86}},"114":{"start":{"line":171,"column":12},"end":{"line":171,"column":108}},"115":{"start":{"line":173,"column":12},"end":{"line":173,"column":50}},"116":{"start":{"line":174,"column":12},"end":{"line":176,"column":15}},"117":{"start":{"line":175,"column":16},"end":{"line":175,"column":98}},"118":{"start":{"line":178,"column":12},"end":{"line":178,"column":57}},"119":{"start":{"line":180,"column":12},"end":{"line":180,"column":49}},"120":{"start":{"line":181,"column":12},"end":{"line":181,"column":79}},"121":{"start":{"line":185,"column":8},"end":{"line":185,"column":95}},"122":{"start":{"line":188,"column":0},"end":{"line":188,"column":42}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":8}},{"start":{"line":35,"column":8},"end":{"line":35,"column":8}}]},"2":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":39,"column":8}},{"start":{"line":39,"column":8},"end":{"line":39,"column":8}}]},"3":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":8}},{"start":{"line":43,"column":8},"end":{"line":43,"column":8}}]},"4":{"line":46,"type":"switch","locations":[{"start":{"line":47,"column":16},"end":{"line":49,"column":26}},{"start":{"line":50,"column":16},"end":{"line":57,"column":26}},{"start":{"line":58,"column":16},"end":{"line":60,"column":26}}]},"5":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":20},"end":{"line":51,"column":20}},{"start":{"line":51,"column":20},"end":{"line":51,"column":20}}]},"6":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]},"7":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]},"8":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":8}},{"start":{"line":95,"column":8},"end":{"line":95,"column":8}}]},"9":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":8},"end":{"line":101,"column":8}},{"start":{"line":101,"column":8},"end":{"line":101,"column":8}}]},"10":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":8},"end":{"line":105,"column":8}},{"start":{"line":105,"column":8},"end":{"line":105,"column":8}}]},"11":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":8},"end":{"line":109,"column":8}},{"start":{"line":109,"column":8},"end":{"line":109,"column":8}}]},"12":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":8},"end":{"line":113,"column":8}},{"start":{"line":113,"column":8},"end":{"line":113,"column":8}}]},"13":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":8}},{"start":{"line":122,"column":8},"end":{"line":122,"column":8}}]},"14":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":12},"end":{"line":164,"column":12}},{"start":{"line":164,"column":12},"end":{"line":164,"column":12}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","\"use strict\";","var _ = require('lodash');","var _str = require('underscore.string');","var path = require('path');","var fs = require('fs');","var utils = require('./utils');","var grunt = utils.grunt;","var pathSeperator = path.sep;","function getReferencesInOrder(referenceFile, referencePath, generatedFiles) {","    var toreturn = {","        all: [],","        before: [],","        generated: [],","        unordered: [],","        after: []","    };","    var sortedGeneratedFiles = _.sortBy(generatedFiles);","    function isGeneratedFile(filename) {","        return _.indexOf(sortedGeneratedFiles, filename, true) !== -1;","    }","    // When reading","    var referenceMatch = /\\/\\/\\/ <reference path=\\\"(.*?)\\\"/;","    // When writing","    var referenceIntro = '/// <reference path=\"';","    // var referenceEnd = '\" />';","    // The section of unordered files","    var ourSignatureStart = '//grunt-start';","    var ourSignatureEnd = '//grunt-end';","    var lines = fs.readFileSync(referenceFile).toString().split('\\n');","    // Which of the three sections we are in","    var loopState = 0 /* before */;","    for (var i = 0; i < lines.length; i++) {","        var line = _str.trim(lines[i]);","        if (_str.include(line, ourSignatureStart)) {","            // Wait for the end signature:","            loopState = 1 /* unordered */;","        }","        if (_str.include(line, ourSignatureEnd)) {","            loopState = 2 /* after */;","        }","        // Fetch the existing reference's filename if any:","        if (_str.include(line, referenceIntro)) {","            var match = line.match(referenceMatch);","            var filename = match[1];","            switch (loopState) {","                case 0 /* before */:","                    toreturn.before.push(filename);","                    break;","                case 1 /* unordered */:","                    if (isGeneratedFile(filename)) {","                        toreturn.generated.push(filename);","                    }","                    else {","                        toreturn.unordered.push(filename);","                    }","                    break;","                case 2 /* after */:","                    toreturn.after.push(filename);","                    break;","            }","        }","    }","    // Fix the references to be absolute:","    toreturn.before = _.map(toreturn.before, function (relativePath) { return path.resolve(referencePath, relativePath); });","    toreturn.generated = _.map(toreturn.generated, function (relativePath) { return path.resolve(referencePath, relativePath); });","    toreturn.unordered = _.map(toreturn.unordered, function (relativePath) { return path.resolve(referencePath, relativePath); });","    toreturn.after = _.map(toreturn.after, function (relativePath) { return path.resolve(referencePath, relativePath); });","    toreturn.all = Array.prototype.concat.call([], toreturn.before, toreturn.generated, toreturn.unordered, toreturn.after);","    return toreturn;","}","exports.getReferencesInOrder = getReferencesInOrder;","// It updates based on the order of reference files","function updateAmdLoader(referenceFile, files, loaderFile, loaderPath, outDir, newLine) {","    if (newLine === void 0) { newLine = utils.eol; }","    var commonPath;","    var makeRelativeToOutDir = function (files) {","        files = _.map(files, function (file) {","            // Remove common path and replace with absolute outDir","            file = file.replace(commonPath, outDir);","            // remove extension '.ts' / '.tsx':","            file = file.substr(0, file.lastIndexOf('.'));","            // Make relative to amd loader","            file = utils.makeRelativePath(loaderPath, file);","            // Prepend \"./\" to prevent \"basePath\" requirejs setting from interferring:","            file = './' + file;","            return file;","        });","        return files;","    };","    // Read the original file if it exists","    if (fs.existsSync(referenceFile)) {","        grunt.log.verbose.writeln('Generating amdloader from reference file ' + referenceFile);","        // Filter.d.ts,","        if (files.all.length > 0) {","            grunt.log.verbose.writeln('Files: ' + files.all.map(function (f) { return f.cyan; }).join(', '));","        }","        else {","            grunt.warn('No files in reference file: ' + referenceFile);","        }","        if (files.before.length > 0) {","            files.before = _.filter(files.before, function (file) { return !utils.endsWith(file, '.d.ts'); });","            grunt.log.verbose.writeln('Before: ' + files.before.map(function (f) { return f.cyan; }).join(', '));","        }","        if (files.generated.length > 0) {","            files.generated = _.filter(files.generated, function (file) { return !utils.endsWith(file, '.d.ts'); });","            grunt.log.verbose.writeln('Generated: ' + files.generated.map(function (f) { return f.cyan; }).join(', '));","        }","        if (files.unordered.length > 0) {","            files.unordered = _.filter(files.unordered, function (file) { return !utils.endsWith(file, '.d.ts'); });","            grunt.log.verbose.writeln('Unordered: ' + files.unordered.map(function (f) { return f.cyan; }).join(', '));","        }","        if (files.after.length > 0) {","            files.after = _.filter(files.after, function (file) { return !utils.endsWith(file, '.d.ts'); });","            grunt.log.verbose.writeln('After: ' + files.after.map(function (f) { return f.cyan; }).join(', '));","        }","        // If target has outDir we need to make adjust the path","        // c:/somefolder/ts/a , c:/somefolder/ts/inside/b  + c:/somefolder/build/js => c:/somefolder/build/js/a , c:/somefolder/build/js/inside/b","        // Logic:","        //     find the common structure in the source files ,and remove it","        //          Finally: outDir path + remainder section","        if (outDir) {","            // Find common path","            commonPath = utils.findCommonPath(files.before.concat(files.generated.concat(files.unordered.concat(files.after))), pathSeperator);","            grunt.log.verbose.writeln('Found common path: ' + commonPath);","            // Make sure outDir is absolute:","            outDir = path.resolve(outDir);","            grunt.log.verbose.writeln('Using outDir: ' + outDir);","            grunt.log.verbose.writeln('Making files relative to outDir...');","            files.before = makeRelativeToOutDir(files.before);","            files.generated = makeRelativeToOutDir(files.generated);","            files.unordered = makeRelativeToOutDir(files.unordered);","            files.after = makeRelativeToOutDir(files.after);","            var mainTemplate = _.template('define(function (require) { '","                + newLine + '<%= body %>'","                + newLine + '});');","            // The order in the before and after files is important","            var singleRequireTemplate = _.template('\\t require([<%= filename %>],function (){'","                + newLine + '<%= subitem %>'","                + newLine + '\\t });');","            // initial sub item","            var subitem = '';","            // Write out a binary file:","            var binaryTemplate = _.template('define([\"<%= filenames %>\"],function () {});');","            var binaryFilesNames = files.before.concat(files.generated.concat(files.unordered.concat(files.after)));","            var binaryContent = binaryTemplate({ filenames: binaryFilesNames.join('\",\"') });","            var binFileExtension = '.bin.js';","            var loaderFileWithoutExtension = path.dirname(loaderFile) + pathSeperator + path.basename(loaderFile, '.js');","            var binFilename = loaderFileWithoutExtension + binFileExtension;","            grunt.file.write(binFilename, binaryContent);","            grunt.log.verbose.writeln('Binary AMD loader written ' + binFilename.cyan);","            //","            // Notice that we build inside out in the below sections:","            //","            // Generate fileTemplate from inside out","            // Start with after","            // Build the subitem for ordered after items","            files.after = files.after.reverse(); // Important to build inside out","            _.forEach(files.after, function (file) {","                subitem = singleRequireTemplate({ filename: '\"' + file + '\"', subitem: subitem });","            });","            // Next up add the unordered items:","            // For these we will use just one require call","            if (files.unordered.length > 0) {","                var unorderFileNames = files.unordered.join('\",' + newLine + '\\t\\t  \"');","                subitem = singleRequireTemplate({ filename: '\"' + unorderFileNames + '\"', subitem: subitem });","            }","            // Next the generated files","            // For these we will use just one require call","            var generatedFileNames = files.generated.join('\",' + newLine + '\\t\\t  \"');","            subitem = singleRequireTemplate({ filename: '\"' + generatedFileNames + '\"', subitem: subitem });","            // Build the subitem for ordered before items","            files.before = files.before.reverse();","            _.forEach(files.before, function (file) {","                subitem = singleRequireTemplate({ filename: '\"' + file + '\"', subitem: subitem });","            });","            // The last subitem is now the body","            var output = mainTemplate({ body: subitem });","            // Finally write it out","            grunt.file.write(loaderFile, output);","            grunt.log.verbose.writeln('AMD loader written ' + loaderFile.cyan);","        }","    }","    else {","        grunt.log.writeln('Cannot generate amd loader unless a reference file is present'.red);","    }","}","exports.updateAmdLoader = updateAmdLoader;","//# sourceMappingURL=amdLoader.js.map"],"l":{"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"18":0,"19":1,"20":0,"23":0,"25":0,"28":0,"29":0,"30":0,"32":0,"33":0,"34":0,"35":0,"37":0,"39":0,"40":0,"43":0,"44":0,"45":0,"46":0,"48":0,"49":0,"51":0,"52":0,"55":0,"57":0,"59":0,"60":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"72":1,"74":1,"75":0,"76":0,"77":0,"78":0,"80":0,"82":0,"84":0,"86":0,"87":0,"89":0,"92":0,"93":0,"95":0,"96":0,"99":0,"101":0,"102":0,"103":0,"105":0,"106":0,"107":0,"109":0,"110":0,"111":0,"113":0,"114":0,"115":0,"122":0,"124":0,"125":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"138":0,"142":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"158":0,"159":0,"160":0,"164":0,"165":0,"166":0,"170":0,"171":0,"173":0,"174":0,"175":0,"178":0,"180":0,"181":0,"185":0,"188":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/html2ts.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/html2ts.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":1,"16":0,"17":1,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":1,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":16,"loc":{"start":{"line":16,"column":20},"end":{"line":16,"column":50}}},"2":{"name":"(anonymous_2)","line":25,"loc":{"start":{"line":25,"column":14},"end":{"line":25,"column":29}}},"3":{"name":"(anonymous_3)","line":26,"loc":{"start":{"line":26,"column":37},"end":{"line":26,"column":51}}},"4":{"name":"stripBOM","line":29,"loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":23}}},"5":{"name":"htmlInternalTemplate","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":42}}},"6":{"name":"compileHTML","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":40}}},"7":{"name":"replaceNewLines","line":67,"loc":{"start":{"line":67,"column":0},"end":{"line":67,"column":42}}},"8":{"name":"getOutputFile","line":70,"loc":{"start":{"line":70,"column":0},"end":{"line":70,"column":54}}},"9":{"name":"getPath","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":22}}},"10":{"name":"mkdirParent","line":93,"loc":{"start":{"line":93,"column":0},"end":{"line":93,"column":36}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}},"6":{"start":{"line":16,"column":0},"end":{"line":21,"column":2}},"7":{"start":{"line":17,"column":4},"end":{"line":17,"column":51}},"8":{"start":{"line":17,"column":32},"end":{"line":17,"column":49}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":56}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":23}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":87}},"12":{"start":{"line":25,"column":0},"end":{"line":27,"column":2}},"13":{"start":{"line":26,"column":4},"end":{"line":26,"column":98}},"14":{"start":{"line":26,"column":53},"end":{"line":26,"column":94}},"15":{"start":{"line":29,"column":0},"end":{"line":33,"column":1}},"16":{"start":{"line":30,"column":4},"end":{"line":32,"column":14}},"17":{"start":{"line":34,"column":0},"end":{"line":39,"column":1}},"18":{"start":{"line":35,"column":4},"end":{"line":38,"column":25}},"19":{"start":{"line":43,"column":0},"end":{"line":64,"column":1}},"20":{"start":{"line":44,"column":4},"end":{"line":44,"column":61}},"21":{"start":{"line":45,"column":4},"end":{"line":45,"column":74}},"22":{"start":{"line":46,"column":4},"end":{"line":46,"column":40}},"23":{"start":{"line":48,"column":4},"end":{"line":48,"column":54}},"24":{"start":{"line":49,"column":4},"end":{"line":49,"column":57}},"25":{"start":{"line":50,"column":4},"end":{"line":50,"column":90}},"26":{"start":{"line":51,"column":4},"end":{"line":51,"column":104}},"27":{"start":{"line":52,"column":4},"end":{"line":52,"column":20}},"28":{"start":{"line":53,"column":4},"end":{"line":58,"column":5}},"29":{"start":{"line":54,"column":8},"end":{"line":54,"column":136}},"30":{"start":{"line":57,"column":8},"end":{"line":57,"column":159}},"31":{"start":{"line":60,"column":4},"end":{"line":60,"column":82}},"32":{"start":{"line":61,"column":4},"end":{"line":61,"column":42}},"33":{"start":{"line":62,"column":4},"end":{"line":62,"column":46}},"34":{"start":{"line":63,"column":4},"end":{"line":63,"column":22}},"35":{"start":{"line":65,"column":0},"end":{"line":65,"column":34}},"36":{"start":{"line":67,"column":0},"end":{"line":69,"column":1}},"37":{"start":{"line":68,"column":4},"end":{"line":68,"column":61}},"38":{"start":{"line":70,"column":0},"end":{"line":84,"column":1}},"39":{"start":{"line":71,"column":4},"end":{"line":71,"column":30}},"40":{"start":{"line":73,"column":4},"end":{"line":82,"column":5}},"41":{"start":{"line":74,"column":8},"end":{"line":74,"column":38}},"42":{"start":{"line":75,"column":8},"end":{"line":81,"column":9}},"43":{"start":{"line":76,"column":12},"end":{"line":76,"column":44}},"44":{"start":{"line":77,"column":12},"end":{"line":79,"column":13}},"45":{"start":{"line":78,"column":16},"end":{"line":78,"column":59}},"46":{"start":{"line":80,"column":12},"end":{"line":80,"column":58}},"47":{"start":{"line":83,"column":4},"end":{"line":83,"column":30}},"48":{"start":{"line":85,"column":0},"end":{"line":92,"column":1}},"49":{"start":{"line":87,"column":4},"end":{"line":90,"column":5}},"50":{"start":{"line":89,"column":8},"end":{"line":89,"column":44}},"51":{"start":{"line":91,"column":4},"end":{"line":91,"column":15}},"52":{"start":{"line":93,"column":0},"end":{"line":107,"column":1}},"53":{"start":{"line":95,"column":4},"end":{"line":106,"column":5}},"54":{"start":{"line":96,"column":8},"end":{"line":96,"column":36}},"55":{"start":{"line":100,"column":8},"end":{"line":105,"column":9}},"56":{"start":{"line":102,"column":12},"end":{"line":102,"column":53}},"57":{"start":{"line":104,"column":12},"end":{"line":104,"column":39}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"2":{"line":30,"type":"cond-expr","locations":[{"start":{"line":31,"column":10},"end":{"line":31,"column":26}},{"start":{"line":32,"column":10},"end":{"line":32,"column":13}}]},"3":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":53,"column":4}},{"start":{"line":53,"column":4},"end":{"line":53,"column":4}}]},"4":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"5":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"6":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":12},"end":{"line":77,"column":12}},{"start":{"line":77,"column":12},"end":{"line":77,"column":12}}]},"7":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"8":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"9":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":12},"end":{"line":100,"column":17}},{"start":{"line":100,"column":21},"end":{"line":100,"column":39}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","\"use strict\";","var _ = require('lodash');","var fs = require('fs');","var path = require('path');","var utils = require('./utils');","var grunt = utils.grunt;","/////////////////////////////////////////////////////////////////////","// HTML -> TS","////////////////////////////////////////////////////////////////////","// html -> js processing functions:","// Originally from karma-html2js-preprocessor","// Refactored nicely in html2js grunt task","// https://github.com/karlgoldstein/grunt-html2js/blob/master/tasks/html2js.js","// Modified nlReplace to be an empty string","var escapeContent = function (content, quoteChar) {","    if (quoteChar === void 0) { quoteChar = '\\''; }","    var quoteRegexp = new RegExp('\\\\' + quoteChar, 'g');","    var nlReplace = '';","    return content.replace(quoteRegexp, '\\\\' + quoteChar).replace(/\\r?\\n/g, nlReplace);","};","// Convert a string to camelCase","// Inspired by http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/","// Solves the issue of serving a module name that includes dashes","var toCamel = function (str) {","    return str.replace(/(\\-[a-z])/g, function ($1) { return $1.toUpperCase().replace('-', ''); });","};","// Remove bom when reading utf8 files","function stripBOM(str) {","    return 0xFEFF === str.charCodeAt(0)","        ? str.substring(1)","        : str;","}","function htmlInternalTemplate(lineEnding) {","    return '/* tslint:disable:max-line-length */' + lineEnding +","        'module <%= modulename %> {' + lineEnding +","        '  export var <%= varname %> = \\'<%= content %>\\';' + lineEnding +","        '}' + lineEnding;","}",";","// Compile an HTML file to a TS file","// Return the filename. This filename will be required by reference.ts","function compileHTML(filename, options) {","    grunt.log.verbose.writeln('Compiling HTML: ' + filename);","    var htmlContent = escapeContent(fs.readFileSync(filename).toString());","    htmlContent = stripBOM(htmlContent);","    // TODO: place a minification pipeline here if you want.","    var ext = path.extname(filename).replace('.', '');","    var extFreename = path.basename(filename, '.' + ext);","    var moduleName = toCamel(options.moduleFunction({ ext: ext, filename: extFreename }));","    var varName = toCamel(options.varFunction({ ext: ext, filename: extFreename }).replace(/\\./g, '_'));","    var fileContent;","    if (!options.htmlOutputTemplate) {","        fileContent = _.template(htmlInternalTemplate(options.eol))({ modulename: moduleName, varname: varName, content: htmlContent });","    }","    else {","        fileContent = _.template(replaceNewLines(options.htmlOutputTemplate, options.eol))({ modulename: moduleName, varname: varName, content: htmlContent });","    }","    // Write the content to a file","    var outputfile = getOutputFile(filename, options.htmlOutDir, options.flatten);","    mkdirParent(path.dirname(outputfile));","    fs.writeFileSync(outputfile, fileContent);","    return outputfile;","}","exports.compileHTML = compileHTML;","// Replace user-supplied templates newlines with newlines appropriate for the current OS","function replaceNewLines(input, newLines) {","    return input.replace(/\\r/g, '').replace(/\\n/g, newLines);","}","function getOutputFile(filename, htmlOutDir, flatten) {","    var outputfile = filename;","    // NOTE If an htmlOutDir was specified","    if (htmlOutDir !== null) {","        var dir = getPath(htmlOutDir);","        if (fs.existsSync(dir)) {","            var relativeFilename = filename;","            if (flatten) {","                relativeFilename = path.basename(filename);","            }","            outputfile = path.join(dir, relativeFilename);","        }","    }","    return outputfile + '.ts';","}","function getPath(dir) {","    // NOTE If we don't have a valid absolute path","    if (!fs.existsSync(dir)) {","        // NOTE Try relative from the current working directory","        dir = path.join(process.cwd(), dir);","    }","    return dir;","}","function mkdirParent(dirPath, mode) {","    // NOTE Call the standard fs.mkdirSync","    try {","        fs.mkdirSync(dirPath, mode);","    }","    catch (error) {","        // NOTE When it fail in this way, do the custom steps","        if (error && error.errno === 34) {","            // NOTE Create all the parents recursively","            mkdirParent(path.dirname(dirPath), mode);","            // NOTE And then the directory","            mkdirParent(dirPath, mode);","        }","    }","}","//# sourceMappingURL=html2ts.js.map"],"l":{"3":1,"4":1,"5":1,"6":1,"7":1,"16":1,"17":0,"18":0,"19":0,"20":0,"25":1,"26":0,"29":1,"30":0,"34":1,"35":0,"43":1,"44":0,"45":0,"46":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"57":0,"60":0,"61":0,"62":0,"63":0,"65":1,"67":1,"68":0,"70":1,"71":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"80":0,"83":0,"85":1,"87":0,"89":0,"91":0,"93":1,"95":0,"96":0,"100":0,"102":0,"104":0}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/templateCache.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/templateCache.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"generateTemplateCache","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":57}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":35},"end":{"line":16,"column":57}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":31},"end":{"line":17,"column":53}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":49}}},"5":{"name":"(anonymous_5)","line":29,"loc":{"start":{"line":29,"column":44},"end":{"line":29,"column":64}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"5":{"start":{"line":11,"column":0},"end":{"line":47,"column":1}},"6":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":15}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":125}},"9":{"start":{"line":16,"column":59},"end":{"line":16,"column":121}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":92}},"11":{"start":{"line":17,"column":55},"end":{"line":17,"column":88}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":114}},"13":{"start":{"line":18,"column":51},"end":{"line":18,"column":111}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":63}},"15":{"start":{"line":20,"column":4},"end":{"line":25,"column":23}},"16":{"start":{"line":26,"column":4},"end":{"line":26,"column":79}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":68}},"18":{"start":{"line":28,"column":4},"end":{"line":28,"column":111}},"19":{"start":{"line":29,"column":4},"end":{"line":32,"column":21}},"20":{"start":{"line":29,"column":66},"end":{"line":32,"column":7}},"21":{"start":{"line":33,"column":4},"end":{"line":37,"column":7}},"22":{"start":{"line":39,"column":4},"end":{"line":44,"column":5}},"23":{"start":{"line":40,"column":8},"end":{"line":40,"column":64}},"24":{"start":{"line":41,"column":8},"end":{"line":43,"column":9}},"25":{"start":{"line":42,"column":12},"end":{"line":42,"column":19}},"26":{"start":{"line":46,"column":4},"end":{"line":46,"column":40}},"27":{"start":{"line":48,"column":0},"end":{"line":48,"column":54}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"2":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":4}},{"start":{"line":39,"column":4},"end":{"line":39,"column":4}}]},"3":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":8},"end":{"line":41,"column":8}},{"start":{"line":41,"column":8},"end":{"line":41,"column":8}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","\"use strict\";","var _ = require('lodash');","var fs = require('fs');","var path = require('path');","var utils = require('./utils');","/////////////////////////////////////////////////////////////////////","// AngularJS templateCache","////////////////////////////////////////////////////////////////////","// templateCache processing function","function generateTemplateCache(src, dest, basePath, eol) {","    if (!src.length) {","        return;","    }","    // Resolve the relative path from basePath to each src file","    var relativePaths = _.map(src, function (anHtmlFile) { return 'text!' + utils.makeRelativePath(basePath, anHtmlFile); });","    var fileNames = _.map(src, function (anHtmlFile) { return path.basename(anHtmlFile); });","    var fileVarialbeName = function (anHtmlFile) { return anHtmlFile.split('.').join('_').split('-').join('_'); };","    var fileVariableNames = _.map(fileNames, fileVarialbeName);","    var templateCacheTemplate = _.template('// You must have requirejs + text plugin loaded for this to work.'","        + eol + 'define([<%=relativePathSection%>],function(<%=fileNameVariableSection%>){'","        + eol + 'angular.module(\"ng\").run([\"$templateCache\",function($templateCache) {'","        + eol + '<%=templateCachePut%>'","        + eol + '}]);'","        + eol + '});');","    var relativePathSection = '\"' + relativePaths.join('\",' + eol + '\"') + '\"';","    var fileNameVariableSection = fileVariableNames.join(',' + eol);","    var templateCachePutTemplate = _.template('$templateCache.put(\"<%= fileName %>\", <%=fileVariableName%>);');","    var templateCachePut = _.map(fileNames, function (fileName) { return templateCachePutTemplate({","        fileName: fileName,","        fileVariableName: fileVarialbeName(fileName)","    }); }).join(eol);","    var fileContent = templateCacheTemplate({","        relativePathSection: relativePathSection,","        fileNameVariableSection: fileNameVariableSection,","        templateCachePut: templateCachePut","    });","    // Early exit if new templateCache doesn't change","    if (fs.existsSync(dest)) {","        var originalContents = fs.readFileSync(dest).toString();","        if (originalContents === fileContent) {","            return;","        }","    }","    // write updated contents","    fs.writeFileSync(dest, fileContent);","}","exports.generateTemplateCache = generateTemplateCache;","//# sourceMappingURL=templateCache.js.map"],"l":{"3":1,"4":1,"5":1,"6":1,"11":1,"12":0,"13":0,"16":0,"17":0,"18":0,"19":0,"20":0,"26":0,"27":0,"28":0,"29":0,"33":0,"39":0,"40":0,"41":0,"42":0,"46":0,"48":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/transformers.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/transformers.js","s":{"1":1,"2":5,"3":15,"4":15,"5":1,"6":5,"7":5,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":1,"55":0,"56":1,"57":0,"58":1,"59":0,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":1,"91":1,"92":1,"93":1,"94":0,"95":1,"96":1,"97":1,"98":1,"99":0,"100":0,"101":1,"102":1,"103":1,"104":1,"105":0,"106":1,"107":1,"108":1,"109":1,"110":0,"111":0,"112":0,"113":0,"114":1,"115":0,"116":1,"117":1,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":1},"b":{"1":[1,1,1],"2":[15,0],"3":[0,5],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0],"25":[0,0]},"f":{"1":5,"2":5,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":1,"22":0,"23":1,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":44},"end":{"line":4,"column":60}}},"2":{"name":"__","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":18}}},"3":{"name":"getImports","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":83}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":41},"end":{"line":25,"column":63}}},"5":{"name":"(anonymous_5)","line":36,"loc":{"start":{"line":36,"column":39},"end":{"line":36,"column":60}}},"6":{"name":"(anonymous_6)","line":49,"loc":{"start":{"line":49,"column":55},"end":{"line":49,"column":75}}},"7":{"name":"getTargetFolders","line":68,"loc":{"start":{"line":68,"column":0},"end":{"line":68,"column":39}}},"8":{"name":"(anonymous_8)","line":70,"loc":{"start":{"line":70,"column":27},"end":{"line":70,"column":49}}},"9":{"name":"(anonymous_9)","line":80,"loc":{"start":{"line":80,"column":23},"end":{"line":80,"column":35}}},"10":{"name":"BaseTransformer","line":81,"loc":{"start":{"line":81,"column":4},"end":{"line":81,"column":50}}},"11":{"name":"(anonymous_11)","line":88,"loc":{"start":{"line":88,"column":46},"end":{"line":88,"column":58}}},"12":{"name":"(anonymous_12)","line":93,"loc":{"start":{"line":93,"column":44},"end":{"line":93,"column":60}}},"13":{"name":"(anonymous_13)","line":96,"loc":{"start":{"line":96,"column":40},"end":{"line":96,"column":56}}},"14":{"name":"(anonymous_14)","line":99,"loc":{"start":{"line":99,"column":49},"end":{"line":99,"column":65}}},"15":{"name":"(anonymous_15)","line":110,"loc":{"start":{"line":110,"column":35},"end":{"line":110,"column":53}}},"16":{"name":"BaseImportExportTransformer","line":112,"loc":{"start":{"line":112,"column":4},"end":{"line":112,"column":116}}},"17":{"name":"(anonymous_17)","line":119,"loc":{"start":{"line":119,"column":54},"end":{"line":119,"column":90}}},"18":{"name":"(anonymous_18)","line":129,"loc":{"start":{"line":129,"column":35},"end":{"line":129,"column":65}}},"19":{"name":"(anonymous_19)","line":152,"loc":{"start":{"line":152,"column":25},"end":{"line":152,"column":43}}},"20":{"name":"ImportTransformer","line":154,"loc":{"start":{"line":154,"column":4},"end":{"line":154,"column":33}}},"21":{"name":"(anonymous_21)","line":159,"loc":{"start":{"line":159,"column":25},"end":{"line":159,"column":43}}},"22":{"name":"ExportTransformer","line":161,"loc":{"start":{"line":161,"column":4},"end":{"line":161,"column":36}}},"23":{"name":"(anonymous_23)","line":172,"loc":{"start":{"line":172,"column":28},"end":{"line":172,"column":46}}},"24":{"name":"ReferenceTransformer","line":174,"loc":{"start":{"line":174,"column":4},"end":{"line":174,"column":36}}},"25":{"name":"(anonymous_25)","line":181,"loc":{"start":{"line":181,"column":26},"end":{"line":181,"column":44}}},"26":{"name":"UnknownTransformer","line":183,"loc":{"start":{"line":183,"column":4},"end":{"line":183,"column":34}}},"27":{"name":"(anonymous_27)","line":189,"loc":{"start":{"line":189,"column":45},"end":{"line":189,"column":81}}},"28":{"name":"transformFiles","line":197,"loc":{"start":{"line":197,"column":0},"end":{"line":197,"column":60}}},"29":{"name":"(anonymous_29)","line":207,"loc":{"start":{"line":207,"column":28},"end":{"line":207,"column":53}}},"30":{"name":"(anonymous_30)","line":221,"loc":{"start":{"line":221,"column":37},"end":{"line":221,"column":60}}},"31":{"name":"(anonymous_31)","line":225,"loc":{"start":{"line":225,"column":37},"end":{"line":225,"column":60}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":8,"column":2}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":58}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":58}},"4":{"start":{"line":5,"column":46},"end":{"line":5,"column":58}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":43}},"6":{"start":{"line":6,"column":20},"end":{"line":6,"column":41}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":89}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":29}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":26}},"13":{"start":{"line":14,"column":0},"end":{"line":14,"column":31}},"14":{"start":{"line":16,"column":0},"end":{"line":16,"column":23}},"15":{"start":{"line":17,"column":0},"end":{"line":17,"column":22}},"16":{"start":{"line":21,"column":0},"end":{"line":63,"column":1}},"17":{"start":{"line":22,"column":4},"end":{"line":22,"column":59}},"18":{"start":{"line":22,"column":36},"end":{"line":22,"column":57}},"19":{"start":{"line":23,"column":4},"end":{"line":23,"column":19}},"20":{"start":{"line":25,"column":4},"end":{"line":29,"column":7}},"21":{"start":{"line":26,"column":8},"end":{"line":28,"column":57}},"22":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"23":{"start":{"line":31,"column":8},"end":{"line":31,"column":31}},"24":{"start":{"line":36,"column":4},"end":{"line":38,"column":7}},"25":{"start":{"line":37,"column":8},"end":{"line":37,"column":49}},"26":{"start":{"line":39,"column":4},"end":{"line":61,"column":5}},"27":{"start":{"line":40,"column":8},"end":{"line":40,"column":69}},"28":{"start":{"line":43,"column":8},"end":{"line":60,"column":9}},"29":{"start":{"line":46,"column":12},"end":{"line":46,"column":57}},"30":{"start":{"line":49,"column":12},"end":{"line":57,"column":15}},"31":{"start":{"line":51,"column":16},"end":{"line":53,"column":17}},"32":{"start":{"line":52,"column":20},"end":{"line":52,"column":32}},"33":{"start":{"line":54,"column":16},"end":{"line":56,"column":61}},"34":{"start":{"line":58,"column":12},"end":{"line":58,"column":30}},"35":{"start":{"line":59,"column":12},"end":{"line":59,"column":45}},"36":{"start":{"line":62,"column":4},"end":{"line":62,"column":17}},"37":{"start":{"line":68,"column":0},"end":{"line":79,"column":1}},"38":{"start":{"line":69,"column":4},"end":{"line":69,"column":21}},"39":{"start":{"line":70,"column":4},"end":{"line":77,"column":7}},"40":{"start":{"line":71,"column":8},"end":{"line":71,"column":43}},"41":{"start":{"line":72,"column":8},"end":{"line":76,"column":9}},"42":{"start":{"line":74,"column":12},"end":{"line":74,"column":32}},"43":{"start":{"line":75,"column":12},"end":{"line":75,"column":36}},"44":{"start":{"line":78,"column":4},"end":{"line":78,"column":32}},"45":{"start":{"line":80,"column":0},"end":{"line":108,"column":5}},"46":{"start":{"line":81,"column":4},"end":{"line":87,"column":5}},"47":{"start":{"line":82,"column":8},"end":{"line":82,"column":23}},"48":{"start":{"line":83,"column":8},"end":{"line":83,"column":87}},"49":{"start":{"line":84,"column":8},"end":{"line":84,"column":52}},"50":{"start":{"line":85,"column":8},"end":{"line":85,"column":64}},"51":{"start":{"line":86,"column":8},"end":{"line":86,"column":122}},"52":{"start":{"line":88,"column":4},"end":{"line":92,"column":6}},"53":{"start":{"line":91,"column":8},"end":{"line":91,"column":29}},"54":{"start":{"line":93,"column":4},"end":{"line":95,"column":6}},"55":{"start":{"line":94,"column":8},"end":{"line":94,"column":60}},"56":{"start":{"line":96,"column":4},"end":{"line":98,"column":6}},"57":{"start":{"line":97,"column":8},"end":{"line":97,"column":38}},"58":{"start":{"line":99,"column":4},"end":{"line":101,"column":6}},"59":{"start":{"line":100,"column":8},"end":{"line":100,"column":59}},"60":{"start":{"line":102,"column":4},"end":{"line":102,"column":55}},"61":{"start":{"line":106,"column":4},"end":{"line":106,"column":66}},"62":{"start":{"line":107,"column":4},"end":{"line":107,"column":27}},"63":{"start":{"line":110,"column":0},"end":{"line":151,"column":20}},"64":{"start":{"line":111,"column":4},"end":{"line":111,"column":51}},"65":{"start":{"line":112,"column":4},"end":{"line":118,"column":5}},"66":{"start":{"line":113,"column":8},"end":{"line":113,"column":47}},"67":{"start":{"line":114,"column":8},"end":{"line":114,"column":23}},"68":{"start":{"line":115,"column":8},"end":{"line":115,"column":33}},"69":{"start":{"line":116,"column":8},"end":{"line":116,"column":43}},"70":{"start":{"line":117,"column":8},"end":{"line":117,"column":71}},"71":{"start":{"line":119,"column":4},"end":{"line":149,"column":6}},"72":{"start":{"line":120,"column":8},"end":{"line":120,"column":25}},"73":{"start":{"line":121,"column":8},"end":{"line":121,"column":24}},"74":{"start":{"line":122,"column":8},"end":{"line":147,"column":9}},"75":{"start":{"line":123,"column":12},"end":{"line":123,"column":47}},"76":{"start":{"line":124,"column":12},"end":{"line":124,"column":51}},"77":{"start":{"line":125,"column":12},"end":{"line":125,"column":82}},"78":{"start":{"line":126,"column":12},"end":{"line":126,"column":63}},"79":{"start":{"line":127,"column":12},"end":{"line":127,"column":127}},"80":{"start":{"line":128,"column":12},"end":{"line":143,"column":13}},"81":{"start":{"line":129,"column":16},"end":{"line":139,"column":19}},"82":{"start":{"line":130,"column":20},"end":{"line":130,"column":122}},"83":{"start":{"line":132,"column":20},"end":{"line":134,"column":21}},"84":{"start":{"line":133,"column":24},"end":{"line":133,"column":83}},"85":{"start":{"line":135,"column":20},"end":{"line":135,"column":193}},"86":{"start":{"line":136,"column":20},"end":{"line":138,"column":52}},"87":{"start":{"line":142,"column":16},"end":{"line":142,"column":124}},"88":{"start":{"line":146,"column":12},"end":{"line":146,"column":42}},"89":{"start":{"line":148,"column":8},"end":{"line":148,"column":22}},"90":{"start":{"line":150,"column":4},"end":{"line":150,"column":39}},"91":{"start":{"line":152,"column":0},"end":{"line":158,"column":32}},"92":{"start":{"line":153,"column":4},"end":{"line":153,"column":41}},"93":{"start":{"line":154,"column":4},"end":{"line":156,"column":5}},"94":{"start":{"line":155,"column":8},"end":{"line":155,"column":160}},"95":{"start":{"line":157,"column":4},"end":{"line":157,"column":29}},"96":{"start":{"line":159,"column":0},"end":{"line":171,"column":32}},"97":{"start":{"line":160,"column":4},"end":{"line":160,"column":41}},"98":{"start":{"line":161,"column":4},"end":{"line":169,"column":5}},"99":{"start":{"line":164,"column":8},"end":{"line":167,"column":76}},"100":{"start":{"line":168,"column":8},"end":{"line":168,"column":23}},"101":{"start":{"line":170,"column":4},"end":{"line":170,"column":29}},"102":{"start":{"line":172,"column":0},"end":{"line":180,"column":32}},"103":{"start":{"line":173,"column":4},"end":{"line":173,"column":44}},"104":{"start":{"line":174,"column":4},"end":{"line":178,"column":5}},"105":{"start":{"line":177,"column":8},"end":{"line":177,"column":129}},"106":{"start":{"line":179,"column":4},"end":{"line":179,"column":32}},"107":{"start":{"line":181,"column":0},"end":{"line":193,"column":20}},"108":{"start":{"line":182,"column":4},"end":{"line":182,"column":42}},"109":{"start":{"line":183,"column":4},"end":{"line":188,"column":5}},"110":{"start":{"line":184,"column":8},"end":{"line":184,"column":38}},"111":{"start":{"line":185,"column":8},"end":{"line":185,"column":29}},"112":{"start":{"line":186,"column":8},"end":{"line":186,"column":77}},"113":{"start":{"line":187,"column":8},"end":{"line":187,"column":78}},"114":{"start":{"line":189,"column":4},"end":{"line":191,"column":6}},"115":{"start":{"line":190,"column":8},"end":{"line":190,"column":34}},"116":{"start":{"line":192,"column":4},"end":{"line":192,"column":30}},"117":{"start":{"line":197,"column":0},"end":{"line":246,"column":1}},"118":{"start":{"line":198,"column":4},"end":{"line":198,"column":54}},"119":{"start":{"line":199,"column":4},"end":{"line":199,"column":37}},"120":{"start":{"line":201,"column":4},"end":{"line":206,"column":6}},"121":{"start":{"line":207,"column":4},"end":{"line":245,"column":7}},"122":{"start":{"line":208,"column":8},"end":{"line":208,"column":88}},"123":{"start":{"line":210,"column":8},"end":{"line":212,"column":9}},"124":{"start":{"line":211,"column":12},"end":{"line":211,"column":19}},"125":{"start":{"line":213,"column":8},"end":{"line":213,"column":49}},"126":{"start":{"line":214,"column":8},"end":{"line":214,"column":29}},"127":{"start":{"line":215,"column":8},"end":{"line":240,"column":9}},"128":{"start":{"line":216,"column":12},"end":{"line":216,"column":32}},"129":{"start":{"line":221,"column":12},"end":{"line":223,"column":13}},"130":{"start":{"line":221,"column":62},"end":{"line":221,"column":99}},"131":{"start":{"line":222,"column":16},"end":{"line":222,"column":25}},"132":{"start":{"line":225,"column":12},"end":{"line":237,"column":13}},"133":{"start":{"line":226,"column":16},"end":{"line":226,"column":54}},"134":{"start":{"line":227,"column":16},"end":{"line":233,"column":17}},"135":{"start":{"line":229,"column":20},"end":{"line":229,"column":43}},"136":{"start":{"line":231,"column":20},"end":{"line":231,"column":135}},"137":{"start":{"line":232,"column":20},"end":{"line":232,"column":32}},"138":{"start":{"line":234,"column":16},"end":{"line":234,"column":29}},"139":{"start":{"line":236,"column":16},"end":{"line":236,"column":25}},"140":{"start":{"line":239,"column":12},"end":{"line":239,"column":35}},"141":{"start":{"line":241,"column":8},"end":{"line":241,"column":61}},"142":{"start":{"line":242,"column":8},"end":{"line":244,"column":9}},"143":{"start":{"line":243,"column":12},"end":{"line":243,"column":64}},"144":{"start":{"line":247,"column":0},"end":{"line":247,"column":40}}},"branchMap":{"1":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":17},"end":{"line":4,"column":21}},{"start":{"line":4,"column":25},"end":{"line":4,"column":39}},{"start":{"line":4,"column":44},"end":{"line":8,"column":1}}]},"2":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":21},"end":{"line":5,"column":21}},{"start":{"line":5,"column":21},"end":{"line":5,"column":21}}]},"3":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":31},"end":{"line":7,"column":47}},{"start":{"line":7,"column":51},"end":{"line":7,"column":87}}]},"4":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"5":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":15},"end":{"line":26,"column":49}},{"start":{"line":27,"column":15},"end":{"line":27,"column":58}},{"start":{"line":28,"column":15},"end":{"line":28,"column":56}}]},"6":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"7":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":4}},{"start":{"line":39,"column":4},"end":{"line":39,"column":4}}]},"8":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":8}},{"start":{"line":43,"column":8},"end":{"line":43,"column":8}}]},"9":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":25}},{"start":{"line":44,"column":15},"end":{"line":44,"column":51}},{"start":{"line":45,"column":15},"end":{"line":45,"column":75}}]},"10":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":16},"end":{"line":51,"column":16}},{"start":{"line":51,"column":16},"end":{"line":51,"column":16}}]},"11":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":23},"end":{"line":54,"column":45}},{"start":{"line":55,"column":24},"end":{"line":55,"column":55}},{"start":{"line":55,"column":59},"end":{"line":55,"column":91}},{"start":{"line":56,"column":23},"end":{"line":56,"column":60}}]},"12":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":15},"end":{"line":72,"column":26}},{"start":{"line":72,"column":30},"end":{"line":72,"column":47}}]},"13":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":8}},{"start":{"line":122,"column":8},"end":{"line":122,"column":8}}]},"14":{"line":125,"type":"cond-expr","locations":[{"start":{"line":125,"column":59},"end":{"line":125,"column":73}},{"start":{"line":125,"column":76},"end":{"line":125,"column":80}}]},"15":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":12},"end":{"line":128,"column":12}},{"start":{"line":128,"column":12},"end":{"line":128,"column":12}}]},"16":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":35},"end":{"line":130,"column":56}},{"start":{"line":130,"column":60},"end":{"line":130,"column":121}}]},"17":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":20},"end":{"line":132,"column":20}},{"start":{"line":132,"column":20},"end":{"line":132,"column":20}}]},"18":{"line":135,"type":"cond-expr","locations":[{"start":{"line":135,"column":117},"end":{"line":135,"column":164}},{"start":{"line":135,"column":167},"end":{"line":135,"column":185}}]},"19":{"line":203,"type":"binary-expr","locations":[{"start":{"line":203,"column":31},"end":{"line":203,"column":46}},{"start":{"line":203,"column":50},"end":{"line":203,"column":59}}]},"20":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":8},"end":{"line":210,"column":8}},{"start":{"line":210,"column":8},"end":{"line":210,"column":8}}]},"21":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":12},"end":{"line":221,"column":12}},{"start":{"line":221,"column":12},"end":{"line":221,"column":12}}]},"22":{"line":225,"type":"if","locations":[{"start":{"line":225,"column":12},"end":{"line":225,"column":12}},{"start":{"line":225,"column":12},"end":{"line":225,"column":12}}]},"23":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":16},"end":{"line":227,"column":16}},{"start":{"line":227,"column":16},"end":{"line":227,"column":16}}]},"24":{"line":231,"type":"binary-expr","locations":[{"start":{"line":231,"column":93},"end":{"line":231,"column":101}},{"start":{"line":231,"column":105},"end":{"line":231,"column":113}},{"start":{"line":231,"column":117},"end":{"line":231,"column":132}}]},"25":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":8},"end":{"line":242,"column":8}},{"start":{"line":242,"column":8},"end":{"line":242,"column":8}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","/// <reference path=\"./interfaces.d.ts\"/>","\"use strict\";","var __extends = (this && this.__extends) || function (d, b) {","    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];","    function __() { this.constructor = d; }","    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());","};","var fs = require('fs');","var path = require('path');","var grunt = require('grunt');","var _str = require('underscore.string');","var _ = require('lodash');","var utils = require('./utils');","// Setup when transformers are triggered","var currentTargetFiles;","var currentTargetDirs;","// Based on name","// if a filename matches we return a filepath","// If a foldername matches we return a folderpath","function getImports(currentFilePath, name, targetFiles, targetDirs, getIndexIfDir) {","    if (getIndexIfDir === void 0) { getIndexIfDir = true; }","    var files = [];","    // Test if any filename matches","    var targetFile = _.find(targetFiles, function (targetFile) {","        return path.basename(targetFile) === name","            || path.basename(targetFile, '.d.ts') === name","            || path.basename(targetFile, '.ts') === name;","    });","    if (targetFile) {","        files.push(targetFile);","    }","    // It might be worthwhile to cache this lookup","    // i.e. have a 'foldername':folderpath map passed in","    // Test if dirname matches","    var targetDir = _.find(targetDirs, function (targetDir) {","        return path.basename(targetDir) === name;","    });","    if (targetDir) {","        var possibleIndexFilePath = path.join(targetDir, 'index.ts');","        // If targetDir has an index file AND this is not that file then","        // use index.ts instead of all the files in the directory","        if (getIndexIfDir","            && fs.existsSync(possibleIndexFilePath)","            && path.relative(currentFilePath, possibleIndexFilePath) !== '') {","            files.push(path.join(targetDir, 'index.ts'));","        }","        else {","            var filesInDir = utils.getFiles(targetDir, function (filename) {","                // exclude current file","                if (path.relative(currentFilePath, filename) === '') {","                    return true;","                }","                return path.extname(filename) // must have extension : do not exclude directories","                    && (!_str.endsWith(filename, '.ts') || _str.endsWith(filename, '.d.ts'))","                    && !fs.lstatSync(filename).isDirectory(); // for people that name directories with dots","            });","            filesInDir.sort(); // Sort needed to increase reliability of codegen between runs","            files = files.concat(filesInDir);","        }","    }","    return files;","}","// Algo","// Notice that the file globs come as","// test/fail/ts/deep/work.ts","// So simply get dirname recursively till reach root '.'","function getTargetFolders(targetFiles) {","    var folders = {};","    _.forEach(targetFiles, function (targetFile) {","        var dir = path.dirname(targetFile);","        while (dir !== '.' && !(dir in folders)) {","            // grunt.log.writeln(dir);","            folders[dir] = true;","            dir = path.dirname(dir);","        }","    });","    return Object.keys(folders);","}","var BaseTransformer = (function () {","    function BaseTransformer(key, variableSyntax) {","        this.key = key;","        this.match = new RegExp(utils.format(BaseTransformer.tsTransformerMatch, key));","        this.signature = this.tripleSlashTS() + key;","        this.signatureGenerated = this.signature + ':generated';","        this.syntaxError = '/// Invalid syntax for ts:' + this.key + '=' + variableSyntax + ' ' + this.signatureGenerated;","    }","    BaseTransformer.prototype.tripleSlashTS = function () {","        // This is a function and broken into two strings to prevent the transformers module from","        // transforming *itself* (a-la Skynet).","        return '//' + '/ts:';","    };","    BaseTransformer.prototype.isGenerated = function (line) {","        return _str.contains(line, this.signatureGenerated);","    };","    BaseTransformer.prototype.matches = function (line) {","        return line.match(this.match);","    };","    BaseTransformer.containsTransformSignature = function (line) {","        return BaseTransformer.tsSignatureMatch.test(line);","    };","    BaseTransformer.tsSignatureMatch = /\\/\\/\\/\\s*ts\\:/;","    // equals sign is optional because we want to match on the signature regardless of any errors,","    // transformFiles() checks that the equals sign exists (by checking for the first matched capture group)","    // and fails if it is not found.","    BaseTransformer.tsTransformerMatch = '^///\\\\s*ts:{0}(=?)(.*)';","    return BaseTransformer;","}());","// This is a separate class from BaseTransformer to make it easier to add non import/export transforms in the future","var BaseImportExportTransformer = (function (_super) {","    __extends(BaseImportExportTransformer, _super);","    function BaseImportExportTransformer(key, variableSyntax, template, getIndexIfDir, removeExtensionFromFilePath) {","        _super.call(this, key, variableSyntax);","        this.key = key;","        this.template = template;","        this.getIndexIfDir = getIndexIfDir;","        this.removeExtensionFromFilePath = removeExtensionFromFilePath;","    }","    BaseImportExportTransformer.prototype.transform = function (sourceFile, templateVars) {","        var _this = this;","        var result = [];","        if (templateVars) {","            var vars = templateVars.split(',');","            var requestedFileName = vars[0].trim();","            var requestedVariableName = (vars.length > 1 ? vars[1].trim() : null);","            var sourceFileDirectory = path.dirname(sourceFile);","            var imports = getImports(sourceFile, requestedFileName, currentTargetFiles, currentTargetDirs, this.getIndexIfDir);","            if (imports.length) {","                _.forEach(imports, function (completePathToFile) {","                    var filename = requestedVariableName || path.basename(path.basename(completePathToFile, '.ts'), '.d');","                    // If filename is index, we replace it with dirname:","                    if (filename.toLowerCase() === 'index') {","                        filename = path.basename(path.dirname(completePathToFile));","                    }","                    var pathToFile = utils.makeRelativePath(sourceFileDirectory, _this.removeExtensionFromFilePath ? completePathToFile.replace(/(?:\\.d)?\\.ts$/, '') : completePathToFile, true);","                    result.push(_this.template({ filename: filename, pathToFile: pathToFile, signatureGenerated: _this.signatureGenerated })","                        + ' '","                        + _this.signatureGenerated);","                });","            }","            else {","                result.push('/// No file or directory matched name \"' + requestedFileName + '\" ' + this.signatureGenerated);","            }","        }","        else {","            result.push(this.syntaxError);","        }","        return result;","    };","    return BaseImportExportTransformer;","}(BaseTransformer));","var ImportTransformer = (function (_super) {","    __extends(ImportTransformer, _super);","    function ImportTransformer() {","        _super.call(this, 'import', '<fileOrDirectoryName>[,<variableName>]', _.template('import <%=filename%> = require(\\'<%= pathToFile %>\\');'), true, true);","    }","    return ImportTransformer;","}(BaseImportExportTransformer));","var ExportTransformer = (function (_super) {","    __extends(ExportTransformer, _super);","    function ExportTransformer(eol) {","        // This code is same as import transformer","        // One difference : we do not short circuit to `index.ts` if found","        _super.call(this, 'export', '<fileOrDirectoryName>[,<variableName>]', ","        // workaround for https://github.com/Microsoft/TypeScript/issues/512","        _.template('import <%=filename%>_file = require(\\'<%= pathToFile %>\\'); <%= signatureGenerated %>' + eol +","            'export var <%=filename%> = <%=filename%>_file;'), false, true);","        this.eol = eol;","    }","    return ExportTransformer;","}(BaseImportExportTransformer));","var ReferenceTransformer = (function (_super) {","    __extends(ReferenceTransformer, _super);","    function ReferenceTransformer() {","        // This code is same as export transformer","        // also we preserve .ts file extension","        _super.call(this, 'ref', '<fileOrDirectoryName>', _.template('/// <reference path=\"<%= pathToFile %>\"/>'), false, false);","    }","    return ReferenceTransformer;","}(BaseImportExportTransformer));","var UnknownTransformer = (function (_super) {","    __extends(UnknownTransformer, _super);","    function UnknownTransformer() {","        _super.call(this, '(.*)', '');","        this.key = 'unknown';","        this.signatureGenerated = this.tripleSlashTS() + 'unknown:generated';","        this.syntaxError = '/// Unknown transform ' + this.signatureGenerated;","    }","    UnknownTransformer.prototype.transform = function (sourceFile, templateVars) {","        return [this.syntaxError];","    };","    return UnknownTransformer;","}(BaseTransformer));","// This code fixes the line encoding to be per os.","// I think it is the best option available at the moment.","// I am open for suggestions","function transformFiles(changedFiles, targetFiles, options) {","    currentTargetDirs = getTargetFolders(targetFiles);","    currentTargetFiles = targetFiles;","    ///////////////////////////////////// transformation","    var transformers = [","        new ImportTransformer(),","        new ExportTransformer((options.newLine || utils.eol)),","        new ReferenceTransformer(),","        new UnknownTransformer()","    ];","    _.forEach(changedFiles, function (fileToProcess) {","        var contents = fs.readFileSync(fileToProcess).toString().replace(/^\\uFEFF/, '');","        // If no signature don't bother with this file","        if (!BaseTransformer.containsTransformSignature(contents)) {","            return;","        }","        var lines = contents.split(/\\r\\n|\\r|\\n/);","        var outputLines = [];","        for (var i = 0; i < lines.length; i++) {","            var line = lines[i];","            //// Debugging","            // grunt.log.writeln('line'.green);","            // grunt.log.writeln(line);","            // Skip generated lines as these will get regenerated","            if (_.some(transformers, function (transformer) { return transformer.isGenerated(line); })) {","                continue;","            }","            // Directive line","            if (_.some(transformers, function (transformer) {","                var match = transformer.matches(line);","                if (match) {","                    // The code gen directive line automatically qualifies","                    outputLines.push(line);","                    // pass transform settings to transform (match[1] is the equals sign, ensure it exists but otherwise ignore it)","                    outputLines.push.apply(outputLines, transformer.transform(fileToProcess, match[1] && match[2] && match[2].trim()));","                    return true;","                }","                return false;","            })) {","                continue;","            }","            // Lines not generated or not directives","            outputLines.push(line);","        }","        var transformedContent = outputLines.join(utils.eol);","        if (transformedContent !== contents) {","            grunt.file.write(fileToProcess, transformedContent);","        }","    });","}","exports.transformFiles = transformFiles;","//# sourceMappingURL=transformers.js.map"],"l":{"4":1,"5":15,"6":5,"7":5,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"16":1,"17":1,"21":1,"22":0,"23":0,"25":0,"26":0,"30":0,"31":0,"36":0,"37":0,"39":0,"40":0,"43":0,"46":0,"49":0,"51":0,"52":0,"54":0,"58":0,"59":0,"62":0,"68":1,"69":0,"70":0,"71":0,"72":0,"74":0,"75":0,"78":0,"80":1,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"88":1,"91":0,"93":1,"94":0,"96":1,"97":0,"99":1,"100":0,"102":1,"106":1,"107":1,"110":1,"111":1,"112":1,"113":0,"114":0,"115":0,"116":0,"117":0,"119":1,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"132":0,"133":0,"135":0,"136":0,"142":0,"146":0,"148":0,"150":1,"152":1,"153":1,"154":1,"155":0,"157":1,"159":1,"160":1,"161":1,"164":0,"168":0,"170":1,"172":1,"173":1,"174":1,"177":0,"179":1,"181":1,"182":1,"183":1,"184":0,"185":0,"186":0,"187":0,"189":1,"190":0,"192":1,"197":1,"198":0,"199":0,"201":0,"207":0,"208":0,"210":0,"211":0,"213":0,"214":0,"215":0,"216":0,"221":0,"222":0,"225":0,"226":0,"227":0,"229":0,"231":0,"232":0,"234":0,"236":0,"239":0,"241":0,"242":0,"243":0,"247":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/optionsResolver.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/optionsResolver.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":0,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":1,"68":0,"69":1,"70":0,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":1,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":1,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":1,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":1,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":1,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":1,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0,0,0,0,0,0,0],"18":[0,0],"19":[0,0,0,0,0,0,0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0,0],"24":[0,0],"25":[0,0,0],"26":[0,0],"27":[0,0],"28":[0,0,0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0,0],"43":[0,0],"44":[0,0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"fnMap":{"1":{"name":"noopTemplateProcessor","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":56}}},"2":{"name":"emptyGlobExpander","line":29,"loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":34}}},"3":{"name":"resolveAsync","line":33,"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":122}}},"4":{"name":"(anonymous_4)","line":39,"loc":{"start":{"line":39,"column":37},"end":{"line":39,"column":64}}},"5":{"name":"(anonymous_5)","line":62,"loc":{"start":{"line":62,"column":126},"end":{"line":62,"column":144}}},"6":{"name":"(anonymous_6)","line":63,"loc":{"start":{"line":63,"column":116},"end":{"line":63,"column":134}}},"7":{"name":"(anonymous_7)","line":73,"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":46}}},"8":{"name":"(anonymous_8)","line":77,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":42}}},"9":{"name":"resolveOutputOptions","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":64}}},"10":{"name":"(anonymous_10)","line":89,"loc":{"start":{"line":89,"column":20},"end":{"line":89,"column":35}}},"11":{"name":"(anonymous_11)","line":90,"loc":{"start":{"line":90,"column":22},"end":{"line":90,"column":38}}},"12":{"name":"fixMissingOptions","line":98,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":35}}},"13":{"name":"emptyOptionsResolveResult","line":103,"loc":{"start":{"line":103,"column":0},"end":{"line":103,"column":37}}},"14":{"name":"logAdditionalConfigurationWarnings","line":109,"loc":{"start":{"line":109,"column":0},"end":{"line":109,"column":53}}},"15":{"name":"resolveAndWarnOnConfigurationIssues","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":71}}},"16":{"name":"(anonymous_16)","line":114,"loc":{"start":{"line":114,"column":59},"end":{"line":114,"column":75}}},"17":{"name":"(anonymous_17)","line":115,"loc":{"start":{"line":115,"column":73},"end":{"line":115,"column":89}}},"18":{"name":"getAdditionalWarnings","line":124,"loc":{"start":{"line":124,"column":4},"end":{"line":124,"column":61}}},"19":{"name":"usingDestArray","line":147,"loc":{"start":{"line":147,"column":8},"end":{"line":147,"column":38}}},"20":{"name":"(anonymous_20)","line":150,"loc":{"start":{"line":150,"column":35},"end":{"line":150,"column":51}}},"21":{"name":"fixFilesUsedWithFast","line":160,"loc":{"start":{"line":160,"column":4},"end":{"line":160,"column":52}}},"22":{"name":"checkLocations","line":167,"loc":{"start":{"line":167,"column":4},"end":{"line":167,"column":46}}},"23":{"name":"checkFixableCaseIssues","line":208,"loc":{"start":{"line":208,"column":4},"end":{"line":208,"column":54}}},"24":{"name":"applyGruntOptions","line":239,"loc":{"start":{"line":239,"column":0},"end":{"line":239,"column":50}}},"25":{"name":"copyCompilationTasks","line":270,"loc":{"start":{"line":270,"column":0},"end":{"line":270,"column":66}}},"26":{"name":"(anonymous_26)","line":296,"loc":{"start":{"line":296,"column":45},"end":{"line":296,"column":65}}},"27":{"name":"enclosePathsInQuotesIfRequired","line":321,"loc":{"start":{"line":321,"column":0},"end":{"line":321,"column":49}}},"28":{"name":"addressAssociatedOptionsAndResolveConflicts","line":333,"loc":{"start":{"line":333,"column":0},"end":{"line":333,"column":62}}},"29":{"name":"(anonymous_29)","line":360,"loc":{"start":{"line":360,"column":46},"end":{"line":360,"column":62}}},"30":{"name":"(anonymous_30)","line":364,"loc":{"start":{"line":364,"column":37},"end":{"line":364,"column":60}}},"31":{"name":"applyGruntTSDefaults","line":372,"loc":{"start":{"line":372,"column":0},"end":{"line":372,"column":39}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":26}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":77}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":39}},"7":{"start":{"line":12,"column":0},"end":{"line":23,"column":218}},"8":{"start":{"line":24,"column":0},"end":{"line":24,"column":29}},"9":{"start":{"line":25,"column":0},"end":{"line":25,"column":24}},"10":{"start":{"line":26,"column":0},"end":{"line":28,"column":1}},"11":{"start":{"line":27,"column":4},"end":{"line":27,"column":26}},"12":{"start":{"line":29,"column":0},"end":{"line":31,"column":1}},"13":{"start":{"line":30,"column":4},"end":{"line":30,"column":14}},"14":{"start":{"line":32,"column":0},"end":{"line":32,"column":32}},"15":{"start":{"line":33,"column":0},"end":{"line":83,"column":1}},"16":{"start":{"line":34,"column":4},"end":{"line":34,"column":51}},"17":{"start":{"line":34,"column":33},"end":{"line":34,"column":49}},"18":{"start":{"line":35,"column":4},"end":{"line":35,"column":57}},"19":{"start":{"line":35,"column":36},"end":{"line":35,"column":55}},"20":{"start":{"line":36,"column":4},"end":{"line":36,"column":73}},"21":{"start":{"line":36,"column":43},"end":{"line":36,"column":71}},"22":{"start":{"line":37,"column":4},"end":{"line":37,"column":63}},"23":{"start":{"line":37,"column":38},"end":{"line":37,"column":61}},"24":{"start":{"line":38,"column":4},"end":{"line":38,"column":45}},"25":{"start":{"line":39,"column":4},"end":{"line":82,"column":7}},"26":{"start":{"line":40,"column":8},"end":{"line":45,"column":9}},"27":{"start":{"line":41,"column":12},"end":{"line":41,"column":53}},"28":{"start":{"line":44,"column":12},"end":{"line":44,"column":54}},"29":{"start":{"line":46,"column":8},"end":{"line":51,"column":9}},"30":{"start":{"line":47,"column":12},"end":{"line":47,"column":43}},"31":{"start":{"line":50,"column":12},"end":{"line":50,"column":45}},"32":{"start":{"line":52,"column":8},"end":{"line":52,"column":42}},"33":{"start":{"line":53,"column":8},"end":{"line":53,"column":44}},"34":{"start":{"line":55,"column":12},"end":{"line":55,"column":147}},"35":{"start":{"line":56,"column":12},"end":{"line":56,"column":56}},"36":{"start":{"line":57,"column":12},"end":{"line":57,"column":60}},"37":{"start":{"line":59,"column":8},"end":{"line":59,"column":59}},"38":{"start":{"line":60,"column":8},"end":{"line":60,"column":61}},"39":{"start":{"line":61,"column":8},"end":{"line":61,"column":117}},"40":{"start":{"line":62,"column":8},"end":{"line":80,"column":11}},"41":{"start":{"line":63,"column":12},"end":{"line":76,"column":15}},"42":{"start":{"line":64,"column":16},"end":{"line":64,"column":77}},"43":{"start":{"line":65,"column":16},"end":{"line":65,"column":64}},"44":{"start":{"line":66,"column":16},"end":{"line":66,"column":68}},"45":{"start":{"line":67,"column":16},"end":{"line":67,"column":54}},"46":{"start":{"line":68,"column":16},"end":{"line":71,"column":17}},"47":{"start":{"line":70,"column":20},"end":{"line":70,"column":51}},"48":{"start":{"line":72,"column":16},"end":{"line":72,"column":39}},"49":{"start":{"line":74,"column":16},"end":{"line":74,"column":87}},"50":{"start":{"line":75,"column":16},"end":{"line":75,"column":39}},"51":{"start":{"line":78,"column":12},"end":{"line":78,"column":95}},"52":{"start":{"line":79,"column":12},"end":{"line":79,"column":35}},"53":{"start":{"line":81,"column":8},"end":{"line":81,"column":19}},"54":{"start":{"line":84,"column":0},"end":{"line":84,"column":36}},"55":{"start":{"line":85,"column":0},"end":{"line":97,"column":1}},"56":{"start":{"line":86,"column":4},"end":{"line":86,"column":20}},"57":{"start":{"line":87,"column":4},"end":{"line":87,"column":34}},"58":{"start":{"line":88,"column":4},"end":{"line":88,"column":53}},"59":{"start":{"line":89,"column":4},"end":{"line":95,"column":7}},"60":{"start":{"line":90,"column":8},"end":{"line":94,"column":11}},"61":{"start":{"line":91,"column":12},"end":{"line":93,"column":13}},"62":{"start":{"line":92,"column":16},"end":{"line":92,"column":41}},"63":{"start":{"line":96,"column":4},"end":{"line":96,"column":18}},"64":{"start":{"line":98,"column":0},"end":{"line":102,"column":1}},"65":{"start":{"line":99,"column":4},"end":{"line":101,"column":5}},"66":{"start":{"line":100,"column":8},"end":{"line":100,"column":28}},"67":{"start":{"line":103,"column":0},"end":{"line":108,"column":1}},"68":{"start":{"line":104,"column":4},"end":{"line":107,"column":6}},"69":{"start":{"line":109,"column":0},"end":{"line":111,"column":1}},"70":{"start":{"line":110,"column":4},"end":{"line":110,"column":19}},"71":{"start":{"line":112,"column":0},"end":{"line":238,"column":1}},"72":{"start":{"line":113,"column":4},"end":{"line":113,"column":35}},"73":{"start":{"line":114,"column":4},"end":{"line":114,"column":113}},"74":{"start":{"line":114,"column":77},"end":{"line":114,"column":109}},"75":{"start":{"line":115,"column":4},"end":{"line":115,"column":127}},"76":{"start":{"line":115,"column":91},"end":{"line":115,"column":123}},"77":{"start":{"line":116,"column":4},"end":{"line":116,"column":44}},"78":{"start":{"line":117,"column":4},"end":{"line":117,"column":68}},"79":{"start":{"line":118,"column":4},"end":{"line":118,"column":36}},"80":{"start":{"line":119,"column":4},"end":{"line":119,"column":60}},"81":{"start":{"line":120,"column":4},"end":{"line":120,"column":42}},"82":{"start":{"line":121,"column":4},"end":{"line":121,"column":66}},"83":{"start":{"line":122,"column":4},"end":{"line":122,"column":83}},"84":{"start":{"line":123,"column":4},"end":{"line":123,"column":50}},"85":{"start":{"line":124,"column":4},"end":{"line":159,"column":5}},"86":{"start":{"line":125,"column":8},"end":{"line":125,"column":36}},"87":{"start":{"line":126,"column":8},"end":{"line":129,"column":9}},"88":{"start":{"line":127,"column":12},"end":{"line":128,"column":49}},"89":{"start":{"line":130,"column":8},"end":{"line":133,"column":9}},"90":{"start":{"line":132,"column":12},"end":{"line":132,"column":135}},"91":{"start":{"line":134,"column":8},"end":{"line":137,"column":9}},"92":{"start":{"line":136,"column":12},"end":{"line":136,"column":134}},"93":{"start":{"line":138,"column":8},"end":{"line":141,"column":9}},"94":{"start":{"line":139,"column":12},"end":{"line":140,"column":89}},"95":{"start":{"line":142,"column":8},"end":{"line":145,"column":9}},"96":{"start":{"line":143,"column":12},"end":{"line":144,"column":126}},"97":{"start":{"line":146,"column":8},"end":{"line":146,"column":34}},"98":{"start":{"line":147,"column":8},"end":{"line":158,"column":9}},"99":{"start":{"line":148,"column":12},"end":{"line":148,"column":31}},"100":{"start":{"line":149,"column":12},"end":{"line":156,"column":13}},"101":{"start":{"line":150,"column":16},"end":{"line":155,"column":19}},"102":{"start":{"line":151,"column":20},"end":{"line":153,"column":21}},"103":{"start":{"line":152,"column":24},"end":{"line":152,"column":38}},"104":{"start":{"line":157,"column":12},"end":{"line":157,"column":26}},"105":{"start":{"line":160,"column":4},"end":{"line":166,"column":5}},"106":{"start":{"line":161,"column":8},"end":{"line":165,"column":9}},"107":{"start":{"line":162,"column":12},"end":{"line":163,"column":84}},"108":{"start":{"line":164,"column":12},"end":{"line":164,"column":40}},"109":{"start":{"line":167,"column":4},"end":{"line":207,"column":5}},"110":{"start":{"line":169,"column":8},"end":{"line":206,"column":9}},"111":{"start":{"line":170,"column":12},"end":{"line":186,"column":13}},"112":{"start":{"line":171,"column":16},"end":{"line":185,"column":17}},"113":{"start":{"line":172,"column":20},"end":{"line":184,"column":21}},"114":{"start":{"line":173,"column":24},"end":{"line":174,"column":68}},"115":{"start":{"line":175,"column":24},"end":{"line":175,"column":51}},"116":{"start":{"line":177,"column":25},"end":{"line":184,"column":21}},"117":{"start":{"line":179,"column":24},"end":{"line":179,"column":106}},"118":{"start":{"line":180,"column":24},"end":{"line":180,"column":85}},"119":{"start":{"line":181,"column":24},"end":{"line":182,"column":140}},"120":{"start":{"line":183,"column":24},"end":{"line":183,"column":51}},"121":{"start":{"line":187,"column":12},"end":{"line":205,"column":13}},"122":{"start":{"line":188,"column":16},"end":{"line":204,"column":17}},"123":{"start":{"line":189,"column":20},"end":{"line":203,"column":21}},"124":{"start":{"line":190,"column":24},"end":{"line":202,"column":25}},"125":{"start":{"line":191,"column":28},"end":{"line":192,"column":91}},"126":{"start":{"line":193,"column":28},"end":{"line":193,"column":55}},"127":{"start":{"line":195,"column":29},"end":{"line":202,"column":25}},"128":{"start":{"line":197,"column":28},"end":{"line":197,"column":103}},"129":{"start":{"line":198,"column":28},"end":{"line":198,"column":82}},"130":{"start":{"line":199,"column":28},"end":{"line":200,"column":163}},"131":{"start":{"line":201,"column":28},"end":{"line":201,"column":55}},"132":{"start":{"line":208,"column":4},"end":{"line":237,"column":5}},"133":{"start":{"line":209,"column":8},"end":{"line":236,"column":9}},"134":{"start":{"line":210,"column":12},"end":{"line":222,"column":13}},"135":{"start":{"line":211,"column":16},"end":{"line":221,"column":17}},"136":{"start":{"line":214,"column":20},"end":{"line":214,"column":95}},"137":{"start":{"line":215,"column":20},"end":{"line":215,"column":74}},"138":{"start":{"line":216,"column":20},"end":{"line":217,"column":99}},"139":{"start":{"line":218,"column":20},"end":{"line":218,"column":47}},"140":{"start":{"line":219,"column":20},"end":{"line":219,"column":67}},"141":{"start":{"line":220,"column":20},"end":{"line":220,"column":46}},"142":{"start":{"line":223,"column":12},"end":{"line":235,"column":13}},"143":{"start":{"line":224,"column":16},"end":{"line":234,"column":17}},"144":{"start":{"line":227,"column":20},"end":{"line":227,"column":102}},"145":{"start":{"line":228,"column":20},"end":{"line":228,"column":81}},"146":{"start":{"line":229,"column":20},"end":{"line":230,"column":99}},"147":{"start":{"line":231,"column":20},"end":{"line":231,"column":47}},"148":{"start":{"line":232,"column":20},"end":{"line":232,"column":83}},"149":{"start":{"line":233,"column":20},"end":{"line":233,"column":54}},"150":{"start":{"line":239,"column":0},"end":{"line":269,"column":1}},"151":{"start":{"line":240,"column":4},"end":{"line":267,"column":5}},"152":{"start":{"line":241,"column":8},"end":{"line":252,"column":9}},"153":{"start":{"line":242,"column":12},"end":{"line":242,"column":58}},"154":{"start":{"line":243,"column":12},"end":{"line":251,"column":13}},"155":{"start":{"line":244,"column":16},"end":{"line":250,"column":17}},"156":{"start":{"line":246,"column":20},"end":{"line":246,"column":94}},"157":{"start":{"line":249,"column":20},"end":{"line":249,"column":71}},"158":{"start":{"line":253,"column":8},"end":{"line":266,"column":9}},"159":{"start":{"line":254,"column":12},"end":{"line":265,"column":13}},"160":{"start":{"line":255,"column":16},"end":{"line":255,"column":69}},"161":{"start":{"line":256,"column":16},"end":{"line":264,"column":17}},"162":{"start":{"line":257,"column":20},"end":{"line":263,"column":21}},"163":{"start":{"line":259,"column":24},"end":{"line":259,"column":106}},"164":{"start":{"line":262,"column":24},"end":{"line":262,"column":83}},"165":{"start":{"line":268,"column":4},"end":{"line":268,"column":19}},"166":{"start":{"line":270,"column":0},"end":{"line":320,"column":1}},"167":{"start":{"line":271,"column":4},"end":{"line":273,"column":5}},"168":{"start":{"line":272,"column":8},"end":{"line":272,"column":38}},"169":{"start":{"line":274,"column":4},"end":{"line":288,"column":5}},"170":{"start":{"line":275,"column":8},"end":{"line":286,"column":9}},"171":{"start":{"line":276,"column":12},"end":{"line":278,"column":14}},"172":{"start":{"line":279,"column":12},"end":{"line":281,"column":13}},"173":{"start":{"line":280,"column":16},"end":{"line":280,"column":62}},"174":{"start":{"line":282,"column":12},"end":{"line":284,"column":13}},"175":{"start":{"line":283,"column":16},"end":{"line":283,"column":62}},"176":{"start":{"line":285,"column":12},"end":{"line":285,"column":62}},"177":{"start":{"line":287,"column":8},"end":{"line":287,"column":23}},"178":{"start":{"line":289,"column":4},"end":{"line":318,"column":5}},"179":{"start":{"line":290,"column":8},"end":{"line":290,"column":26}},"180":{"start":{"line":291,"column":8},"end":{"line":291,"column":41}},"181":{"start":{"line":292,"column":8},"end":{"line":294,"column":9}},"182":{"start":{"line":293,"column":12},"end":{"line":293,"column":39}},"183":{"start":{"line":295,"column":8},"end":{"line":300,"column":10}},"184":{"start":{"line":296,"column":67},"end":{"line":296,"column":120}},"185":{"start":{"line":301,"column":8},"end":{"line":316,"column":9}},"186":{"start":{"line":302,"column":12},"end":{"line":302,"column":30}},"187":{"start":{"line":303,"column":12},"end":{"line":309,"column":13}},"188":{"start":{"line":305,"column":16},"end":{"line":305,"column":48}},"189":{"start":{"line":308,"column":16},"end":{"line":308,"column":45}},"190":{"start":{"line":310,"column":12},"end":{"line":315,"column":13}},"191":{"start":{"line":311,"column":16},"end":{"line":311,"column":42}},"192":{"start":{"line":314,"column":16},"end":{"line":314,"column":45}},"193":{"start":{"line":317,"column":8},"end":{"line":317,"column":54}},"194":{"start":{"line":319,"column":4},"end":{"line":319,"column":19}},"195":{"start":{"line":321,"column":0},"end":{"line":332,"column":1}},"196":{"start":{"line":322,"column":4},"end":{"line":324,"column":5}},"197":{"start":{"line":323,"column":8},"end":{"line":323,"column":79}},"198":{"start":{"line":325,"column":4},"end":{"line":327,"column":5}},"199":{"start":{"line":326,"column":8},"end":{"line":326,"column":79}},"200":{"start":{"line":328,"column":4},"end":{"line":330,"column":5}},"201":{"start":{"line":329,"column":8},"end":{"line":329,"column":85}},"202":{"start":{"line":331,"column":4},"end":{"line":331,"column":19}},"203":{"start":{"line":333,"column":0},"end":{"line":371,"column":1}},"204":{"start":{"line":334,"column":4},"end":{"line":336,"column":5}},"205":{"start":{"line":335,"column":8},"end":{"line":335,"column":46}},"206":{"start":{"line":337,"column":4},"end":{"line":340,"column":5}},"207":{"start":{"line":338,"column":8},"end":{"line":338,"column":116}},"208":{"start":{"line":339,"column":8},"end":{"line":339,"column":34}},"209":{"start":{"line":341,"column":4},"end":{"line":345,"column":5}},"210":{"start":{"line":342,"column":8},"end":{"line":342,"column":37}},"211":{"start":{"line":343,"column":8},"end":{"line":343,"column":39}},"212":{"start":{"line":344,"column":8},"end":{"line":344,"column":34}},"213":{"start":{"line":346,"column":4},"end":{"line":349,"column":5}},"214":{"start":{"line":347,"column":8},"end":{"line":348,"column":137}},"215":{"start":{"line":350,"column":4},"end":{"line":357,"column":5}},"216":{"start":{"line":351,"column":8},"end":{"line":351,"column":46}},"217":{"start":{"line":352,"column":8},"end":{"line":352,"column":51}},"218":{"start":{"line":354,"column":9},"end":{"line":357,"column":5}},"219":{"start":{"line":355,"column":8},"end":{"line":355,"column":58}},"220":{"start":{"line":356,"column":8},"end":{"line":356,"column":51}},"221":{"start":{"line":358,"column":4},"end":{"line":363,"column":5}},"222":{"start":{"line":360,"column":64},"end":{"line":360,"column":133}},"223":{"start":{"line":361,"column":8},"end":{"line":362,"column":106}},"224":{"start":{"line":364,"column":4},"end":{"line":369,"column":7}},"225":{"start":{"line":365,"column":8},"end":{"line":368,"column":9}},"226":{"start":{"line":366,"column":12},"end":{"line":366,"column":158}},"227":{"start":{"line":367,"column":12},"end":{"line":367,"column":33}},"228":{"start":{"line":370,"column":4},"end":{"line":370,"column":19}},"229":{"start":{"line":372,"column":0},"end":{"line":407,"column":1}},"230":{"start":{"line":373,"column":4},"end":{"line":375,"column":5}},"231":{"start":{"line":374,"column":8},"end":{"line":374,"column":65}},"232":{"start":{"line":376,"column":4},"end":{"line":378,"column":5}},"233":{"start":{"line":377,"column":8},"end":{"line":377,"column":59}},"234":{"start":{"line":379,"column":4},"end":{"line":381,"column":5}},"235":{"start":{"line":380,"column":8},"end":{"line":380,"column":55}},"236":{"start":{"line":382,"column":4},"end":{"line":384,"column":5}},"237":{"start":{"line":383,"column":8},"end":{"line":383,"column":61}},"238":{"start":{"line":385,"column":4},"end":{"line":387,"column":5}},"239":{"start":{"line":386,"column":8},"end":{"line":386,"column":34}},"240":{"start":{"line":388,"column":4},"end":{"line":390,"column":5}},"241":{"start":{"line":389,"column":8},"end":{"line":389,"column":81}},"242":{"start":{"line":391,"column":4},"end":{"line":393,"column":5}},"243":{"start":{"line":392,"column":8},"end":{"line":392,"column":83}},"244":{"start":{"line":394,"column":4},"end":{"line":396,"column":5}},"245":{"start":{"line":395,"column":8},"end":{"line":395,"column":77}},"246":{"start":{"line":397,"column":4},"end":{"line":399,"column":5}},"247":{"start":{"line":398,"column":8},"end":{"line":398,"column":75}},"248":{"start":{"line":400,"column":4},"end":{"line":402,"column":5}},"249":{"start":{"line":401,"column":8},"end":{"line":401,"column":79}},"250":{"start":{"line":403,"column":4},"end":{"line":405,"column":5}},"251":{"start":{"line":404,"column":8},"end":{"line":404,"column":77}},"252":{"start":{"line":406,"column":4},"end":{"line":406,"column":19}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":4}},{"start":{"line":34,"column":4},"end":{"line":34,"column":4}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"3":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]},"4":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":4}},{"start":{"line":37,"column":4},"end":{"line":37,"column":4}}]},"5":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":40,"column":8}},{"start":{"line":40,"column":8},"end":{"line":40,"column":8}}]},"6":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":32}},{"start":{"line":40,"column":36},"end":{"line":40,"column":78}}]},"7":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"8":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":27}},{"start":{"line":46,"column":31},"end":{"line":46,"column":68}}]},"9":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":16},"end":{"line":68,"column":16}},{"start":{"line":68,"column":16},"end":{"line":68,"column":16}}]},"10":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":20},"end":{"line":68,"column":51}},{"start":{"line":69,"column":21},"end":{"line":69,"column":39}},{"start":{"line":69,"column":43},"end":{"line":69,"column":53}}]},"11":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":12},"end":{"line":91,"column":12}},{"start":{"line":91,"column":12},"end":{"line":91,"column":12}}]},"12":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":16},"end":{"line":91,"column":19}},{"start":{"line":91,"column":24},"end":{"line":91,"column":35}}]},"13":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]},"14":{"line":99,"type":"binary-expr","locations":[{"start":{"line":99,"column":8},"end":{"line":99,"column":14}},{"start":{"line":99,"column":18},"end":{"line":99,"column":33}}]},"15":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":8}},{"start":{"line":126,"column":8},"end":{"line":126,"column":8}}]},"16":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":8},"end":{"line":130,"column":8}},{"start":{"line":130,"column":8},"end":{"line":130,"column":8}}]},"17":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":14},"end":{"line":130,"column":18}},{"start":{"line":130,"column":22},"end":{"line":130,"column":30}},{"start":{"line":130,"column":34},"end":{"line":130,"column":54}},{"start":{"line":130,"column":60},"end":{"line":130,"column":66}},{"start":{"line":130,"column":70},"end":{"line":130,"column":80}},{"start":{"line":131,"column":14},"end":{"line":131,"column":18}},{"start":{"line":131,"column":22},"end":{"line":131,"column":32}},{"start":{"line":131,"column":38},"end":{"line":131,"column":44}},{"start":{"line":131,"column":48},"end":{"line":131,"column":60}}]},"18":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":134,"column":8}},{"start":{"line":134,"column":8},"end":{"line":134,"column":8}}]},"19":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":14},"end":{"line":134,"column":18}},{"start":{"line":134,"column":22},"end":{"line":134,"column":29}},{"start":{"line":134,"column":35},"end":{"line":134,"column":41}},{"start":{"line":134,"column":45},"end":{"line":134,"column":54}},{"start":{"line":135,"column":14},"end":{"line":135,"column":18}},{"start":{"line":135,"column":22},"end":{"line":135,"column":32}},{"start":{"line":135,"column":38},"end":{"line":135,"column":44}},{"start":{"line":135,"column":48},"end":{"line":135,"column":60}}]},"20":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":8},"end":{"line":138,"column":8}},{"start":{"line":138,"column":8},"end":{"line":138,"column":8}}]},"21":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":12},"end":{"line":138,"column":32}},{"start":{"line":138,"column":36},"end":{"line":138,"column":58}}]},"22":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":8},"end":{"line":142,"column":8}},{"start":{"line":142,"column":8},"end":{"line":142,"column":8}}]},"23":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":13},"end":{"line":142,"column":17}},{"start":{"line":142,"column":21},"end":{"line":142,"column":33}},{"start":{"line":142,"column":39},"end":{"line":142,"column":45}},{"start":{"line":142,"column":49},"end":{"line":142,"column":63}}]},"24":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":12},"end":{"line":149,"column":12}},{"start":{"line":149,"column":12},"end":{"line":149,"column":12}}]},"25":{"line":149,"type":"binary-expr","locations":[{"start":{"line":149,"column":16},"end":{"line":149,"column":20}},{"start":{"line":149,"column":24},"end":{"line":149,"column":34}},{"start":{"line":149,"column":38},"end":{"line":149,"column":59}}]},"26":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":20},"end":{"line":151,"column":20}},{"start":{"line":151,"column":20},"end":{"line":151,"column":20}}]},"27":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":8},"end":{"line":161,"column":8}},{"start":{"line":161,"column":8},"end":{"line":161,"column":8}}]},"28":{"line":161,"type":"binary-expr","locations":[{"start":{"line":161,"column":12},"end":{"line":161,"column":16}},{"start":{"line":161,"column":20},"end":{"line":161,"column":30}},{"start":{"line":161,"column":34},"end":{"line":161,"column":46}},{"start":{"line":161,"column":50},"end":{"line":161,"column":67}}]},"29":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":8},"end":{"line":169,"column":8}},{"start":{"line":169,"column":8},"end":{"line":169,"column":8}}]},"30":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":16},"end":{"line":171,"column":16}},{"start":{"line":171,"column":16},"end":{"line":171,"column":16}}]},"31":{"line":171,"type":"binary-expr","locations":[{"start":{"line":171,"column":20},"end":{"line":171,"column":69}},{"start":{"line":171,"column":73},"end":{"line":171,"column":99}}]},"32":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":20},"end":{"line":172,"column":20}},{"start":{"line":172,"column":20},"end":{"line":172,"column":20}}]},"33":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":25},"end":{"line":177,"column":25}},{"start":{"line":177,"column":25},"end":{"line":177,"column":25}}]},"34":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":29},"end":{"line":177,"column":98}},{"start":{"line":178,"column":27},"end":{"line":178,"column":101}}]},"35":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":12},"end":{"line":187,"column":12}},{"start":{"line":187,"column":12},"end":{"line":187,"column":12}}]},"36":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":20},"end":{"line":189,"column":20}},{"start":{"line":189,"column":20},"end":{"line":189,"column":20}}]},"37":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":24},"end":{"line":190,"column":24}},{"start":{"line":190,"column":24},"end":{"line":190,"column":24}}]},"38":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":29},"end":{"line":195,"column":29}},{"start":{"line":195,"column":29},"end":{"line":195,"column":29}}]},"39":{"line":195,"type":"binary-expr","locations":[{"start":{"line":195,"column":33},"end":{"line":195,"column":109}},{"start":{"line":196,"column":31},"end":{"line":196,"column":98}}]},"40":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":8},"end":{"line":209,"column":8}},{"start":{"line":209,"column":8},"end":{"line":209,"column":8}}]},"41":{"line":211,"type":"if","locations":[{"start":{"line":211,"column":16},"end":{"line":211,"column":16}},{"start":{"line":211,"column":16},"end":{"line":211,"column":16}}]},"42":{"line":211,"type":"binary-expr","locations":[{"start":{"line":211,"column":21},"end":{"line":211,"column":70}},{"start":{"line":212,"column":24},"end":{"line":212,"column":91}},{"start":{"line":213,"column":24},"end":{"line":213,"column":80}}]},"43":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":16},"end":{"line":224,"column":16}},{"start":{"line":224,"column":16},"end":{"line":224,"column":16}}]},"44":{"line":224,"type":"binary-expr","locations":[{"start":{"line":224,"column":21},"end":{"line":224,"column":77}},{"start":{"line":225,"column":24},"end":{"line":225,"column":98}},{"start":{"line":226,"column":24},"end":{"line":226,"column":73}}]},"45":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":4},"end":{"line":240,"column":4}},{"start":{"line":240,"column":4},"end":{"line":240,"column":4}}]},"46":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":12},"end":{"line":243,"column":12}},{"start":{"line":243,"column":12},"end":{"line":243,"column":12}}]},"47":{"line":243,"type":"binary-expr","locations":[{"start":{"line":243,"column":16},"end":{"line":243,"column":44}},{"start":{"line":243,"column":48},"end":{"line":243,"column":69}}]},"48":{"line":244,"type":"if","locations":[{"start":{"line":244,"column":16},"end":{"line":244,"column":16}},{"start":{"line":244,"column":16},"end":{"line":244,"column":16}}]},"49":{"line":244,"type":"binary-expr","locations":[{"start":{"line":244,"column":20},"end":{"line":244,"column":66}},{"start":{"line":244,"column":70},"end":{"line":244,"column":112}},{"start":{"line":245,"column":20},"end":{"line":245,"column":71}}]},"50":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":8},"end":{"line":253,"column":8}},{"start":{"line":253,"column":8},"end":{"line":253,"column":8}}]},"51":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":16},"end":{"line":256,"column":16}},{"start":{"line":256,"column":16},"end":{"line":256,"column":16}}]},"52":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":20},"end":{"line":257,"column":20}},{"start":{"line":257,"column":20},"end":{"line":257,"column":20}}]},"53":{"line":257,"type":"binary-expr","locations":[{"start":{"line":257,"column":24},"end":{"line":257,"column":78}},{"start":{"line":257,"column":82},"end":{"line":257,"column":132}},{"start":{"line":258,"column":24},"end":{"line":258,"column":75}}]},"54":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":4},"end":{"line":271,"column":4}},{"start":{"line":271,"column":4},"end":{"line":271,"column":4}}]},"55":{"line":274,"type":"if","locations":[{"start":{"line":274,"column":4},"end":{"line":274,"column":4}},{"start":{"line":274,"column":4},"end":{"line":274,"column":4}}]},"56":{"line":274,"type":"binary-expr","locations":[{"start":{"line":274,"column":8},"end":{"line":274,"column":38}},{"start":{"line":274,"column":42},"end":{"line":274,"column":68}}]},"57":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":8},"end":{"line":275,"column":8}},{"start":{"line":275,"column":8},"end":{"line":275,"column":8}}]},"58":{"line":275,"type":"binary-expr","locations":[{"start":{"line":275,"column":12},"end":{"line":275,"column":49}},{"start":{"line":275,"column":55},"end":{"line":275,"column":77}},{"start":{"line":275,"column":83},"end":{"line":275,"column":102}}]},"59":{"line":279,"type":"if","locations":[{"start":{"line":279,"column":12},"end":{"line":279,"column":12}},{"start":{"line":279,"column":12},"end":{"line":279,"column":12}}]},"60":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":12},"end":{"line":282,"column":12}},{"start":{"line":282,"column":12},"end":{"line":282,"column":12}}]},"61":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":8},"end":{"line":292,"column":8}},{"start":{"line":292,"column":8},"end":{"line":292,"column":8}}]},"62":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":16}},{"start":{"line":292,"column":21},"end":{"line":292,"column":34}}]},"63":{"line":301,"type":"if","locations":[{"start":{"line":301,"column":8},"end":{"line":301,"column":8}},{"start":{"line":301,"column":8},"end":{"line":301,"column":8}}]},"64":{"line":301,"type":"binary-expr","locations":[{"start":{"line":301,"column":12},"end":{"line":301,"column":38}},{"start":{"line":301,"column":42},"end":{"line":301,"column":63}}]},"65":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":12},"end":{"line":303,"column":12}},{"start":{"line":303,"column":12},"end":{"line":303,"column":12}}]},"66":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":12},"end":{"line":310,"column":12}},{"start":{"line":310,"column":12},"end":{"line":310,"column":12}}]},"67":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":4},"end":{"line":322,"column":4}},{"start":{"line":322,"column":4},"end":{"line":322,"column":4}}]},"68":{"line":325,"type":"if","locations":[{"start":{"line":325,"column":4},"end":{"line":325,"column":4}},{"start":{"line":325,"column":4},"end":{"line":325,"column":4}}]},"69":{"line":328,"type":"if","locations":[{"start":{"line":328,"column":4},"end":{"line":328,"column":4}},{"start":{"line":328,"column":4},"end":{"line":328,"column":4}}]},"70":{"line":334,"type":"if","locations":[{"start":{"line":334,"column":4},"end":{"line":334,"column":4}},{"start":{"line":334,"column":4},"end":{"line":334,"column":4}}]},"71":{"line":337,"type":"if","locations":[{"start":{"line":337,"column":4},"end":{"line":337,"column":4}},{"start":{"line":337,"column":4},"end":{"line":337,"column":4}}]},"72":{"line":337,"type":"binary-expr","locations":[{"start":{"line":337,"column":8},"end":{"line":337,"column":31}},{"start":{"line":337,"column":35},"end":{"line":337,"column":52}}]},"73":{"line":341,"type":"if","locations":[{"start":{"line":341,"column":4},"end":{"line":341,"column":4}},{"start":{"line":341,"column":4},"end":{"line":341,"column":4}}]},"74":{"line":341,"type":"binary-expr","locations":[{"start":{"line":341,"column":8},"end":{"line":341,"column":29}},{"start":{"line":341,"column":33},"end":{"line":341,"column":51}}]},"75":{"line":346,"type":"if","locations":[{"start":{"line":346,"column":4},"end":{"line":346,"column":4}},{"start":{"line":346,"column":4},"end":{"line":346,"column":4}}]},"76":{"line":346,"type":"binary-expr","locations":[{"start":{"line":346,"column":8},"end":{"line":346,"column":29}},{"start":{"line":346,"column":33},"end":{"line":346,"column":60}}]},"77":{"line":350,"type":"if","locations":[{"start":{"line":350,"column":4},"end":{"line":350,"column":4}},{"start":{"line":350,"column":4},"end":{"line":350,"column":4}}]},"78":{"line":350,"type":"binary-expr","locations":[{"start":{"line":350,"column":8},"end":{"line":350,"column":29}},{"start":{"line":350,"column":33},"end":{"line":350,"column":63}}]},"79":{"line":354,"type":"if","locations":[{"start":{"line":354,"column":9},"end":{"line":354,"column":9}},{"start":{"line":354,"column":9},"end":{"line":354,"column":9}}]},"80":{"line":354,"type":"binary-expr","locations":[{"start":{"line":354,"column":13},"end":{"line":354,"column":37}},{"start":{"line":354,"column":42},"end":{"line":354,"column":69}}]},"81":{"line":358,"type":"if","locations":[{"start":{"line":358,"column":4},"end":{"line":358,"column":4}},{"start":{"line":358,"column":4},"end":{"line":358,"column":4}}]},"82":{"line":358,"type":"binary-expr","locations":[{"start":{"line":358,"column":8},"end":{"line":358,"column":25}},{"start":{"line":359,"column":9},"end":{"line":359,"column":46}},{"start":{"line":360,"column":12},"end":{"line":360,"column":136}}]},"83":{"line":360,"type":"binary-expr","locations":[{"start":{"line":360,"column":72},"end":{"line":360,"column":99}},{"start":{"line":360,"column":103},"end":{"line":360,"column":131}}]},"84":{"line":360,"type":"binary-expr","locations":[{"start":{"line":360,"column":73},"end":{"line":360,"column":81}},{"start":{"line":360,"column":85},"end":{"line":360,"column":87}}]},"85":{"line":360,"type":"binary-expr","locations":[{"start":{"line":360,"column":104},"end":{"line":360,"column":113}},{"start":{"line":360,"column":117},"end":{"line":360,"column":119}}]},"86":{"line":365,"type":"if","locations":[{"start":{"line":365,"column":8},"end":{"line":365,"column":8}},{"start":{"line":365,"column":8},"end":{"line":365,"column":8}}]},"87":{"line":365,"type":"binary-expr","locations":[{"start":{"line":365,"column":12},"end":{"line":365,"column":27}},{"start":{"line":365,"column":31},"end":{"line":365,"column":49}}]},"88":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":4},"end":{"line":373,"column":4}},{"start":{"line":373,"column":4},"end":{"line":373,"column":4}}]},"89":{"line":373,"type":"binary-expr","locations":[{"start":{"line":373,"column":8},"end":{"line":373,"column":33}},{"start":{"line":373,"column":37},"end":{"line":373,"column":68}}]},"90":{"line":376,"type":"if","locations":[{"start":{"line":376,"column":4},"end":{"line":376,"column":4}},{"start":{"line":376,"column":4},"end":{"line":376,"column":4}}]},"91":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":4},"end":{"line":379,"column":4}},{"start":{"line":379,"column":4},"end":{"line":379,"column":4}}]},"92":{"line":382,"type":"if","locations":[{"start":{"line":382,"column":4},"end":{"line":382,"column":4}},{"start":{"line":382,"column":4},"end":{"line":382,"column":4}}]},"93":{"line":385,"type":"if","locations":[{"start":{"line":385,"column":4},"end":{"line":385,"column":4}},{"start":{"line":385,"column":4},"end":{"line":385,"column":4}}]},"94":{"line":388,"type":"if","locations":[{"start":{"line":388,"column":4},"end":{"line":388,"column":4}},{"start":{"line":388,"column":4},"end":{"line":388,"column":4}}]},"95":{"line":391,"type":"if","locations":[{"start":{"line":391,"column":4},"end":{"line":391,"column":4}},{"start":{"line":391,"column":4},"end":{"line":391,"column":4}}]},"96":{"line":394,"type":"if","locations":[{"start":{"line":394,"column":4},"end":{"line":394,"column":4}},{"start":{"line":394,"column":4},"end":{"line":394,"column":4}}]},"97":{"line":397,"type":"if","locations":[{"start":{"line":397,"column":4},"end":{"line":397,"column":4}},{"start":{"line":397,"column":4},"end":{"line":397,"column":4}}]},"98":{"line":397,"type":"binary-expr","locations":[{"start":{"line":397,"column":8},"end":{"line":397,"column":38}},{"start":{"line":397,"column":42},"end":{"line":397,"column":66}}]},"99":{"line":400,"type":"if","locations":[{"start":{"line":400,"column":4},"end":{"line":400,"column":4}},{"start":{"line":400,"column":4},"end":{"line":400,"column":4}}]},"100":{"line":403,"type":"if","locations":[{"start":{"line":403,"column":4},"end":{"line":403,"column":4}},{"start":{"line":403,"column":4},"end":{"line":403,"column":4}}]}},"code":["/// <reference path=\"../../defs/tsd.d.ts\"/>","/// <reference path=\"./interfaces.d.ts\"/>","'use strict';","var defaults_1 = require('./defaults');","var utils = require('./utils');","var _ = require('lodash');","var es6_promise_1 = require('es6-promise');","var visualStudioOptionsResolver_1 = require('./visualStudioOptionsResolver');","var tsconfig_1 = require('./tsconfig');","// Compiler Options documentation:","// https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Compiler%20Options.md","var propertiesFromTarget = ['amdloader', 'baseDir', 'html', 'htmlOutDir', 'htmlOutDirFlatten', 'reference', 'testExecute', 'tsconfig',","    'templateCache', 'vs', 'watch'], ","// purposefully not supported: help, version, charset, diagnostics, listFiles","// supported via other code: out, outDir, outFile, project","propertiesFromTargetOptions = ['additionalFlags', 'allowSyntheticDefaultImports', 'comments', 'compile', 'compiler', 'declaration',","    'emitBOM', 'emitDecoratorMetadata', 'experimentalDecorators', 'failOnTypeErrors', 'fast', 'htmlModuleTemplate', 'htmlOutDir',","    'htmlOutputTemplate', 'htmlOutDirFlatten', 'htmlVarTemplate', 'inlineSourceMap', 'inlineSources', 'isolatedModules', 'locale',","    'mapRoot', 'module', 'newLine', 'noEmit', 'noEmitHelpers', 'noEmitOnError', 'noImplicitAny', 'noLib', 'noResolve',","    'preserveConstEnums', 'removeComments', 'sourceRoot', 'sourceMap', 'stripInternal', 'suppressExcessPropertyErrors',","    'suppressImplicitAnyIndexErrors', 'target', 'verbose', 'jsx', 'moduleResolution', 'experimentalAsyncFunctions', 'rootDir',","    'emitGruntEvents', 'reactNamespace', 'skipDefaultLibCheck', 'pretty', 'allowUnusedLabels', 'noImplicitReturns',","    'noFallthroughCasesInSwitch', 'allowUnreachableCode', 'forceConsistentCasingInFileNames', 'allowJs', 'noImplicitUseStrict'], delayTemplateExpansion = ['htmlModuleTemplate', 'htmlVarTemplate', 'htmlOutputTemplate'];","var templateProcessor = null;","var globExpander = null;","function noopTemplateProcessor(templateString, options) {","    return templateString;","}","function emptyGlobExpander(globs) {","    return [];","}","emptyGlobExpander.isStub = true;","function resolveAsync(rawTaskOptions, rawTargetOptions, targetName, resolvedFiles, theTemplateProcessor, theGlobExpander) {","    if (targetName === void 0) { targetName = ''; }","    if (resolvedFiles === void 0) { resolvedFiles = []; }","    if (theTemplateProcessor === void 0) { theTemplateProcessor = null; }","    if (theGlobExpander === void 0) { theGlobExpander = null; }","    var result = emptyOptionsResolveResult();","    return new es6_promise_1.Promise(function (resolve, reject) {","        if (theTemplateProcessor && typeof theTemplateProcessor === 'function') {","            templateProcessor = theTemplateProcessor;","        }","        else {","            templateProcessor = noopTemplateProcessor;","        }","        if (theGlobExpander && typeof theGlobExpander === 'function') {","            globExpander = theGlobExpander;","        }","        else {","            globExpander = emptyGlobExpander;","        }","        fixMissingOptions(rawTaskOptions);","        fixMissingOptions(rawTargetOptions);","        {","            var _a = resolveAndWarnOnConfigurationIssues(rawTaskOptions, rawTargetOptions, targetName), errors = _a.errors, warnings = _a.warnings;","            (_b = result.errors).push.apply(_b, errors);","            (_c = result.warnings).push.apply(_c, warnings);","        }","        result = applyGruntOptions(result, rawTaskOptions);","        result = applyGruntOptions(result, rawTargetOptions);","        result = copyCompilationTasks(result, resolvedFiles, resolveOutputOptions(rawTaskOptions, rawTargetOptions));","        visualStudioOptionsResolver_1.resolveVSOptionsAsync(result, rawTaskOptions, rawTargetOptions, templateProcessor).then(function (result) {","            tsconfig_1.resolveAsync(result, rawTaskOptions, rawTargetOptions, templateProcessor, globExpander).then(function (result) {","                result = addressAssociatedOptionsAndResolveConflicts(result);","                result = enclosePathsInQuotesIfRequired(result);","                result = logAdditionalConfigurationWarnings(result);","                result = applyGruntTSDefaults(result);","                if (result.targetName === undefined ||","                    (!result.targetName && targetName)) {","                    result.targetName = targetName;","                }","                return resolve(result);","            }).catch(function (tsConfigError) {","                result.errors.push('tsconfig error: ' + JSON.stringify(tsConfigError));","                return resolve(result);","            });","        }).catch(function (vsConfigError) {","            result.errors.push('Visual Studio config issue: ' + JSON.stringify(vsConfigError));","            return resolve(result);","        });","        var _b, _c;","    });","}","exports.resolveAsync = resolveAsync;","function resolveOutputOptions(rawTaskOptions, rawTargetOptions) {","    var result = {};","    var props = ['outDir', 'out'];","    var options = [rawTaskOptions, rawTargetOptions];","    options.forEach(function (opt) {","        props.forEach(function (prop) {","            if (opt && (prop in opt)) {","                result[prop] = opt[prop];","            }","        });","    });","    return result;","}","function fixMissingOptions(config) {","    if (config && !config.options) {","        config.options = {};","    }","}","function emptyOptionsResolveResult() {","    return {","        warnings: [],","        errors: []","    };","}","function logAdditionalConfigurationWarnings(options) {","    return options;","}","function resolveAndWarnOnConfigurationIssues(task, target, targetName) {","    var errors = [], warnings = [];","    var lowercaseTargetProps = _.map(propertiesFromTarget, function (prop) { return prop.toLocaleLowerCase(); });","    var lowercaseTargetOptionsProps = _.map(propertiesFromTargetOptions, function (prop) { return prop.toLocaleLowerCase(); });","    checkFixableCaseIssues(task, 'ts task');","    checkFixableCaseIssues(target, \"target \\\"\" + targetName + \"\\\"\");","    checkLocations(task, 'ts task');","    checkLocations(target, \"target \\\"\" + targetName + \"\\\"\");","    fixFilesUsedWithFast(task, 'ts task');","    fixFilesUsedWithFast(target, \"target \\\"\" + targetName + \"\\\"\");","    warnings.push.apply(warnings, getAdditionalWarnings(task, target, targetName));","    return { errors: errors, warnings: warnings };","    function getAdditionalWarnings(task, target, targetName) {","        var additionalWarnings = [];","        if (propertiesFromTarget.indexOf(targetName) >= 0) {","            additionalWarnings.push((\"Warning: Using the grunt-ts keyword \\\"\" + targetName + \"\\\" as a target name may cause \") +","                \"incorrect behavior or errors.\");","        }","        if (((task && task.src && targetName !== 'src') || (target && target.src)) &&","            ((task && task.files) || (target && target.files))) {","            additionalWarnings.push(\"Warning: In task \\\"\" + targetName + \"\\\", either \\\"files\\\" or \\\"src\\\" should be used - not both.\");","        }","        if (((task && task.vs) || (target && target.vs)) &&","            ((task && task.files) || (target && target.files))) {","            additionalWarnings.push(\"Warning: In task \\\"\" + targetName + \"\\\", either \\\"files\\\" or \\\"vs\\\" should be used - not both.\");","        }","        if (usingDestArray(task) || usingDestArray(target)) {","            additionalWarnings.push((\"Warning: target \\\"\" + targetName + \"\\\" has an array specified for the files.dest property.\") +","                \"  This is not supported.  Taking first element and ignoring the rest.\");","        }","        if ((task && task.outFile) || (target && target.outFile)) {","            additionalWarnings.push((\"Warning: target \\\"\" + targetName + \"\\\" is using \\\"outFile\\\".  This is not supported by\") +","                \" grunt-ts via the Gruntfile - it's only relevant when present in tsconfig.json file.  Use \\\"out\\\" instead.\");","        }","        return additionalWarnings;","        function usingDestArray(task) {","            var result = false;","            if (task && task.files && _.isArray(task.files)) {","                task.files.forEach(function (item) {","                    if (_.isArray(item.dest)) {","                        result = true;","                    }","                    ;","                });","            }","            return result;","        }","    }","    function fixFilesUsedWithFast(task, configName) {","        if (task && task.files && task.options && task.options.fast) {","            warnings.push((\"Warning: \" + configName + \" is attempting to use fast compilation with \\\"files\\\".  \") +","                \"This is not currently supported.  Setting \\\"fast\\\" to \\\"never\\\".\");","            task.options.fast = 'never';","        }","    }","    function checkLocations(task, configName) {","        // todo: clean this up.  The top and bottom sections are largely the same.","        if (task) {","            for (var propertyName in task) {","                if (propertiesFromTarget.indexOf(propertyName) === -1 && propertyName !== 'options') {","                    if (propertiesFromTargetOptions.indexOf(propertyName) > -1) {","                        var warningText = (\"Property \\\"\" + propertyName + \"\\\" in \" + configName + \" is possibly in the wrong place and will be ignored.  \") +","                            \"It is expected on the options object.\";","                        warnings.push(warningText);","                    }","                    else if (lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase()) === -1","                        && lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase()) > -1) {","                        var index = lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase());","                        var correctPropertyName = propertiesFromTargetOptions[index];","                        var warningText = (\"Property \\\"\" + propertyName + \"\\\" in \" + configName + \" is possibly in the wrong place and will be ignored.  \") +","                            (\"It is expected on the options object.  It is also the wrong case and should be \" + correctPropertyName + \".\");","                        warnings.push(warningText);","                    }","                }","            }","            if (task.options) {","                for (var propertyName in task.options) {","                    if (propertiesFromTargetOptions.indexOf(propertyName) === -1) {","                        if (propertiesFromTarget.indexOf(propertyName) > -1) {","                            var warningText = (\"Property \\\"\" + propertyName + \"\\\" in \" + configName + \" is possibly in the wrong place and will be ignored.  \") +","                                \"It is expected on the task or target, not under options.\";","                            warnings.push(warningText);","                        }","                        else if (lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase()) === -1","                            && lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase()) > -1) {","                            var index = lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase());","                            var correctPropertyName = propertiesFromTarget[index];","                            var warningText = (\"Property \\\"\" + propertyName + \"\\\" in \" + configName + \" is possibly in the wrong place and will be ignored.  \") +","                                (\"It is expected on the task or target, not under options.  It is also the wrong case and should be \" + correctPropertyName + \".\");","                            warnings.push(warningText);","                        }","                    }","                }","            }","        }","    }","    function checkFixableCaseIssues(task, configName) {","        if (task) {","            for (var propertyName in task) {","                if ((propertiesFromTarget.indexOf(propertyName) === -1)","                    && (lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase()) > -1)","                    && (propertiesFromTargetOptions.indexOf(propertyName) === -1)) {","                    var index = lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase());","                    var correctPropertyName = propertiesFromTarget[index];","                    var warningText = (\"Property \\\"\" + propertyName + \"\\\" in \" + configName + \" is incorrectly cased; it should \") +","                        (\"be \\\"\" + correctPropertyName + \"\\\".  Fixing it for you and proceeding.\");","                    warnings.push(warningText);","                    task[correctPropertyName] = task[propertyName];","                    delete task[propertyName];","                }","            }","            for (var propertyName in task.options) {","                if ((propertiesFromTargetOptions.indexOf(propertyName) === -1)","                    && (lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase()) > -1)","                    && (propertiesFromTarget.indexOf(propertyName) === -1)) {","                    var index = lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase());","                    var correctPropertyName = propertiesFromTargetOptions[index];","                    var warningText = (\"Property \\\"\" + propertyName + \"\\\" in \" + configName + \" options is incorrectly cased; it should \") +","                        (\"be \\\"\" + correctPropertyName + \"\\\".  Fixing it for you and proceeding.\");","                    warnings.push(warningText);","                    task.options[correctPropertyName] = task.options[propertyName];","                    delete task.options[propertyName];","                }","            }","        }","    }","}","function applyGruntOptions(applyTo, gruntOptions) {","    if (gruntOptions) {","        for (var _i = 0, propertiesFromTarget_1 = propertiesFromTarget; _i < propertiesFromTarget_1.length; _i++) {","            var propertyName = propertiesFromTarget_1[_i];","            if (propertyName in gruntOptions && propertyName !== 'vs') {","                if (typeof gruntOptions[propertyName] === 'string' && utils.hasValue(gruntOptions[propertyName]) &&","                    delayTemplateExpansion.indexOf(propertyName) === -1) {","                    applyTo[propertyName] = templateProcessor(gruntOptions[propertyName], {});","                }","                else {","                    applyTo[propertyName] = gruntOptions[propertyName];","                }","            }","        }","        if (gruntOptions.options) {","            for (var _a = 0, propertiesFromTargetOptions_1 = propertiesFromTargetOptions; _a < propertiesFromTargetOptions_1.length; _a++) {","                var propertyName = propertiesFromTargetOptions_1[_a];","                if (propertyName in gruntOptions.options) {","                    if (typeof gruntOptions.options[propertyName] === 'string' && utils.hasValue(gruntOptions.options[propertyName]) &&","                        delayTemplateExpansion.indexOf(propertyName) === -1) {","                        applyTo[propertyName] = templateProcessor(gruntOptions.options[propertyName], {});","                    }","                    else {","                        applyTo[propertyName] = gruntOptions.options[propertyName];","                    }","                }","            }","        }","    }","    return applyTo;","}","function copyCompilationTasks(options, resolvedFiles, outputInfo) {","    if (!utils.hasValue(options.CompilationTasks)) {","        options.CompilationTasks = [];","    }","    if (!utils.hasValue(resolvedFiles) || resolvedFiles.length === 0) {","        if (options.CompilationTasks.length === 0 && (('outDir' in outputInfo) || ('out' in outputInfo))) {","            var newCompilationTask = {","                src: []","            };","            if ('outDir' in outputInfo) {","                newCompilationTask.outDir = outputInfo.outDir;","            }","            if ('out' in outputInfo) {","                newCompilationTask.outDir = outputInfo.outDir;","            }","            options.CompilationTasks.push(newCompilationTask);","        }","        return options;","    }","    for (var i = 0; i < resolvedFiles.length; i += 1) {","        var glob = void 0;","        var orig = resolvedFiles[i].orig;","        if (orig && ('src' in orig)) {","            glob = [].concat(orig.src);","        }","        var compilationSet = {","            src: _.map(resolvedFiles[i].src, function (fileName) { return utils.enclosePathInQuotesIfRequired(fileName); }),","            out: utils.enclosePathInQuotesIfRequired(resolvedFiles[i].out),","            outDir: utils.enclosePathInQuotesIfRequired(resolvedFiles[i].outDir),","            glob: glob","        };","        if ('dest' in resolvedFiles[i] && resolvedFiles[i].dest) {","            var dest = void 0;","            if (_.isArray(resolvedFiles[i].dest)) {","                // using an array for dest is not supported.  Only take first element.","                dest = resolvedFiles[i].dest[0];","            }","            else {","                dest = resolvedFiles[i].dest;","            }","            if (utils.isJavaScriptFile(dest)) {","                compilationSet.out = dest;","            }","            else {","                compilationSet.outDir = dest;","            }","        }","        options.CompilationTasks.push(compilationSet);","    }","    return options;","}","function enclosePathsInQuotesIfRequired(options) {","    if (options.rootDir) {","        options.rootDir = utils.enclosePathInQuotesIfRequired(options.rootDir);","    }","    if (options.mapRoot) {","        options.mapRoot = utils.enclosePathInQuotesIfRequired(options.mapRoot);","    }","    if (options.sourceRoot) {","        options.sourceRoot = utils.enclosePathInQuotesIfRequired(options.sourceRoot);","    }","    return options;","}","function addressAssociatedOptionsAndResolveConflicts(options) {","    if (options.emitDecoratorMetadata) {","        options.experimentalDecorators = true;","    }","    if (options.inlineSourceMap && options.sourceMap) {","        options.warnings.push('TypeScript cannot use inlineSourceMap and sourceMap together.  Ignoring sourceMap.');","        options.sourceMap = false;","    }","    if (options.inlineSources && !options.sourceMap) {","        options.inlineSources = true;","        options.inlineSourceMap = true;","        options.sourceMap = false;","    }","    if ('comments' in options && 'removeComments' in options) {","        options.warnings.push(\"WARNING: Option \\\"comments\\\" and \\\"removeComments\\\" should not be used together.  \" +","            (\"The --removeComments value of \" + !!options.removeComments + \" supercedes the --comments value of \" + !!options.comments));","    }","    if ('comments' in options && !('removeComments' in options)) {","        options.comments = !!options.comments;","        options.removeComments = !options.comments;","    }","    else if (!('comments' in options) && ('removeComments' in options)) {","        options.removeComments = !!options.removeComments;","        options.comments = !options.removeComments;","    }","    if ('html' in options &&","        (options.CompilationTasks.length === 0 ||","            !_.some(options.CompilationTasks, function (item) { return ((item.src || []).length > 0 || (item.glob || []).length > 0); }))) {","        options.errors.push(\"ERROR: option \\\"html\\\" provided without corresponding TypeScript source files or glob to \" +","            \"compile.  The transform will not occur unless grunt-ts also expects to compile some files.\");","    }","    options.CompilationTasks.forEach(function (compileTask) {","        if (compileTask.out && compileTask.outDir) {","            options.warnings.push('The parameter `out` is incompatible with `outDir`; pass one or the other - not both.  Ignoring `out` and using `outDir`.');","            compileTask.out = '';","        }","    });","    return options;","}","function applyGruntTSDefaults(options) {","    if (!('sourceMap' in options) && !('inlineSourceMap' in options)) {","        options.sourceMap = defaults_1.GruntTSDefaults.sourceMap;","    }","    if (!('target' in options)) {","        options.target = defaults_1.GruntTSDefaults.target;","    }","    if (!('fast' in options)) {","        options.fast = defaults_1.GruntTSDefaults.fast;","    }","    if (!('compile' in options)) {","        options.compile = defaults_1.GruntTSDefaults.compile;","    }","    if (!('htmlOutDir' in options)) {","        options.htmlOutDir = null;","    }","    if (!('htmlOutDirFlatten' in options)) {","        options.htmlOutDirFlatten = defaults_1.GruntTSDefaults.htmlOutDirFlatten;","    }","    if (!('htmlModuleTemplate' in options)) {","        options.htmlModuleTemplate = defaults_1.GruntTSDefaults.htmlModuleTemplate;","    }","    if (!('htmlVarTemplate' in options)) {","        options.htmlVarTemplate = defaults_1.GruntTSDefaults.htmlVarTemplate;","    }","    if (!('removeComments' in options) && !('comments' in options)) {","        options.removeComments = defaults_1.GruntTSDefaults.removeComments;","    }","    if (!('failOnTypeErrors' in options)) {","        options.failOnTypeErrors = defaults_1.GruntTSDefaults.failOnTypeErrors;","    }","    if (!('emitGruntEvents' in options)) {","        options.emitGruntEvents = defaults_1.GruntTSDefaults.emitGruntEvents;","    }","    return options;","}","//# sourceMappingURL=optionsResolver.js.map"],"l":{"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"12":1,"24":1,"25":1,"26":1,"27":0,"29":1,"30":0,"32":1,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"44":0,"46":0,"47":0,"50":0,"52":0,"53":0,"55":0,"56":0,"57":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"72":0,"74":0,"75":0,"78":0,"79":0,"81":0,"84":1,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"96":0,"98":1,"99":0,"100":0,"103":1,"104":0,"109":1,"110":0,"112":1,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":1,"125":0,"126":0,"127":0,"130":0,"132":0,"134":0,"136":0,"138":0,"139":0,"142":0,"143":0,"146":0,"147":1,"148":0,"149":0,"150":0,"151":0,"152":0,"157":0,"160":1,"161":0,"162":0,"164":0,"167":1,"169":0,"170":0,"171":0,"172":0,"173":0,"175":0,"177":0,"179":0,"180":0,"181":0,"183":0,"187":0,"188":0,"189":0,"190":0,"191":0,"193":0,"195":0,"197":0,"198":0,"199":0,"201":0,"208":1,"209":0,"210":0,"211":0,"214":0,"215":0,"216":0,"218":0,"219":0,"220":0,"223":0,"224":0,"227":0,"228":0,"229":0,"231":0,"232":0,"233":0,"239":1,"240":0,"241":0,"242":0,"243":0,"244":0,"246":0,"249":0,"253":0,"254":0,"255":0,"256":0,"257":0,"259":0,"262":0,"268":0,"270":1,"271":0,"272":0,"274":0,"275":0,"276":0,"279":0,"280":0,"282":0,"283":0,"285":0,"287":0,"289":0,"290":0,"291":0,"292":0,"293":0,"295":0,"296":0,"301":0,"302":0,"303":0,"305":0,"308":0,"310":0,"311":0,"314":0,"317":0,"319":0,"321":1,"322":0,"323":0,"325":0,"326":0,"328":0,"329":0,"331":0,"333":1,"334":0,"335":0,"337":0,"338":0,"339":0,"341":0,"342":0,"343":0,"344":0,"346":0,"347":0,"350":0,"351":0,"352":0,"354":0,"355":0,"356":0,"358":0,"360":0,"361":0,"364":0,"365":0,"366":0,"367":0,"370":0,"372":1,"373":0,"374":0,"376":0,"377":0,"379":0,"380":0,"382":0,"383":0,"385":0,"386":0,"388":0,"389":0,"391":0,"392":0,"394":0,"395":0,"397":0,"398":0,"400":0,"401":0,"403":0,"404":0,"406":0}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/defaults.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/defaults.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1},"b":{},"f":{"1":1},"fnMap":{"1":{"name":"applyGruntTSDefaults","line":69,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":39}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"3":{"start":{"line":4,"column":0},"end":{"line":67,"column":2}},"4":{"start":{"line":68,"column":0},"end":{"line":68,"column":76}},"5":{"start":{"line":69,"column":0},"end":{"line":81,"column":1}},"6":{"start":{"line":71,"column":4},"end":{"line":71,"column":29}},"7":{"start":{"line":72,"column":4},"end":{"line":72,"column":27}},"8":{"start":{"line":73,"column":4},"end":{"line":73,"column":51}},"9":{"start":{"line":74,"column":4},"end":{"line":74,"column":43}},"10":{"start":{"line":75,"column":4},"end":{"line":75,"column":38}},"11":{"start":{"line":76,"column":4},"end":{"line":76,"column":27}},"12":{"start":{"line":77,"column":4},"end":{"line":77,"column":34}},"13":{"start":{"line":78,"column":4},"end":{"line":78,"column":36}},"14":{"start":{"line":79,"column":4},"end":{"line":79,"column":36}},"15":{"start":{"line":80,"column":4},"end":{"line":80,"column":19}}},"branchMap":{},"code":["'use strict';","var utils = require('./utils');","var _ = require('lodash');","var TypeScriptDefaults = {","    allowBool: false,","    allowImportModule: false,","    allowSyntheticDefaultImports: null,","    amdloader: null,","    compile: true,","    declaration: false,","    emitDecoratorMetadata: false,","    experimentalDecorators: false,","    mapRoot: '',","    module: null,","    noImplicitAny: false,","    noResolve: false,","    comments: null,","    removeComments: null,","    sourceMap: true,","    sourceRoot: '',","    target: null,","    verbose: false,","    fast: null,","    watch: null,","    compiler: '',","    html: null,","    htmlModuleTemplate: null,","    htmlVarTemplate: null,","    htmlOutputTemplate: null,","    htmlOutDir: null,","    htmlOutDirFlatten: null,","    failOnTypeErrors: null,","    emitGruntEvents: null,","    noEmitOnError: false,","    preserveConstEnums: false,","    suppressExcessPropertyErrors: false,","    suppressImplicitAnyIndexErrors: false,","    stripInternal: false,","    noEmit: false,","    noLib: false,","    emitBOM: false,","    inlineSources: false,","    inlineSourceMap: false,","    newLine: utils.eol,","    isolatedModules: false,","    noEmitHelpers: false,","    additionalFlags: '',","    templateCache: null,","    targetName: '',","    locale: null,","    jsx: null,","    moduleResolution: null,","    experimentalAsyncFunctions: null,","    reactNamespace: null,","    skipDefaultLibCheck: null,","    pretty: false,","    allowUnusedLabels: false,","    noImplicitReturns: false,","    noFallthroughCasesInSwitch: false,","    allowUnreachableCode: false,","    forceConsistentCasingInFileNames: false,","    allowJs: false,","    noImplicitUseStrict: false,","    rootDir: null,","    warnings: [],","    errors: []","};","exports.GruntTSDefaults = applyGruntTSDefaults(_.clone(TypeScriptDefaults));","function applyGruntTSDefaults(options) {","    // this function applies defaults where grunt-ts differs from TypeScript","    options.sourceMap = true;","    options.target = 'es5';","    options.htmlModuleTemplate = '<%= filename %>';","    options.htmlVarTemplate = '<%= ext %>';","    options.htmlOutDirFlatten = false;","    options.fast = 'watch';","    options.removeComments = true;","    options.failOnTypeErrors = true;","    options.emitGruntEvents = false;","    return options;","}","//# sourceMappingURL=defaults.js.map"],"l":{"2":1,"3":1,"4":1,"68":1,"69":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/visualStudioOptionsResolver.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/visualStudioOptionsResolver.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"resolveVSOptionsAsync","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":90}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":37},"end":{"line":10,"column":64}}},"3":{"name":"(anonymous_3)","line":48,"loc":{"start":{"line":48,"column":20},"end":{"line":48,"column":40}}},"4":{"name":"(anonymous_4)","line":57,"loc":{"start":{"line":57,"column":21},"end":{"line":57,"column":38}}},"5":{"name":"resolve_out_and_outDir","line":71,"loc":{"start":{"line":71,"column":0},"end":{"line":71,"column":69}}},"6":{"name":"(anonymous_6)","line":73,"loc":{"start":{"line":73,"column":41},"end":{"line":73,"column":68}}},"7":{"name":"(anonymous_7)","line":74,"loc":{"start":{"line":74,"column":49},"end":{"line":74,"column":70}}},"8":{"name":"applyVSOptions","line":86,"loc":{"start":{"line":86,"column":0},"end":{"line":86,"column":45}}},"9":{"name":"(anonymous_9)","line":100,"loc":{"start":{"line":100,"column":40},"end":{"line":100,"column":56}}},"10":{"name":"relativePathToVSProjectFolderFromGruntfile","line":114,"loc":{"start":{"line":114,"column":0},"end":{"line":114,"column":62}}},"11":{"name":"applyVSSettings","line":117,"loc":{"start":{"line":117,"column":0},"end":{"line":117,"column":46}}},"12":{"name":"(anonymous_12)","line":171,"loc":{"start":{"line":171,"column":41},"end":{"line":171,"column":57}}},"13":{"name":"(anonymous_13)","line":177,"loc":{"start":{"line":177,"column":41},"end":{"line":177,"column":57}}},"14":{"name":"getVSSettings","line":184,"loc":{"start":{"line":184,"column":0},"end":{"line":184,"column":41}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":26}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"7":{"start":{"line":8,"column":0},"end":{"line":69,"column":1}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":45}},"9":{"start":{"line":10,"column":4},"end":{"line":68,"column":7}},"10":{"start":{"line":12,"column":12},"end":{"line":12,"column":93}},"11":{"start":{"line":13,"column":12},"end":{"line":13,"column":26}},"12":{"start":{"line":14,"column":12},"end":{"line":16,"column":13}},"13":{"start":{"line":15,"column":16},"end":{"line":15,"column":28}},"14":{"start":{"line":17,"column":12},"end":{"line":33,"column":13}},"15":{"start":{"line":18,"column":16},"end":{"line":20,"column":17}},"16":{"start":{"line":19,"column":20},"end":{"line":19,"column":34}},"17":{"start":{"line":21,"column":16},"end":{"line":23,"column":17}},"18":{"start":{"line":22,"column":20},"end":{"line":22,"column":50}},"19":{"start":{"line":24,"column":16},"end":{"line":26,"column":17}},"20":{"start":{"line":25,"column":20},"end":{"line":25,"column":48}},"21":{"start":{"line":27,"column":16},"end":{"line":29,"column":17}},"22":{"start":{"line":28,"column":20},"end":{"line":28,"column":58}},"23":{"start":{"line":30,"column":16},"end":{"line":32,"column":17}},"24":{"start":{"line":31,"column":20},"end":{"line":31,"column":64}},"25":{"start":{"line":34,"column":12},"end":{"line":42,"column":13}},"26":{"start":{"line":35,"column":16},"end":{"line":35,"column":32}},"27":{"start":{"line":36,"column":16},"end":{"line":38,"column":17}},"28":{"start":{"line":37,"column":20},"end":{"line":37,"column":83}},"29":{"start":{"line":39,"column":16},"end":{"line":41,"column":17}},"30":{"start":{"line":40,"column":20},"end":{"line":40,"column":81}},"31":{"start":{"line":44,"column":8},"end":{"line":66,"column":9}},"32":{"start":{"line":45,"column":12},"end":{"line":65,"column":15}},"33":{"start":{"line":49,"column":16},"end":{"line":56,"column":17}},"34":{"start":{"line":50,"column":20},"end":{"line":50,"column":64}},"35":{"start":{"line":51,"column":20},"end":{"line":51,"column":90}},"36":{"start":{"line":52,"column":20},"end":{"line":52,"column":44}},"37":{"start":{"line":55,"column":20},"end":{"line":55,"column":38}},"38":{"start":{"line":58,"column":16},"end":{"line":63,"column":17}},"39":{"start":{"line":59,"column":20},"end":{"line":59,"column":135}},"40":{"start":{"line":62,"column":20},"end":{"line":62,"column":122}},"41":{"start":{"line":64,"column":16},"end":{"line":64,"column":37}},"42":{"start":{"line":67,"column":8},"end":{"line":67,"column":32}},"43":{"start":{"line":70,"column":0},"end":{"line":70,"column":54}},"44":{"start":{"line":71,"column":0},"end":{"line":85,"column":1}},"45":{"start":{"line":72,"column":4},"end":{"line":83,"column":5}},"46":{"start":{"line":73,"column":8},"end":{"line":82,"column":11}},"47":{"start":{"line":74,"column":12},"end":{"line":81,"column":15}},"48":{"start":{"line":75,"column":16},"end":{"line":77,"column":17}},"49":{"start":{"line":76,"column":20},"end":{"line":76,"column":56}},"50":{"start":{"line":78,"column":16},"end":{"line":80,"column":17}},"51":{"start":{"line":79,"column":20},"end":{"line":79,"column":62}},"52":{"start":{"line":84,"column":4},"end":{"line":84,"column":19}},"53":{"start":{"line":86,"column":0},"end":{"line":113,"column":1}},"54":{"start":{"line":87,"column":4},"end":{"line":87,"column":52}},"55":{"start":{"line":88,"column":4},"end":{"line":92,"column":5}},"56":{"start":{"line":89,"column":8},"end":{"line":89,"column":35}},"57":{"start":{"line":90,"column":8},"end":{"line":90,"column":46}},"58":{"start":{"line":91,"column":8},"end":{"line":91,"column":52}},"59":{"start":{"line":93,"column":4},"end":{"line":108,"column":5}},"60":{"start":{"line":94,"column":8},"end":{"line":96,"column":9}},"61":{"start":{"line":95,"column":12},"end":{"line":95,"column":55}},"62":{"start":{"line":97,"column":8},"end":{"line":97,"column":52}},"63":{"start":{"line":98,"column":8},"end":{"line":98,"column":110}},"64":{"start":{"line":99,"column":8},"end":{"line":99,"column":50}},"65":{"start":{"line":100,"column":8},"end":{"line":107,"column":11}},"66":{"start":{"line":101,"column":12},"end":{"line":101,"column":102}},"67":{"start":{"line":102,"column":12},"end":{"line":102,"column":150}},"68":{"start":{"line":103,"column":12},"end":{"line":106,"column":13}},"69":{"start":{"line":105,"column":16},"end":{"line":105,"column":60}},"70":{"start":{"line":109,"column":4},"end":{"line":111,"column":5}},"71":{"start":{"line":110,"column":8},"end":{"line":110,"column":55}},"72":{"start":{"line":112,"column":4},"end":{"line":112,"column":19}},"73":{"start":{"line":114,"column":0},"end":{"line":116,"column":1}},"74":{"start":{"line":115,"column":4},"end":{"line":115,"column":73}},"75":{"start":{"line":117,"column":0},"end":{"line":183,"column":1}},"76":{"start":{"line":120,"column":4},"end":{"line":157,"column":6}},"77":{"start":{"line":158,"column":4},"end":{"line":162,"column":5}},"78":{"start":{"line":159,"column":8},"end":{"line":161,"column":9}},"79":{"start":{"line":160,"column":12},"end":{"line":160,"column":80}},"80":{"start":{"line":163,"column":4},"end":{"line":168,"column":5}},"81":{"start":{"line":164,"column":8},"end":{"line":164,"column":47}},"82":{"start":{"line":165,"column":8},"end":{"line":167,"column":9}},"83":{"start":{"line":166,"column":12},"end":{"line":166,"column":39}},"84":{"start":{"line":169,"column":4},"end":{"line":169,"column":84}},"85":{"start":{"line":170,"column":4},"end":{"line":175,"column":5}},"86":{"start":{"line":171,"column":8},"end":{"line":174,"column":11}},"87":{"start":{"line":172,"column":12},"end":{"line":172,"column":83}},"88":{"start":{"line":173,"column":12},"end":{"line":173,"column":157}},"89":{"start":{"line":176,"column":4},"end":{"line":181,"column":5}},"90":{"start":{"line":177,"column":8},"end":{"line":180,"column":11}},"91":{"start":{"line":178,"column":12},"end":{"line":178,"column":84}},"92":{"start":{"line":179,"column":12},"end":{"line":179,"column":154}},"93":{"start":{"line":182,"column":4},"end":{"line":182,"column":19}},"94":{"start":{"line":184,"column":0},"end":{"line":206,"column":1}},"95":{"start":{"line":185,"column":4},"end":{"line":185,"column":18}},"96":{"start":{"line":186,"column":4},"end":{"line":204,"column":5}},"97":{"start":{"line":187,"column":8},"end":{"line":187,"column":43}},"98":{"start":{"line":188,"column":8},"end":{"line":203,"column":9}},"99":{"start":{"line":189,"column":12},"end":{"line":194,"column":14}},"100":{"start":{"line":197,"column":12},"end":{"line":202,"column":14}},"101":{"start":{"line":205,"column":4},"end":{"line":205,"column":14}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":12}},{"start":{"line":14,"column":12},"end":{"line":14,"column":12}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":12},"end":{"line":17,"column":12}},{"start":{"line":17,"column":12},"end":{"line":17,"column":12}}]},"3":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":16},"end":{"line":18,"column":16}},{"start":{"line":18,"column":16},"end":{"line":18,"column":16}}]},"4":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":16},"end":{"line":21,"column":16}},{"start":{"line":21,"column":16},"end":{"line":21,"column":16}}]},"5":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":16},"end":{"line":24,"column":16}},{"start":{"line":24,"column":16},"end":{"line":24,"column":16}}]},"6":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":16}},{"start":{"line":27,"column":16},"end":{"line":27,"column":16}}]},"7":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":16},"end":{"line":30,"column":16}},{"start":{"line":30,"column":16},"end":{"line":30,"column":16}}]},"8":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":12}},{"start":{"line":34,"column":12},"end":{"line":34,"column":12}}]},"9":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":16},"end":{"line":36,"column":16}},{"start":{"line":36,"column":16},"end":{"line":36,"column":16}}]},"10":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":16},"end":{"line":39,"column":16}},{"start":{"line":39,"column":16},"end":{"line":39,"column":16}}]},"11":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":8}},{"start":{"line":44,"column":8},"end":{"line":44,"column":8}}]},"12":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":37},"end":{"line":47,"column":54}},{"start":{"line":47,"column":58},"end":{"line":47,"column":67}}]},"13":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":16},"end":{"line":58,"column":16}},{"start":{"line":58,"column":16},"end":{"line":58,"column":16}}]},"14":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":4}},{"start":{"line":72,"column":4},"end":{"line":72,"column":4}}]},"15":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":8},"end":{"line":72,"column":32}},{"start":{"line":72,"column":36},"end":{"line":72,"column":71}}]},"16":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":16},"end":{"line":75,"column":16}},{"start":{"line":75,"column":16},"end":{"line":75,"column":16}}]},"17":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":20},"end":{"line":75,"column":29}},{"start":{"line":75,"column":33},"end":{"line":75,"column":46}}]},"18":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":16},"end":{"line":78,"column":16}},{"start":{"line":78,"column":16},"end":{"line":78,"column":16}}]},"19":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":20},"end":{"line":78,"column":29}},{"start":{"line":78,"column":33},"end":{"line":78,"column":49}}]},"20":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"21":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":4}},{"start":{"line":93,"column":4},"end":{"line":93,"column":4}}]},"22":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":8}},{"start":{"line":94,"column":8},"end":{"line":94,"column":8}}]},"23":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":12},"end":{"line":103,"column":12}},{"start":{"line":103,"column":12},"end":{"line":103,"column":12}}]},"24":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":16},"end":{"line":103,"column":56}},{"start":{"line":104,"column":16},"end":{"line":104,"column":69}}]},"25":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":4}},{"start":{"line":109,"column":4},"end":{"line":109,"column":4}}]},"26":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":8},"end":{"line":159,"column":8}},{"start":{"line":159,"column":8},"end":{"line":159,"column":8}}]},"27":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":12},"end":{"line":159,"column":65}},{"start":{"line":159,"column":69},"end":{"line":159,"column":101}}]},"28":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":4},"end":{"line":163,"column":4}},{"start":{"line":163,"column":4},"end":{"line":163,"column":4}}]},"29":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":8},"end":{"line":163,"column":30}},{"start":{"line":163,"column":34},"end":{"line":163,"column":71}}]},"30":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":8},"end":{"line":165,"column":8}},{"start":{"line":165,"column":8},"end":{"line":165,"column":8}}]},"31":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":4},"end":{"line":170,"column":4}},{"start":{"line":170,"column":4},"end":{"line":170,"column":4}}]},"32":{"line":170,"type":"binary-expr","locations":[{"start":{"line":170,"column":8},"end":{"line":170,"column":41}},{"start":{"line":170,"column":45},"end":{"line":170,"column":69}}]},"33":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":4},"end":{"line":176,"column":4}},{"start":{"line":176,"column":4},"end":{"line":176,"column":4}}]},"34":{"line":176,"type":"binary-expr","locations":[{"start":{"line":176,"column":8},"end":{"line":176,"column":42}},{"start":{"line":176,"column":46},"end":{"line":176,"column":71}}]},"35":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":4},"end":{"line":186,"column":4}},{"start":{"line":186,"column":4},"end":{"line":186,"column":4}}]},"36":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":8},"end":{"line":186,"column":24}},{"start":{"line":186,"column":28},"end":{"line":186,"column":47}}]},"37":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":8},"end":{"line":188,"column":8}},{"start":{"line":188,"column":8},"end":{"line":188,"column":8}}]},"38":{"line":198,"type":"binary-expr","locations":[{"start":{"line":198,"column":25},"end":{"line":198,"column":41}},{"start":{"line":198,"column":45},"end":{"line":198,"column":47}}]},"39":{"line":199,"type":"binary-expr","locations":[{"start":{"line":199,"column":24},"end":{"line":199,"column":39}},{"start":{"line":199,"column":43},"end":{"line":199,"column":45}}]},"40":{"line":200,"type":"binary-expr","locations":[{"start":{"line":200,"column":29},"end":{"line":200,"column":49}},{"start":{"line":200,"column":53},"end":{"line":200,"column":58}}]},"41":{"line":201,"type":"binary-expr","locations":[{"start":{"line":201,"column":32},"end":{"line":201,"column":55}},{"start":{"line":201,"column":59},"end":{"line":201,"column":64}}]}},"code":["'use strict';","var csproj2ts = require('csproj2ts');","var path = require('path');","var utils = require('./utils');","var es6_promise_1 = require('es6-promise');","var _ = require('lodash');","var templateProcessor = null;","function resolveVSOptionsAsync(applyTo, taskOptions, targetOptions, theTemplateProcessor) {","    templateProcessor = theTemplateProcessor;","    return new es6_promise_1.Promise(function (resolve, reject) {","        {","            var vsTask = getVSSettings(taskOptions), vsTarget = getVSSettings(targetOptions);","            var vs = null;","            if (vsTask) {","                vs = vsTask;","            }","            if (vsTarget) {","                if (!vs) {","                    vs = vsTarget;","                }","                if (vsTarget.project) {","                    vs.project = vsTarget.project;","                }","                if (vsTarget.config) {","                    vs.config = vsTarget.config;","                }","                if (vsTarget.ignoreFiles) {","                    vs.ignoreFiles = vsTarget.ignoreFiles;","                }","                if (vsTarget.ignoreSettings) {","                    vs.ignoreSettings = vsTarget.ignoreSettings;","                }","            }","            if (vs) {","                applyTo.vs = vs;","                if (typeof applyTo.vs.project === 'string') {","                    applyTo.vs.project = templateProcessor(applyTo.vs.project, {});","                }","                if (typeof applyTo.vs.config === 'string') {","                    applyTo.vs.config = templateProcessor(applyTo.vs.config, {});","                }","            }","        }","        if (applyTo.vs) {","            return csproj2ts.getTypeScriptSettings({","                ProjectFileName: applyTo.vs.project,","                ActiveConfiguration: applyTo.vs.config || undefined","            }).then(function (vsConfig) {","                try {","                    applyTo = applyVSOptions(applyTo, vsConfig);","                    applyTo = resolve_out_and_outDir(applyTo, taskOptions, targetOptions);","                    return resolve(applyTo);","                }","                catch (ex) {","                    return reject(ex);","                }","            }).catch(function (error) {","                if (error.errno === 34) {","                    applyTo.errors.push('In target \"' + applyTo.targetName + '\" - could not find VS project at \"' + error.path + '\".');","                }","                else {","                    applyTo.errors.push('In target \"' + applyTo.targetName + '\".  Error #' + error.errno + '.  ' + error);","                }","                return reject(error);","            });","        }","        return resolve(applyTo);","    });","}","exports.resolveVSOptionsAsync = resolveVSOptionsAsync;","function resolve_out_and_outDir(options, taskOptions, targetOptions) {","    if (options.CompilationTasks && options.CompilationTasks.length > 0) {","        options.CompilationTasks.forEach(function (compilationTask) {","            [taskOptions, targetOptions].forEach(function (optionSet) {","                if (optionSet && optionSet.out) {","                    compilationTask.out = optionSet.out;","                }","                if (optionSet && optionSet.outDir) {","                    compilationTask.outDir = optionSet.outDir;","                }","            });","        });","    }","    return options;","}","function applyVSOptions(options, vsSettings) {","    var ignoreFiles = false, ignoreSettings = false;","    if (typeof options.vs !== 'string') {","        var vsOptions = options.vs;","        ignoreFiles = !!vsOptions.ignoreFiles;","        ignoreSettings = !!vsOptions.ignoreSettings;","    }","    if (!ignoreFiles) {","        if (options.CompilationTasks.length === 0) {","            options.CompilationTasks.push({ src: [] });","        }","        var src_1 = options.CompilationTasks[0].src;","        var absolutePathToVSProjectFolder_1 = path.resolve(vsSettings.VSProjectDetails.ProjectFileName, '..');","        var gruntfileFolder_1 = path.resolve('.');","        _.map(_.uniq(vsSettings.files), function (file) {","            var absolutePathToFile = path.normalize(path.join(absolutePathToVSProjectFolder_1, file));","            var relativePathToFileFromGruntfile = path.relative(gruntfileFolder_1, absolutePathToFile).replace(new RegExp('\\\\' + path.sep, 'g'), '/');","            if (src_1.indexOf(absolutePathToFile) === -1 &&","                src_1.indexOf(relativePathToFileFromGruntfile) === -1) {","                src_1.push(relativePathToFileFromGruntfile);","            }","        });","    }","    if (!ignoreSettings) {","        options = applyVSSettings(options, vsSettings);","    }","    return options;","}","function relativePathToVSProjectFolderFromGruntfile(settings) {","    return path.resolve(settings.VSProjectDetails.ProjectFileName, '..');","}","function applyVSSettings(options, vsSettings) {","    // Visit this page for MSBuild documentation:","    // https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Compiler%20Options%20in%20MSBuild.md","    var simpleVSSettingsToGruntTSMappings = {","        'AllowSyntheticDefaultImports': 'allowSyntheticDefaultImports',","        'AllowUnusedLabels': 'allowUnusedLabels',","        'AllowUnreachableCode': 'allowUnreachableCode',","        'EmitBOM': 'emitBom',","        'EmitDecoratorMetadata': 'emitDecoratorMetadata',","        'ExperimentalAsyncFunctions': 'experimentalAsyncFunctions',","        'ExperimentalDecorators': 'experimentalDecorators',","        'ForceConsistentCasingInFileNames': 'forceConsistentCasingInFileNames',","        'GeneratesDeclarations': 'declaration',","        'InlineSourceMap': 'inlineSourceMap',","        'InlineSources': 'inlineSources',","        'IsolatedModules': 'isolatedModules',","        'JSXEmit': 'jsx',","        'MapRoot': 'mapRoot',","        'ModuleKind': 'module',","        'ModuleResolution': 'moduleResolution',","        'NewLine': 'newLine',","        'NoEmitOnError': 'noEmitOnError',","        'NoEmitHelpers': 'NoEmitHelpers',","        'NoFallthroughCasesInSwitch': 'noFallthroughCasesInSwitch',","        'NoImplicitAny': 'noImplicitAny',","        'NoImplicitReturns': 'noImplicitReturns',","        'noImplicitUseStrict': 'NoImplicitUseStrict',","        'NoLib': 'noLib',","        'NoResolve': 'noResolve',","        // OutFile (both out and outFile) and OutDir are resolved elsewhere","        'PreserveConstEnums': 'preserveConstEnums',","        'ReactNamespace': 'reactNamespace',","        'RemoveComments': 'removeComments',","        'RootDir': 'rootDir',","        'SkipDefaultLibCheck': 'skipDefaultLibCheck',","        'SourceMap': 'sourceMap',","        'SourceRoot': 'sourceRoot',","        'SuppressImplicitAnyIndexErrors': 'suppressImplicitAnyIndexErrors',","        'SuppressExcessPropertyErrors': 'suppressExcessPropertyErrors',","        'Target': 'target'","    };","    for (var item in simpleVSSettingsToGruntTSMappings) {","        if (!(simpleVSSettingsToGruntTSMappings[item] in options) && utils.hasValue(vsSettings[item])) {","            options[simpleVSSettingsToGruntTSMappings[item]] = vsSettings[item];","        }","    }","    if (!('module' in options) && utils.hasValue(vsSettings.ModuleKind)) {","        options.module = vsSettings.ModuleKind;","        if (options.module === 'none') {","            options.module = undefined;","        }","    }","    var gruntfileToProject = relativePathToVSProjectFolderFromGruntfile(vsSettings);","    if (utils.hasValue(vsSettings.OutDir) && vsSettings.OutDir !== '') {","        options.CompilationTasks.forEach(function (item) {","            var absolutePath = path.resolve(gruntfileToProject, vsSettings.OutDir);","            item.outDir = utils.enclosePathInQuotesIfRequired(path.relative(path.resolve('.'), absolutePath).replace(new RegExp('\\\\' + path.sep, 'g'), '/'));","        });","    }","    if (utils.hasValue(vsSettings.OutFile) && vsSettings.OutFile !== '') {","        options.CompilationTasks.forEach(function (item) {","            var absolutePath = path.resolve(gruntfileToProject, vsSettings.OutFile);","            item.out = utils.enclosePathInQuotesIfRequired(path.relative(path.resolve('.'), absolutePath).replace(new RegExp('\\\\' + path.sep, 'g'), '/'));","        });","    }","    return options;","}","function getVSSettings(rawTargetOptions) {","    var vs = null;","    if (rawTargetOptions && rawTargetOptions.vs) {","        var targetvs = rawTargetOptions.vs;","        if (typeof targetvs === 'string') {","            vs = {","                project: targetvs,","                config: '',","                ignoreFiles: false,","                ignoreSettings: false","            };","        }","        else {","            vs = {","                project: targetvs.project || '',","                config: targetvs.config || '',","                ignoreFiles: targetvs.ignoreFiles || false,","                ignoreSettings: targetvs.ignoreSettings || false","            };","        }","    }","    return vs;","}","//# sourceMappingURL=visualStudioOptionsResolver.js.map"],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"17":0,"18":0,"19":0,"21":0,"22":0,"24":0,"25":0,"27":0,"28":0,"30":0,"31":0,"34":0,"35":0,"36":0,"37":0,"39":0,"40":0,"44":0,"45":0,"49":0,"50":0,"51":0,"52":0,"55":0,"58":0,"59":0,"62":0,"64":0,"67":0,"70":1,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"78":0,"79":0,"84":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"93":0,"94":0,"95":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"105":0,"109":0,"110":0,"112":0,"114":1,"115":0,"117":1,"120":0,"158":0,"159":0,"160":0,"163":0,"164":0,"165":0,"166":0,"169":0,"170":0,"171":0,"172":0,"173":0,"176":0,"177":0,"178":0,"179":0,"182":0,"184":1,"185":0,"186":0,"187":0,"188":0,"189":0,"197":0,"205":0}},"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/tsconfig.js":{"path":"/home/travis/build/npmtest/node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/tsconfig.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":1,"85":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":1,"162":0,"163":0,"164":0,"165":1,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":1,"189":0,"190":1,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0,0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"resolveAsync","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":98}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":37},"end":{"line":17,"column":64}}},"3":{"name":"warnOnBadConfiguration","line":98,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":54}}},"4":{"name":"getGlobs","line":111,"loc":{"start":{"line":111,"column":0},"end":{"line":111,"column":46}}},"5":{"name":"(anonymous_5)","line":114,"loc":{"start":{"line":114,"column":57},"end":{"line":114,"column":73}}},"6":{"name":"(anonymous_6)","line":117,"loc":{"start":{"line":117,"column":59},"end":{"line":117,"column":75}}},"7":{"name":"isStringOrArray","line":120,"loc":{"start":{"line":120,"column":4},"end":{"line":120,"column":36}}},"8":{"name":"getFlatCloneOf","line":123,"loc":{"start":{"line":123,"column":4},"end":{"line":123,"column":35}}},"9":{"name":"resolve_output_locations","line":127,"loc":{"start":{"line":127,"column":0},"end":{"line":127,"column":56}}},"10":{"name":"(anonymous_10)","line":132,"loc":{"start":{"line":132,"column":41},"end":{"line":132,"column":68}}},"11":{"name":"getTSConfigSettings","line":146,"loc":{"start":{"line":146,"column":0},"end":{"line":146,"column":34}}},"12":{"name":"applyCompilerOptions","line":185,"loc":{"start":{"line":185,"column":0},"end":{"line":185,"column":52}}},"13":{"name":"(anonymous_13)","line":238,"loc":{"start":{"line":238,"column":45},"end":{"line":238,"column":69}}},"14":{"name":"(anonymous_14)","line":289,"loc":{"start":{"line":289,"column":54},"end":{"line":289,"column":74}}},"15":{"name":"(anonymous_15)","line":293,"loc":{"start":{"line":293,"column":59},"end":{"line":293,"column":79}}},"16":{"name":"(anonymous_16)","line":297,"loc":{"start":{"line":297,"column":15},"end":{"line":297,"column":35}}},"17":{"name":"relativePathFromGruntfileToTSConfig","line":308,"loc":{"start":{"line":308,"column":0},"end":{"line":308,"column":47}}},"18":{"name":"updateTSConfigAndFilesFromGlob","line":314,"loc":{"start":{"line":314,"column":0},"end":{"line":314,"column":107}}},"19":{"name":"saveTSConfigSync","line":348,"loc":{"start":{"line":348,"column":0},"end":{"line":348,"column":45}}},"20":{"name":"addUniqueRelativeFilesToSrc","line":351,"loc":{"start":{"line":351,"column":0},"end":{"line":351,"column":101}}},"21":{"name":"(anonymous_21)","line":353,"loc":{"start":{"line":353,"column":38},"end":{"line":353,"column":54}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":23}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":26}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":27}},"11":{"start":{"line":12,"column":0},"end":{"line":96,"column":1}},"12":{"start":{"line":13,"column":4},"end":{"line":13,"column":63}},"13":{"start":{"line":13,"column":38},"end":{"line":13,"column":61}},"14":{"start":{"line":14,"column":4},"end":{"line":14,"column":45}},"15":{"start":{"line":15,"column":4},"end":{"line":15,"column":35}},"16":{"start":{"line":16,"column":4},"end":{"line":16,"column":58}},"17":{"start":{"line":17,"column":4},"end":{"line":95,"column":7}},"18":{"start":{"line":18,"column":8},"end":{"line":49,"column":9}},"19":{"start":{"line":19,"column":12},"end":{"line":19,"column":64}},"20":{"start":{"line":20,"column":12},"end":{"line":20,"column":68}},"21":{"start":{"line":21,"column":12},"end":{"line":21,"column":32}},"22":{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},"23":{"start":{"line":23,"column":16},"end":{"line":23,"column":40}},"24":{"start":{"line":25,"column":12},"end":{"line":44,"column":13}},"25":{"start":{"line":26,"column":16},"end":{"line":28,"column":17}},"26":{"start":{"line":27,"column":20},"end":{"line":27,"column":46}},"27":{"start":{"line":29,"column":16},"end":{"line":31,"column":17}},"28":{"start":{"line":30,"column":20},"end":{"line":30,"column":87}},"29":{"start":{"line":32,"column":16},"end":{"line":34,"column":17}},"30":{"start":{"line":33,"column":20},"end":{"line":33,"column":76}},"31":{"start":{"line":35,"column":16},"end":{"line":37,"column":17}},"32":{"start":{"line":36,"column":20},"end":{"line":36,"column":84}},"33":{"start":{"line":38,"column":16},"end":{"line":40,"column":17}},"34":{"start":{"line":39,"column":20},"end":{"line":39,"column":70}},"35":{"start":{"line":41,"column":16},"end":{"line":43,"column":17}},"36":{"start":{"line":42,"column":20},"end":{"line":42,"column":70}},"37":{"start":{"line":45,"column":12},"end":{"line":45,"column":40}},"38":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"39":{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},"40":{"start":{"line":51,"column":12},"end":{"line":51,"column":36}},"41":{"start":{"line":53,"column":8},"end":{"line":93,"column":9}},"42":{"start":{"line":54,"column":12},"end":{"line":56,"column":13}},"43":{"start":{"line":55,"column":16},"end":{"line":55,"column":59}},"44":{"start":{"line":57,"column":12},"end":{"line":59,"column":13}},"45":{"start":{"line":58,"column":16},"end":{"line":58,"column":48}},"46":{"start":{"line":62,"column":12},"end":{"line":62,"column":56}},"47":{"start":{"line":63,"column":12},"end":{"line":76,"column":13}},"48":{"start":{"line":64,"column":16},"end":{"line":64,"column":82}},"49":{"start":{"line":67,"column":16},"end":{"line":75,"column":17}},"50":{"start":{"line":68,"column":20},"end":{"line":68,"column":80}},"51":{"start":{"line":70,"column":21},"end":{"line":75,"column":17}},"52":{"start":{"line":71,"column":20},"end":{"line":71,"column":91}},"53":{"start":{"line":74,"column":20},"end":{"line":74,"column":96}},"54":{"start":{"line":77,"column":12},"end":{"line":89,"column":13}},"55":{"start":{"line":78,"column":16},"end":{"line":78,"column":32}},"56":{"start":{"line":79,"column":16},"end":{"line":79,"column":63}},"57":{"start":{"line":80,"column":16},"end":{"line":85,"column":17}},"58":{"start":{"line":81,"column":20},"end":{"line":81,"column":37}},"59":{"start":{"line":84,"column":20},"end":{"line":84,"column":54}},"60":{"start":{"line":88,"column":16},"end":{"line":88,"column":106}},"61":{"start":{"line":90,"column":12},"end":{"line":90,"column":67}},"62":{"start":{"line":91,"column":12},"end":{"line":91,"column":65}},"63":{"start":{"line":92,"column":12},"end":{"line":92,"column":69}},"64":{"start":{"line":94,"column":8},"end":{"line":94,"column":25}},"65":{"start":{"line":97,"column":0},"end":{"line":97,"column":36}},"66":{"start":{"line":98,"column":0},"end":{"line":110,"column":1}},"67":{"start":{"line":99,"column":4},"end":{"line":108,"column":5}},"68":{"start":{"line":100,"column":8},"end":{"line":102,"column":9}},"69":{"start":{"line":101,"column":12},"end":{"line":101,"column":112}},"70":{"start":{"line":103,"column":8},"end":{"line":107,"column":9}},"71":{"start":{"line":104,"column":12},"end":{"line":106,"column":64}},"72":{"start":{"line":109,"column":4},"end":{"line":109,"column":19}},"73":{"start":{"line":111,"column":0},"end":{"line":126,"column":1}},"74":{"start":{"line":112,"column":4},"end":{"line":112,"column":21}},"75":{"start":{"line":113,"column":4},"end":{"line":115,"column":5}},"76":{"start":{"line":114,"column":8},"end":{"line":114,"column":114}},"77":{"start":{"line":114,"column":75},"end":{"line":114,"column":110}},"78":{"start":{"line":116,"column":4},"end":{"line":118,"column":5}},"79":{"start":{"line":117,"column":8},"end":{"line":117,"column":116}},"80":{"start":{"line":117,"column":77},"end":{"line":117,"column":112}},"81":{"start":{"line":119,"column":4},"end":{"line":119,"column":17}},"82":{"start":{"line":120,"column":4},"end":{"line":122,"column":5}},"83":{"start":{"line":121,"column":8},"end":{"line":121,"column":55}},"84":{"start":{"line":123,"column":4},"end":{"line":125,"column":5}},"85":{"start":{"line":124,"column":8},"end":{"line":124,"column":40}},"86":{"start":{"line":127,"column":0},"end":{"line":145,"column":1}},"87":{"start":{"line":128,"column":4},"end":{"line":143,"column":5}},"88":{"start":{"line":132,"column":8},"end":{"line":142,"column":11}},"89":{"start":{"line":133,"column":12},"end":{"line":135,"column":13}},"90":{"start":{"line":134,"column":16},"end":{"line":134,"column":106}},"91":{"start":{"line":136,"column":12},"end":{"line":138,"column":13}},"92":{"start":{"line":137,"column":16},"end":{"line":137,"column":160}},"93":{"start":{"line":139,"column":12},"end":{"line":141,"column":13}},"94":{"start":{"line":140,"column":16},"end":{"line":140,"column":162}},"95":{"start":{"line":144,"column":4},"end":{"line":144,"column":19}},"96":{"start":{"line":146,"column":0},"end":{"line":184,"column":1}},"97":{"start":{"line":147,"column":4},"end":{"line":183,"column":5}},"98":{"start":{"line":148,"column":8},"end":{"line":150,"column":9}},"99":{"start":{"line":149,"column":12},"end":{"line":149,"column":24}},"100":{"start":{"line":151,"column":8},"end":{"line":165,"column":9}},"101":{"start":{"line":152,"column":12},"end":{"line":154,"column":14}},"102":{"start":{"line":156,"column":13},"end":{"line":165,"column":9}},"103":{"start":{"line":157,"column":12},"end":{"line":157,"column":67}},"104":{"start":{"line":158,"column":12},"end":{"line":158,"column":54}},"105":{"start":{"line":159,"column":12},"end":{"line":161,"column":13}},"106":{"start":{"line":160,"column":16},"end":{"line":160,"column":72}},"107":{"start":{"line":162,"column":12},"end":{"line":164,"column":14}},"108":{"start":{"line":166,"column":8},"end":{"line":169,"column":9}},"109":{"start":{"line":168,"column":12},"end":{"line":168,"column":52}},"110":{"start":{"line":170,"column":8},"end":{"line":170,"column":28}},"111":{"start":{"line":173,"column":8},"end":{"line":175,"column":9}},"112":{"start":{"line":174,"column":12},"end":{"line":174,"column":21}},"113":{"start":{"line":176,"column":8},"end":{"line":181,"column":10}},"114":{"start":{"line":182,"column":8},"end":{"line":182,"column":24}},"115":{"start":{"line":185,"column":0},"end":{"line":307,"column":1}},"116":{"start":{"line":186,"column":4},"end":{"line":186,"column":94}},"117":{"start":{"line":187,"column":4},"end":{"line":249,"column":5}},"118":{"start":{"line":191,"column":8},"end":{"line":237,"column":10}},"119":{"start":{"line":238,"column":8},"end":{"line":242,"column":11}},"120":{"start":{"line":239,"column":12},"end":{"line":241,"column":13}},"121":{"start":{"line":240,"column":16},"end":{"line":240,"column":56}},"122":{"start":{"line":246,"column":8},"end":{"line":248,"column":9}},"123":{"start":{"line":247,"column":12},"end":{"line":247,"column":42}},"124":{"start":{"line":250,"column":4},"end":{"line":252,"column":5}},"125":{"start":{"line":251,"column":8},"end":{"line":251,"column":36}},"126":{"start":{"line":253,"column":4},"end":{"line":255,"column":5}},"127":{"start":{"line":254,"column":8},"end":{"line":254,"column":51}},"128":{"start":{"line":256,"column":4},"end":{"line":256,"column":46}},"129":{"start":{"line":257,"column":4},"end":{"line":257,"column":67}},"130":{"start":{"line":258,"column":4},"end":{"line":275,"column":5}},"131":{"start":{"line":259,"column":8},"end":{"line":261,"column":9}},"132":{"start":{"line":260,"column":12},"end":{"line":260,"column":113}},"133":{"start":{"line":262,"column":8},"end":{"line":262,"column":95}},"134":{"start":{"line":263,"column":8},"end":{"line":266,"column":9}},"135":{"start":{"line":264,"column":12},"end":{"line":264,"column":70}},"136":{"start":{"line":265,"column":12},"end":{"line":265,"column":109}},"137":{"start":{"line":267,"column":8},"end":{"line":274,"column":9}},"138":{"start":{"line":269,"column":12},"end":{"line":269,"column":65}},"139":{"start":{"line":270,"column":12},"end":{"line":272,"column":13}},"140":{"start":{"line":271,"column":16},"end":{"line":271,"column":39}},"141":{"start":{"line":273,"column":12},"end":{"line":273,"column":61}},"142":{"start":{"line":276,"column":4},"end":{"line":281,"column":5}},"143":{"start":{"line":277,"column":8},"end":{"line":279,"column":9}},"144":{"start":{"line":278,"column":12},"end":{"line":278,"column":35}},"145":{"start":{"line":280,"column":8},"end":{"line":280,"column":100}},"146":{"start":{"line":282,"column":4},"end":{"line":305,"column":5}},"147":{"start":{"line":283,"column":8},"end":{"line":283,"column":84}},"148":{"start":{"line":286,"column":8},"end":{"line":286,"column":40}},"149":{"start":{"line":287,"column":8},"end":{"line":287,"column":33}},"150":{"start":{"line":288,"column":8},"end":{"line":292,"column":9}},"151":{"start":{"line":289,"column":12},"end":{"line":291,"column":15}},"152":{"start":{"line":290,"column":16},"end":{"line":290,"column":118}},"153":{"start":{"line":293,"column":8},"end":{"line":299,"column":11}},"154":{"start":{"line":294,"column":12},"end":{"line":296,"column":55}},"155":{"start":{"line":298,"column":12},"end":{"line":298,"column":76}},"156":{"start":{"line":300,"column":8},"end":{"line":300,"column":34}},"157":{"start":{"line":301,"column":8},"end":{"line":303,"column":9}},"158":{"start":{"line":302,"column":12},"end":{"line":302,"column":61}},"159":{"start":{"line":304,"column":8},"end":{"line":304,"column":72}},"160":{"start":{"line":306,"column":4},"end":{"line":306,"column":18}},"161":{"start":{"line":308,"column":0},"end":{"line":313,"column":1}},"162":{"start":{"line":309,"column":4},"end":{"line":311,"column":5}},"163":{"start":{"line":310,"column":8},"end":{"line":310,"column":91}},"164":{"start":{"line":312,"column":4},"end":{"line":312,"column":74}},"165":{"start":{"line":314,"column":0},"end":{"line":347,"column":1}},"166":{"start":{"line":315,"column":4},"end":{"line":317,"column":5}},"167":{"start":{"line":316,"column":8},"end":{"line":316,"column":15}},"168":{"start":{"line":318,"column":4},"end":{"line":318,"column":70}},"169":{"start":{"line":319,"column":4},"end":{"line":319,"column":42}},"170":{"start":{"line":320,"column":4},"end":{"line":322,"column":5}},"171":{"start":{"line":321,"column":8},"end":{"line":321,"column":138}},"172":{"start":{"line":323,"column":4},"end":{"line":323,"column":78}},"173":{"start":{"line":325,"column":8},"end":{"line":325,"column":46}},"174":{"start":{"line":326,"column":8},"end":{"line":326,"column":115}},"175":{"start":{"line":327,"column":8},"end":{"line":330,"column":9}},"176":{"start":{"line":328,"column":12},"end":{"line":328,"column":90}},"177":{"start":{"line":329,"column":12},"end":{"line":329,"column":149}},"178":{"start":{"line":331,"column":8},"end":{"line":331,"column":43}},"179":{"start":{"line":332,"column":8},"end":{"line":332,"column":98}},"180":{"start":{"line":334,"column":4},"end":{"line":334,"column":83}},"181":{"start":{"line":335,"column":4},"end":{"line":335,"column":60}},"182":{"start":{"line":336,"column":4},"end":{"line":346,"column":5}},"183":{"start":{"line":338,"column":8},"end":{"line":345,"column":9}},"184":{"start":{"line":339,"column":12},"end":{"line":339,"column":64}},"185":{"start":{"line":340,"column":12},"end":{"line":340,"column":68}},"186":{"start":{"line":343,"column":12},"end":{"line":343,"column":73}},"187":{"start":{"line":344,"column":12},"end":{"line":344,"column":24}},"188":{"start":{"line":348,"column":0},"end":{"line":350,"column":1}},"189":{"start":{"line":349,"column":4},"end":{"line":349,"column":70}},"190":{"start":{"line":351,"column":0},"end":{"line":361,"column":1}},"191":{"start":{"line":352,"column":4},"end":{"line":352,"column":44}},"192":{"start":{"line":353,"column":4},"end":{"line":360,"column":7}},"193":{"start":{"line":354,"column":8},"end":{"line":354,"column":89}},"194":{"start":{"line":355,"column":8},"end":{"line":355,"column":144}},"195":{"start":{"line":356,"column":8},"end":{"line":359,"column":9}},"196":{"start":{"line":358,"column":12},"end":{"line":358,"column":69}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":12}},{"start":{"line":22,"column":12},"end":{"line":22,"column":12}}]},"3":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":25,"column":12}},{"start":{"line":25,"column":12},"end":{"line":25,"column":12}}]},"4":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":16},"end":{"line":26,"column":16}},{"start":{"line":26,"column":16},"end":{"line":26,"column":16}}]},"5":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":16},"end":{"line":29,"column":16}},{"start":{"line":29,"column":16},"end":{"line":29,"column":16}}]},"6":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":16},"end":{"line":32,"column":16}},{"start":{"line":32,"column":16},"end":{"line":32,"column":16}}]},"7":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":16},"end":{"line":35,"column":16}},{"start":{"line":35,"column":16},"end":{"line":35,"column":16}}]},"8":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":16},"end":{"line":38,"column":16}},{"start":{"line":38,"column":16},"end":{"line":38,"column":16}}]},"9":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":16}},{"start":{"line":41,"column":16},"end":{"line":41,"column":16}}]},"10":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"11":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":8}},{"start":{"line":53,"column":8},"end":{"line":53,"column":8}}]},"12":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":12},"end":{"line":54,"column":12}},{"start":{"line":54,"column":12},"end":{"line":54,"column":12}}]},"13":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":12}},{"start":{"line":57,"column":12},"end":{"line":57,"column":12}}]},"14":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":16},"end":{"line":67,"column":16}},{"start":{"line":67,"column":16},"end":{"line":67,"column":16}}]},"15":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":20},"end":{"line":67,"column":22}},{"start":{"line":67,"column":26},"end":{"line":67,"column":46}}]},"16":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":21},"end":{"line":70,"column":21}},{"start":{"line":70,"column":21},"end":{"line":70,"column":21}}]},"17":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":25},"end":{"line":70,"column":27}},{"start":{"line":70,"column":31},"end":{"line":70,"column":39}}]},"18":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":16},"end":{"line":80,"column":16}},{"start":{"line":80,"column":16},"end":{"line":80,"column":16}}]},"19":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]},"20":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"21":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":12},"end":{"line":100,"column":43}},{"start":{"line":100,"column":47},"end":{"line":100,"column":82}}]},"22":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":8}},{"start":{"line":103,"column":8},"end":{"line":103,"column":8}}]},"23":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"24":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":8},"end":{"line":113,"column":19}},{"start":{"line":113,"column":23},"end":{"line":113,"column":55}}]},"25":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":4}},{"start":{"line":116,"column":4},"end":{"line":116,"column":4}}]},"26":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":21}},{"start":{"line":116,"column":25},"end":{"line":116,"column":59}}]},"27":{"line":121,"type":"binary-expr","locations":[{"start":{"line":121,"column":16},"end":{"line":121,"column":32}},{"start":{"line":121,"column":36},"end":{"line":121,"column":53}}]},"28":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":4}},{"start":{"line":128,"column":4},"end":{"line":128,"column":4}}]},"29":{"line":128,"type":"binary-expr","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":32}},{"start":{"line":129,"column":11},"end":{"line":129,"column":46}},{"start":{"line":130,"column":11},"end":{"line":130,"column":22}},{"start":{"line":131,"column":11},"end":{"line":131,"column":38}}]},"30":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":12},"end":{"line":133,"column":12}},{"start":{"line":133,"column":12},"end":{"line":133,"column":12}}]},"31":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":12},"end":{"line":136,"column":12}},{"start":{"line":136,"column":12},"end":{"line":136,"column":12}}]},"32":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":12},"end":{"line":139,"column":12}},{"start":{"line":139,"column":12},"end":{"line":139,"column":12}}]},"33":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":8},"end":{"line":148,"column":8}},{"start":{"line":148,"column":8},"end":{"line":148,"column":8}}]},"34":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":12},"end":{"line":148,"column":16}},{"start":{"line":148,"column":20},"end":{"line":148,"column":33}}]},"35":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":8},"end":{"line":151,"column":8}},{"start":{"line":151,"column":8},"end":{"line":151,"column":8}}]},"36":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":13},"end":{"line":156,"column":13}},{"start":{"line":156,"column":13},"end":{"line":156,"column":13}}]},"37":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":12},"end":{"line":159,"column":12}},{"start":{"line":159,"column":12},"end":{"line":159,"column":12}}]},"38":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":8},"end":{"line":166,"column":8}},{"start":{"line":166,"column":8},"end":{"line":166,"column":8}}]},"39":{"line":166,"type":"binary-expr","locations":[{"start":{"line":166,"column":12},"end":{"line":166,"column":41}},{"start":{"line":167,"column":12},"end":{"line":167,"column":37}}]},"40":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":8},"end":{"line":173,"column":8}},{"start":{"line":173,"column":8},"end":{"line":173,"column":8}}]},"41":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":17},"end":{"line":186,"column":24}},{"start":{"line":186,"column":28},"end":{"line":186,"column":30}}]},"42":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":4},"end":{"line":187,"column":4}},{"start":{"line":187,"column":4},"end":{"line":187,"column":4}}]},"43":{"line":187,"type":"binary-expr","locations":[{"start":{"line":187,"column":8},"end":{"line":187,"column":32}},{"start":{"line":187,"column":36},"end":{"line":187,"column":38}}]},"44":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":12},"end":{"line":239,"column":12}},{"start":{"line":239,"column":12},"end":{"line":239,"column":12}}]},"45":{"line":239,"type":"binary-expr","locations":[{"start":{"line":239,"column":17},"end":{"line":239,"column":35}},{"start":{"line":239,"column":40},"end":{"line":239,"column":65}}]},"46":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":8},"end":{"line":246,"column":8}},{"start":{"line":246,"column":8},"end":{"line":246,"column":8}}]},"47":{"line":246,"type":"binary-expr","locations":[{"start":{"line":246,"column":13},"end":{"line":246,"column":28}},{"start":{"line":246,"column":33},"end":{"line":246,"column":51}}]},"48":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":4},"end":{"line":250,"column":4}},{"start":{"line":250,"column":4},"end":{"line":250,"column":4}}]},"49":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":4},"end":{"line":253,"column":4}},{"start":{"line":253,"column":4},"end":{"line":253,"column":4}}]},"50":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":4},"end":{"line":258,"column":4}},{"start":{"line":258,"column":4},"end":{"line":258,"column":4}}]},"51":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":8},"end":{"line":259,"column":8}},{"start":{"line":259,"column":8},"end":{"line":259,"column":8}}]},"52":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":8}},{"start":{"line":267,"column":8},"end":{"line":267,"column":8}}]},"53":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":12},"end":{"line":267,"column":88}},{"start":{"line":268,"column":12},"end":{"line":268,"column":88}}]},"54":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":12},"end":{"line":270,"column":12}},{"start":{"line":270,"column":12},"end":{"line":270,"column":12}}]},"55":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":4},"end":{"line":276,"column":4}},{"start":{"line":276,"column":4},"end":{"line":276,"column":4}}]},"56":{"line":276,"type":"binary-expr","locations":[{"start":{"line":276,"column":8},"end":{"line":276,"column":28}},{"start":{"line":276,"column":32},"end":{"line":276,"column":53}}]},"57":{"line":277,"type":"if","locations":[{"start":{"line":277,"column":8},"end":{"line":277,"column":8}},{"start":{"line":277,"column":8},"end":{"line":277,"column":8}}]},"58":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":4},"end":{"line":282,"column":4}},{"start":{"line":282,"column":4},"end":{"line":282,"column":4}}]},"59":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8}},{"start":{"line":288,"column":8},"end":{"line":288,"column":8}}]},"60":{"line":294,"type":"binary-expr","locations":[{"start":{"line":294,"column":19},"end":{"line":294,"column":105}},{"start":{"line":295,"column":20},"end":{"line":295,"column":50}},{"start":{"line":296,"column":23},"end":{"line":296,"column":53}}]},"61":{"line":301,"type":"if","locations":[{"start":{"line":301,"column":8},"end":{"line":301,"column":8}},{"start":{"line":301,"column":8},"end":{"line":301,"column":8}}]},"62":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":4},"end":{"line":309,"column":4}},{"start":{"line":309,"column":4},"end":{"line":309,"column":4}}]},"63":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":4},"end":{"line":315,"column":4}},{"start":{"line":315,"column":4},"end":{"line":315,"column":4}}]},"64":{"line":335,"type":"binary-expr","locations":[{"start":{"line":335,"column":28},"end":{"line":335,"column":53}},{"start":{"line":335,"column":57},"end":{"line":335,"column":59}}]},"65":{"line":336,"type":"if","locations":[{"start":{"line":336,"column":4},"end":{"line":336,"column":4}},{"start":{"line":336,"column":4},"end":{"line":336,"column":4}}]},"66":{"line":336,"type":"binary-expr","locations":[{"start":{"line":336,"column":8},"end":{"line":336,"column":75}},{"start":{"line":337,"column":8},"end":{"line":337,"column":75}}]},"67":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":8},"end":{"line":356,"column":8}},{"start":{"line":356,"column":8},"end":{"line":356,"column":8}}]},"68":{"line":356,"type":"binary-expr","locations":[{"start":{"line":356,"column":12},"end":{"line":356,"column":65}},{"start":{"line":357,"column":12},"end":{"line":357,"column":78}}]}},"code":["'use strict';","var es6_promise_1 = require('es6-promise');","var fs = require('fs');","var path = require('path');","var stripBom = require('strip-bom');","var _ = require('lodash');","var utils = require('./utils');","var templateProcessor = null;","var globExpander = null;","var gruntfileGlobs = null;","var absolutePathToTSConfig;","function resolveAsync(applyTo, taskOptions, targetOptions, theTemplateProcessor, theGlobExpander) {","    if (theGlobExpander === void 0) { theGlobExpander = null; }","    templateProcessor = theTemplateProcessor;","    globExpander = theGlobExpander;","    gruntfileGlobs = getGlobs(taskOptions, targetOptions);","    return new es6_promise_1.Promise(function (resolve, reject) {","        try {","            var taskTSConfig = getTSConfigSettings(taskOptions);","            var targetTSConfig = getTSConfigSettings(targetOptions);","            var tsconfig = null;","            if (taskTSConfig) {","                tsconfig = taskTSConfig;","            }","            if (targetTSConfig) {","                if (!tsconfig) {","                    tsconfig = targetTSConfig;","                }","                if ('tsconfig' in targetTSConfig) {","                    tsconfig.tsconfig = templateProcessor(targetTSConfig.tsconfig, {});","                }","                if ('ignoreSettings' in targetTSConfig) {","                    tsconfig.ignoreSettings = targetTSConfig.ignoreSettings;","                }","                if ('overwriteFilesGlob' in targetTSConfig) {","                    tsconfig.overwriteFilesGlob = targetTSConfig.overwriteFilesGlob;","                }","                if ('updateFiles' in targetTSConfig) {","                    tsconfig.updateFiles = targetTSConfig.updateFiles;","                }","                if ('passThrough' in targetTSConfig) {","                    tsconfig.passThrough = targetTSConfig.passThrough;","                }","            }","            applyTo.tsconfig = tsconfig;","        }","        catch (ex) {","            return reject(ex);","        }","        if (!applyTo.tsconfig) {","            return resolve(applyTo);","        }","        if (applyTo.tsconfig.passThrough) {","            if (applyTo.CompilationTasks.length === 0) {","                applyTo.CompilationTasks.push({ src: [] });","            }","            if (!applyTo.tsconfig.tsconfig) {","                applyTo.tsconfig.tsconfig = '.';","            }","        }","        else {","            var projectFile = applyTo.tsconfig.tsconfig;","            try {","                var projectFileTextContent = fs.readFileSync(projectFile, 'utf8');","            }","            catch (ex) {","                if (ex && ex.code === 'ENOENT') {","                    return reject('Could not find file \"' + projectFile + '\".');","                }","                else if (ex && ex.errno) {","                    return reject('Error ' + ex.errno + ' reading \"' + projectFile + '\".');","                }","                else {","                    return reject('Error reading \"' + projectFile + '\": ' + JSON.stringify(ex));","                }","            }","            try {","                var projectSpec;","                var content = stripBom(projectFileTextContent);","                if (content.trim() === '') {","                    projectSpec = {};","                }","                else {","                    projectSpec = JSON.parse(content);","                }","            }","            catch (ex) {","                return reject('Error parsing \"' + projectFile + '\".  It may not be valid JSON in UTF-8.');","            }","            applyTo = warnOnBadConfiguration(applyTo, projectSpec);","            applyTo = applyCompilerOptions(applyTo, projectSpec);","            applyTo = resolve_output_locations(applyTo, projectSpec);","        }","        resolve(applyTo);","    });","}","exports.resolveAsync = resolveAsync;","function warnOnBadConfiguration(options, projectSpec) {","    if (projectSpec.compilerOptions) {","        if (projectSpec.compilerOptions.out && projectSpec.compilerOptions.outFile) {","            options.warnings.push('Warning: `out` and `outFile` should not be used together in tsconfig.json.');","        }","        if (projectSpec.compilerOptions.out) {","            options.warnings.push('Warning: Using `out` in tsconfig.json can be unreliable because it will output relative' +","                ' to the tsc working directory.  It is better to use `outFile` which is always relative to tsconfig.json, ' +","                ' but this requires TypeScript 1.6 or higher.');","        }","    }","    return options;","}","function getGlobs(taskOptions, targetOptions) {","    var globs = null;","    if (taskOptions && isStringOrArray(taskOptions.src)) {","        globs = _.map(getFlatCloneOf([taskOptions.src]), function (item) { return templateProcessor(item, {}); });","    }","    if (targetOptions && isStringOrArray(targetOptions.src)) {","        globs = _.map(getFlatCloneOf([targetOptions.src]), function (item) { return templateProcessor(item, {}); });","    }","    return globs;","    function isStringOrArray(thing) {","        return (_.isArray(thing) || _.isString(thing));","    }","    function getFlatCloneOf(array) {","        return _.flatten(array).slice();","    }","}","function resolve_output_locations(options, projectSpec) {","    if (options.CompilationTasks","        && options.CompilationTasks.length > 0","        && projectSpec","        && projectSpec.compilerOptions) {","        options.CompilationTasks.forEach(function (compilationTask) {","            if (projectSpec.compilerOptions.out) {","                compilationTask.out = path.normalize(projectSpec.compilerOptions.out).replace(/\\\\/g, '/');","            }","            if (projectSpec.compilerOptions.outFile) {","                compilationTask.out = path.normalize(path.join(relativePathFromGruntfileToTSConfig(), projectSpec.compilerOptions.outFile)).replace(/\\\\/g, '/');","            }","            if (projectSpec.compilerOptions.outDir) {","                compilationTask.outDir = path.normalize(path.join(relativePathFromGruntfileToTSConfig(), projectSpec.compilerOptions.outDir)).replace(/\\\\/g, '/');","            }","        });","    }","    return options;","}","function getTSConfigSettings(raw) {","    try {","        if (!raw || !raw.tsconfig) {","            return null;","        }","        if (typeof raw.tsconfig === 'boolean') {","            return {","                tsconfig: path.join(path.resolve('.'), 'tsconfig.json')","            };","        }","        else if (typeof raw.tsconfig === 'string') {","            var tsconfigName = templateProcessor(raw.tsconfig, {});","            var fileInfo = fs.lstatSync(tsconfigName);","            if (fileInfo.isDirectory()) {","                tsconfigName = path.join(tsconfigName, 'tsconfig.json');","            }","            return {","                tsconfig: tsconfigName","            };","        }","        if (!('tsconfig' in raw.tsconfig) &&","            !raw.tsconfig.passThrough) {","            raw.tsconfig.tsconfig = 'tsconfig.json';","        }","        return raw.tsconfig;","    }","    catch (ex) {","        if (ex.code === 'ENOENT') {","            throw ex;","        }","        var exception = {","            name: 'Invalid tsconfig setting',","            message: 'Exception due to invalid tsconfig setting.  Details: ' + ex,","            code: ex.code,","            errno: ex.errno","        };","        throw exception;","    }","}","function applyCompilerOptions(applyTo, projectSpec) {","    var result = applyTo || {}, co = projectSpec.compilerOptions, tsconfig = applyTo.tsconfig;","    if (!tsconfig.ignoreSettings && co) {","        // Go here for the tsconfig.json documentation:","        // https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/tsconfig.json.md","        // There is a link to http://json.schemastore.org/tsconfig","        var sameNameInTSConfigAndGruntTS = [","            'allowJs',","            'allowSyntheticDefaultImports',","            'allowUnreachableCode',","            'allowUnusedLabels',","            // we do not support charset as we assume input files are UTF-8.","            'declaration',","            'emitBOM',","            'emitDecoratorMetadata',","            'experimentalAsyncFunctions',","            'experimentalDecorators',","            'forceConsistentCasingInFileNames',","            'isolatedModules',","            'inlineSourceMap',","            'inlineSources',","            'jsx',","            // we do not support listFiles.","            'locale',","            'mapRoot',","            'module',","            'moduleResolution',","            'newLine',","            'noEmit',","            'noEmitHelpers',","            'noEmitOnError',","            'noFallthroughCasesInSwitch',","            'noImplicitAny',","            'noImplicitReturns',","            'noImplicitUseStrict',","            'noLib',","            'noResolve',","            'out',","            'outDir',","            // outFile is handled below.","            'preserveConstEnums',","            'pretty',","            'reactNamespace',","            'removeComments',","            'rootDir',","            'skipDefaultLibCheck',","            'sourceMap',","            'sourceRoot',","            'stripInternal',","            'suppressExcessPropertyIndexErrors',","            'suppressImplicitAnyIndexErrors',","            'target'","        ];","        sameNameInTSConfigAndGruntTS.forEach(function (propertyName) {","            if ((propertyName in co) && !(propertyName in result)) {","                result[propertyName] = co[propertyName];","            }","        });","        // now copy the ones that don't have the same names.","        // `outFile` was added in TypeScript 1.6 and is the same as out for command-line","        // purposes except that `outFile` is relative to the tsconfig.json.","        if (('outFile' in co) && !('out' in result)) {","            result['out'] = co['outFile'];","        }","    }","    if (!('updateFiles' in tsconfig)) {","        tsconfig.updateFiles = true;","    }","    if (applyTo.CompilationTasks.length === 0) {","        applyTo.CompilationTasks.push({ src: [] });","    }","    var src = applyTo.CompilationTasks[0].src;","    absolutePathToTSConfig = path.resolve(tsconfig.tsconfig, '..');","    if (tsconfig.overwriteFilesGlob) {","        if (!gruntfileGlobs) {","            throw new Error('The tsconfig option overwriteFilesGlob is set to true, but no glob was passed-in.');","        }","        var relPath = relativePathFromGruntfileToTSConfig(), gruntGlobsRelativeToTSConfig = [];","        for (var i = 0; i < gruntfileGlobs.length; i += 1) {","            gruntfileGlobs[i] = gruntfileGlobs[i].replace(/\\\\/g, '/');","            gruntGlobsRelativeToTSConfig.push(path.relative(relPath, gruntfileGlobs[i]).replace(/\\\\/g, '/'));","        }","        if (_.difference(projectSpec.filesGlob, gruntGlobsRelativeToTSConfig).length > 0 ||","            _.difference(gruntGlobsRelativeToTSConfig, projectSpec.filesGlob).length > 0) {","            projectSpec.filesGlob = gruntGlobsRelativeToTSConfig;","            if (projectSpec.files) {","                projectSpec.files = [];","            }","            saveTSConfigSync(tsconfig.tsconfig, projectSpec);","        }","    }","    if (tsconfig.updateFiles && projectSpec.filesGlob) {","        if (projectSpec.files === undefined) {","            projectSpec.files = [];","        }","        updateTSConfigAndFilesFromGlob(projectSpec.files, projectSpec.filesGlob, tsconfig.tsconfig);","    }","    if (projectSpec.files) {","        addUniqueRelativeFilesToSrc(projectSpec.files, src, absolutePathToTSConfig);","    }","    else {","        var validPattern_1 = /\\.tsx?$/i;","        var excludedPaths_1 = [];","        if (_.isArray(projectSpec.exclude)) {","            excludedPaths_1 = projectSpec.exclude.map(function (filepath) {","                return utils.makeRelativePath(absolutePathToTSConfig, path.resolve(absolutePathToTSConfig, filepath));","            });","        }","        var files = utils.getFiles(absolutePathToTSConfig, function (filepath) {","            return excludedPaths_1.indexOf(utils.makeRelativePath(absolutePathToTSConfig, filepath)) > -1","                || (fs.statSync(filepath).isFile()","                    && !validPattern_1.test(filepath));","        }).map(function (filepath) {","            return utils.makeRelativePath(absolutePathToTSConfig, filepath);","        });","        projectSpec.files = files;","        if (projectSpec.filesGlob) {","            saveTSConfigSync(tsconfig.tsconfig, projectSpec);","        }","        addUniqueRelativeFilesToSrc(files, src, absolutePathToTSConfig);","    }","    return result;","}","function relativePathFromGruntfileToTSConfig() {","    if (!absolutePathToTSConfig) {","        throw 'attempt to get relative path to tsconfig.json before setting absolute path';","    }","    return path.relative('.', absolutePathToTSConfig).replace(/\\\\/g, '/');","}","function updateTSConfigAndFilesFromGlob(filesRelativeToTSConfig, globRelativeToTSConfig, tsconfigFileName) {","    if (globExpander.isStub) {","        return;","    }","    var absolutePathToTSConfig = path.resolve(tsconfigFileName, '..');","    var filesGlobRelativeToGruntfile = [];","    for (var i = 0; i < globRelativeToTSConfig.length; i += 1) {","        filesGlobRelativeToGruntfile.push(path.relative(path.resolve('.'), path.join(absolutePathToTSConfig, globRelativeToTSConfig[i])));","    }","    var filesRelativeToGruntfile = globExpander(filesGlobRelativeToGruntfile);","    {","        var filesRelativeToTSConfig_temp = [];","        var relativePathFromGruntfileToTSConfig_1 = path.relative('.', absolutePathToTSConfig).replace(/\\\\/g, '/');","        for (var i = 0; i < filesRelativeToGruntfile.length; i += 1) {","            filesRelativeToGruntfile[i] = filesRelativeToGruntfile[i].replace(/\\\\/g, '/');","            filesRelativeToTSConfig_temp.push(path.relative(relativePathFromGruntfileToTSConfig_1, filesRelativeToGruntfile[i]).replace(/\\\\/g, '/'));","        }","        filesRelativeToTSConfig.length = 0;","        filesRelativeToTSConfig.push.apply(filesRelativeToTSConfig, filesRelativeToTSConfig_temp);","    }","    var tsconfigJSONContent = utils.readAndParseJSONFromFileSync(tsconfigFileName);","    var tempTSConfigFiles = tsconfigJSONContent.files || [];","    if (_.difference(tempTSConfigFiles, filesRelativeToTSConfig).length > 0 ||","        _.difference(filesRelativeToTSConfig, tempTSConfigFiles).length > 0) {","        try {","            tsconfigJSONContent.files = filesRelativeToTSConfig;","            saveTSConfigSync(tsconfigFileName, tsconfigJSONContent);","        }","        catch (ex) {","            var error = new Error('Error updating tsconfig.json: ' + ex);","            throw error;","        }","    }","}","function saveTSConfigSync(fileName, content) {","    fs.writeFileSync(fileName, JSON.stringify(content, null, '    '));","}","function addUniqueRelativeFilesToSrc(tsconfigFilesArray, compilationTaskSrc, absolutePathToTSConfig) {","    var gruntfileFolder = path.resolve('.');","    _.map(_.uniq(tsconfigFilesArray), function (file) {","        var absolutePathToFile = path.normalize(path.join(absolutePathToTSConfig, file));","        var relativePathToFileFromGruntfile = path.relative(gruntfileFolder, absolutePathToFile).replace(new RegExp('\\\\' + path.sep, 'g'), '/');","        if (compilationTaskSrc.indexOf(absolutePathToFile) === -1 &&","            compilationTaskSrc.indexOf(relativePathToFileFromGruntfile) === -1) {","            compilationTaskSrc.push(relativePathToFileFromGruntfile);","        }","    });","}","//# sourceMappingURL=tsconfig.js.map"],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"25":0,"26":0,"27":0,"29":0,"30":0,"32":0,"33":0,"35":0,"36":0,"38":0,"39":0,"41":0,"42":0,"45":0,"48":0,"50":0,"51":0,"53":0,"54":0,"55":0,"57":0,"58":0,"62":0,"63":0,"64":0,"67":0,"68":0,"70":0,"71":0,"74":0,"77":0,"78":0,"79":0,"80":0,"81":0,"84":0,"88":0,"90":0,"91":0,"92":0,"94":0,"97":1,"98":1,"99":0,"100":0,"101":0,"103":0,"104":0,"109":0,"111":1,"112":0,"113":0,"114":0,"116":0,"117":0,"119":0,"120":1,"121":0,"123":1,"124":0,"127":1,"128":0,"132":0,"133":0,"134":0,"136":0,"137":0,"139":0,"140":0,"144":0,"146":1,"147":0,"148":0,"149":0,"151":0,"152":0,"156":0,"157":0,"158":0,"159":0,"160":0,"162":0,"166":0,"168":0,"170":0,"173":0,"174":0,"176":0,"182":0,"185":1,"186":0,"187":0,"191":0,"238":0,"239":0,"240":0,"246":0,"247":0,"250":0,"251":0,"253":0,"254":0,"256":0,"257":0,"258":0,"259":0,"260":0,"262":0,"263":0,"264":0,"265":0,"267":0,"269":0,"270":0,"271":0,"273":0,"276":0,"277":0,"278":0,"280":0,"282":0,"283":0,"286":0,"287":0,"288":0,"289":0,"290":0,"293":0,"294":0,"298":0,"300":0,"301":0,"302":0,"304":0,"306":0,"308":1,"309":0,"310":0,"312":0,"314":1,"315":0,"316":0,"318":0,"319":0,"320":0,"321":0,"323":0,"325":0,"326":0,"327":0,"328":0,"329":0,"331":0,"332":0,"334":0,"335":0,"336":0,"338":0,"339":0,"340":0,"343":0,"344":0,"348":1,"349":0,"351":1,"352":0,"353":0,"354":0,"355":0,"356":0,"358":0}}}
<div class="coverageReportDiv">
<h1>coverage-report</h1>
<div style="background: #fff; border: 1px solid #000; margin 0; padding: 0;">


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for All files</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">All files</span></h1>
    <h2>
        
        Statements: <span class="metric">24.66% <small>(453 / 1837)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">11.92% <small>(131 / 1099)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">13.96% <small>(37 / 265)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">25.15% <small>(450 / 1789)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"></div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="node-npmtest-grunt-ts/"><a href="node-npmtest-grunt-ts/index.html">node-npmtest-grunt-ts/</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="153" class="abs high">(153&nbsp;/&nbsp;153)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="126" class="abs high">(126&nbsp;/&nbsp;126)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="28" class="abs high">(28&nbsp;/&nbsp;28)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="153" class="abs high">(153&nbsp;/&nbsp;153)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/"><a href="node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/</a></td>
	<td data-value="11.32" class="pic low"><span class="cover-fill" style="width: 11px;"></span><span class="cover-empty" style="width:89px;"></span></td>
	<td data-value="11.32" class="pct low">11.32%</td>
	<td data-value="212" class="abs low">(24&nbsp;/&nbsp;212)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="127" class="abs low">(0&nbsp;/&nbsp;127)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="32" class="abs low">(0&nbsp;/&nbsp;32)</td>
	<td data-value="11.48" class="pct low">11.48%</td>
	<td data-value="209" class="abs low">(24&nbsp;/&nbsp;209)</td>
	</tr>

<tr>
	<td class="file low" data-value="node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/"><a href="node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a></td>
	<td data-value="18.75" class="pic low"><span class="cover-fill" style="width: 18px;"></span><span class="cover-empty" style="width:82px;"></span></td>
	<td data-value="18.75" class="pct low">18.75%</td>
	<td data-value="1472" class="abs low">(276&nbsp;/&nbsp;1472)</td>
	<td data-value="0.59" class="pct low">0.59%</td>
	<td data-value="846" class="abs low">(5&nbsp;/&nbsp;846)</td>
	<td data-value="4.39" class="pct low">4.39%</td>
	<td data-value="205" class="abs low">(9&nbsp;/&nbsp;205)</td>
	<td data-value="19.13" class="pct low">19.13%</td>
	<td data-value="1427" class="abs low">(273&nbsp;/&nbsp;1427)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(153 / 153)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(126 / 126)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(28 / 28)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(153 / 153)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; node-npmtest-grunt-ts/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file high" data-value="example.js"><a href="example.js.html">example.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="83" class="abs high">(83&nbsp;/&nbsp;83)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="73" class="abs high">(73&nbsp;/&nbsp;73)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="12" class="abs high">(12&nbsp;/&nbsp;12)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="83" class="abs high">(83&nbsp;/&nbsp;83)</td>
	</tr>

<tr>
	<td class="file high" data-value="lib.npmtest_grunt_ts.js"><a href="lib.npmtest_grunt_ts.js.html">lib.npmtest_grunt_ts.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="16" class="abs high">(16&nbsp;/&nbsp;16)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="14" class="abs high">(14&nbsp;/&nbsp;14)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="3" class="abs high">(3&nbsp;/&nbsp;3)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="16" class="abs high">(16&nbsp;/&nbsp;16)</td>
	</tr>

<tr>
	<td class="file high" data-value="test.js"><a href="test.js.html">test.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="54" class="abs high">(54&nbsp;/&nbsp;54)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="39" class="abs high">(39&nbsp;/&nbsp;39)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="13" class="abs high">(13&nbsp;/&nbsp;13)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="54" class="abs high">(54&nbsp;/&nbsp;54)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/example.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/example.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(83 / 83)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(73 / 73)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(12 / 12)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(83 / 83)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">26 statements, 1 function, 30 branches</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/</a> &#187; example.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-yes">6</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/*
example.js
&nbsp;
quickstart example
&nbsp;
instruction
    1. save this script as example.js
    2. run the shell command:
        $ npm install npmtest-grunt-ts &amp;&amp; PORT=8081 node example.js
    3. play with the browser-demo on http://127.0.0.1:8081
*/
&nbsp;
&nbsp;
&nbsp;
/* istanbul instrument in package npmtest_grunt_ts */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || (local.modeJs === 'browser'
            ? local.global.utility2_npmtest_grunt_ts
            : global.utility2_moduleExports);
        // export local
        local.global.local = local;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // post-init
    // run browser js-env code - post-init
    /* istanbul ignore next */
    case 'browser':
        local.testRunBrowser = function (event) {
            <span class="skip-if-branch" title="else path not taken" >E</span>if (!event || (event &amp;&amp;
                    event.currentTarget &amp;&amp;
                    event.currentTarget.className &amp;&amp;
                    event.currentTarget.className.includes &amp;&amp;
                    event.currentTarget.className.includes('onreset'))) {
                // reset output
                Array.from(
                    document.querySelectorAll('body &gt; .resettable')
                ).forEach(function (element) {
                    switch (element.tagName) {
<span class="branch-0 cbranch-skip" title="branch not covered" >                    case 'INPUT':</span>
                    case 'TEXTAREA':
                        element.value = '';
                        break;
<span class="branch-2 cbranch-skip" title="branch not covered" >                    default:</span>
<span class="cstat-skip" title="statement not covered" >                        element.textContent = '';</span>
                    }
                });
            }
            switch (event &amp;&amp; event.currentTarget &amp;&amp; event.currentTarget.id) {
            case 'testRunButton1':
                // show tests
                <span class="skip-if-branch" title="else path not taken" >E</span>if (document.querySelector('#testReportDiv1').style.display === 'none') {
                    document.querySelector('#testReportDiv1').style.display = 'block';
                    document.querySelector('#testRunButton1').textContent =
                        'hide internal test';
                    local.modeTest = true;
                    local.testRunDefault(local);
                // hide tests
                } else {
<span class="cstat-skip" title="statement not covered" >                    document.querySelector('#testReportDiv1').style.display = 'none';</span>
<span class="cstat-skip" title="statement not covered" >                    document.querySelector('#testRunButton1').textContent = 'run internal test';</span>
                }
                break;
            // custom-case
            default:
                break;
            }
            <span class="skip-if-branch" title="if path not taken" >I</span>if (document.querySelector('#inputTextareaEval1') &amp;&amp; (<span class="branch-1 cbranch-skip" title="branch not covered" >!event </span>|| (<span class="branch-2 cbranch-skip" title="branch not covered" >event </span>&amp;&amp;
<span class="branch-3 cbranch-skip" title="branch not covered" >                    event.currentTarget </span>&amp;&amp;
<span class="branch-4 cbranch-skip" title="branch not covered" >                    event.currentTarget.className </span>&amp;&amp;
<span class="branch-5 cbranch-skip" title="branch not covered" >                    event.currentTarget.className.includes </span>&amp;&amp;
<span class="branch-6 cbranch-skip" title="branch not covered" >                    event.currentTarget.className.includes('oneval'))</span>)) {
                // try to eval input-code
<span class="cstat-skip" title="statement not covered" >                try {</span>
                    /*jslint evil: true*/
<span class="cstat-skip" title="statement not covered" >                    eval(document.querySelector('#inputTextareaEval1').value);</span>
                } catch (errorCaught) {
<span class="cstat-skip" title="statement not covered" >                    console.error(errorCaught);</span>
                }
            }
        };
        // log stderr and stdout to #outputTextareaStdout1
        ['error', 'log'].forEach(function (key) {
            console[key + '_original'] = console[key];
            console[key] = function () {
                var element;
                console[key + '_original'].apply(console, arguments);
                element = document.querySelector('#outputTextareaStdout1');
                <span class="skip-if-branch" title="if path not taken" >I</span>if (!element) {
<span class="cstat-skip" title="statement not covered" >                    return;</span>
                }
                // append text to #outputTextareaStdout1
                element.value += Array.from(arguments).map(function (arg) {
                    return typeof arg === 'string'
                        ? arg
                        : <span class="branch-1 cbranch-skip" title="branch not covered" >JSON.stringify(arg, null, 4);</span>
                }).join(' ') + '\n';
                // scroll textarea to bottom
                element.scrollTop = element.scrollHeight;
            };
        });
        // init event-handling
        ['change', 'click', 'keyup'].forEach(function (event) {
            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {
                element.addEventListener(event, local.testRunBrowser);
            });
        });
        // run tests
        local.testRunBrowser();
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - post-init
    /* istanbul ignore next */
    case 'node':
        // export local
        module.exports = local;
        // require modules
        local.fs = require('fs');
        local.http = require('http');
        local.url = require('url');
        // init assets
        local.assetsDict = local.assetsDict || {};
        /* jslint-ignore-begin */
        local.assetsDict['/assets.index.template.html'] = '\
&lt;!doctype html&gt;\n\
&lt;html lang="en"&gt;\n\
&lt;head&gt;\n\
&lt;meta charset="UTF-8"&gt;\n\
&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;\n\
&lt;title&gt;{{env.npm_package_name}} (v{{env.npm_package_version}})&lt;/title&gt;\n\
&lt;style&gt;\n\
/*csslint\n\
    box-sizing: false,\n\
    universal-selector: false\n\
*/\n\
* {\n\
    box-sizing: border-box;\n\
}\n\
body {\n\
    background: #dde;\n\
    font-family: Arial, Helvetica, sans-serif;\n\
    margin: 2rem;\n\
}\n\
body &gt; * {\n\
    margin-bottom: 1rem;\n\
}\n\
.utility2FooterDiv {\n\
    margin-top: 20px;\n\
    text-align: center;\n\
}\n\
&lt;/style&gt;\n\
&lt;style&gt;\n\
/*csslint\n\
*/\n\
textarea {\n\
    font-family: monospace;\n\
    height: 10rem;\n\
    width: 100%;\n\
}\n\
textarea[readonly] {\n\
    background: #ddd;\n\
}\n\
&lt;/style&gt;\n\
&lt;/head&gt;\n\
&lt;body&gt;\n\
&lt;!-- utility2-comment\n\
&lt;div id="ajaxProgressDiv1" style="background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;"&gt;&lt;/div&gt;\n\
utility2-comment --&gt;\n\
&lt;h1&gt;\n\
&lt;!-- utility2-comment\n\
    &lt;a\n\
        {{#if env.npm_package_homepage}}\n\
        href="{{env.npm_package_homepage}}"\n\
        {{/if env.npm_package_homepage}}\n\
        target="_blank"\n\
    &gt;\n\
utility2-comment --&gt;\n\
        {{env.npm_package_name}} (v{{env.npm_package_version}})\n\
&lt;!-- utility2-comment\n\
    &lt;/a&gt;\n\
utility2-comment --&gt;\n\
&lt;/h1&gt;\n\
&lt;h3&gt;{{env.npm_package_description}}&lt;/h3&gt;\n\
&lt;!-- utility2-comment\n\
&lt;h4&gt;&lt;a download href="assets.app.js"&gt;download standalone app&lt;/a&gt;&lt;/h4&gt;\n\
&lt;button class="onclick onreset" id="testRunButton1"&gt;run internal test&lt;/button&gt;&lt;br&gt;\n\
&lt;div id="testReportDiv1" style="display: none;"&gt;&lt;/div&gt;\n\
utility2-comment --&gt;\n\
\n\
\n\
\n\
&lt;label&gt;stderr and stdout&lt;/label&gt;\n\
&lt;textarea class="resettable" id="outputTextareaStdout1" readonly&gt;&lt;/textarea&gt;\n\
&lt;!-- utility2-comment\n\
{{#if isRollup}}\n\
&lt;script src="assets.app.js"&gt;&lt;/script&gt;\n\
{{#unless isRollup}}\n\
utility2-comment --&gt;\n\
&lt;script src="assets.utility2.rollup.js"&gt;&lt;/script&gt;\n\
&lt;script src="jsonp.utility2._stateInit?callback=window.utility2._stateInit"&gt;&lt;/script&gt;\n\
&lt;script src="assets.npmtest_grunt_ts.rollup.js"&gt;&lt;/script&gt;\n\
&lt;script src="assets.example.js"&gt;&lt;/script&gt;\n\
&lt;script src="assets.test.js"&gt;&lt;/script&gt;\n\
&lt;!-- utility2-comment\n\
{{/if isRollup}}\n\
utility2-comment --&gt;\n\
&lt;div class="utility2FooterDiv"&gt;\n\
    [ this app was created with\n\
    &lt;a href="https://github.com/kaizhu256/node-utility2" target="_blank"&gt;utility2&lt;/a&gt;\n\
    ]\n\
&lt;/div&gt;\n\
&lt;/body&gt;\n\
&lt;/html&gt;\n\
';
        /* jslint-ignore-end */
        <span class="skip-if-branch" title="if path not taken" >I</span>if (local.templateRender) {
<span class="cstat-skip" title="statement not covered" >            local.assetsDict['/'] = local.templateRender(</span>
                local.assetsDict['/assets.index.template.html'],
                {
                    env: local.objectSetDefault(local.env, {
                        npm_package_description: 'the greatest app in the world!',
                        npm_package_name: 'my-app',
                        npm_package_nameAlias: 'my_app',
                        npm_package_version: '0.0.1'
                    })
                }
            );
        } else {
            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']
                .replace((/\{\{env\.(\w+?)\}\}/g), function (match0, match1) {
                    // jslint-hack
                    String(match0);
                    switch (match1) {
                    case 'npm_package_description':
                        return 'the greatest app in the world!';
                    case 'npm_package_name':
                        return 'my-app';
<span class="branch-2 cbranch-skip" title="branch not covered" >                    case 'npm_package_nameAlias':</span>
<span class="cstat-skip" title="statement not covered" >                        return 'my_app';</span>
                    case 'npm_package_version':
                        return '0.0.1';
                    }
                });
        }
        // run the cli
        <span class="skip-if-branch" title="else path not taken" >E</span>if (local.global.utility2_rollup || module !== require.main) {
            break;
        }
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/assets.example.js'] =</span>
            local.assetsDict['/assets.example.js'] ||
            local.fs.readFileSync(__filename, 'utf8');
        // bug-workaround - long $npm_package_buildCustomOrg
        /* jslint-ignore-begin */
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/assets.npmtest_grunt_ts.rollup.js'] =</span>
            local.assetsDict['/assets.npmtest_grunt_ts.rollup.js'] ||
            local.fs.readFileSync(
                local.npmtest_grunt_ts.__dirname + '/lib.npmtest_grunt_ts.js',
                'utf8'
            ).replace((/^#!/), '//');
        /* jslint-ignore-end */
<span class="cstat-skip" title="statement not covered" >        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';</span>
        // if $npm_config_timeout_exit exists,
        // then exit this process after $npm_config_timeout_exit ms
<span class="cstat-skip" title="statement not covered" >        if (Number(process.env.npm_config_timeout_exit)) {</span>
<span class="cstat-skip" title="statement not covered" >            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));</span>
        }
        // start server
<span class="cstat-skip" title="statement not covered" >        if (local.global.utility2_serverHttp1) {</span>
<span class="cstat-skip" title="statement not covered" >            break;</span>
        }
<span class="cstat-skip" title="statement not covered" >        process.env.PORT = process.env.PORT || '8081';</span>
<span class="cstat-skip" title="statement not covered" >        console.error('server starting on port ' + process.env.PORT);</span>
<span class="cstat-skip" title="statement not covered" >        local.http.createServer(<span class="fstat-skip" title="function not covered" >function (request, response) {</span></span>
<span class="cstat-skip" title="statement not covered" >            request.urlParsed = local.url.parse(request.url);</span>
<span class="cstat-skip" title="statement not covered" >            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {</span>
<span class="cstat-skip" title="statement not covered" >                response.end(local.assetsDict[request.urlParsed.pathname]);</span>
<span class="cstat-skip" title="statement not covered" >                return;</span>
            }
<span class="cstat-skip" title="statement not covered" >            response.statusCode = 404;</span>
<span class="cstat-skip" title="statement not covered" >            response.end();</span>
        }).listen(process.env.PORT);
<span class="cstat-skip" title="statement not covered" >        break;</span>
    }
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/lib.npmtest_grunt_ts.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/lib.npmtest_grunt_ts.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(16 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(14 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(3 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(16 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/</a> &#187; lib.npmtest_grunt_ts.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* istanbul instrument in package npmtest_grunt_ts */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        // init utility2_rollup
        local = local.global.utility2_rollup || local;
        // init lib
        local.local = local.npmtest_grunt_ts = local;
        // init exports
        if (local.modeJs === 'browser') {
            local.global.utility2_npmtest_grunt_ts = local;
        } else {
            module.exports = local;
            module.exports.__dirname = __dirname;
            module.exports.module = module;
        }
    }());
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/test.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/test.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(54 / 54)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(39 / 39)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(13 / 13)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(54 / 54)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/</a> &#187; test.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-yes">2</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* istanbul instrument in package npmtest_grunt_ts */
/*jslint
    bitwise: true,
    browser: true,
    maxerr: 8,
    maxlen: 96,
    node: true,
    nomen: true,
    regexp: true,
    stupid: true
*/
(function () {
    'use strict';
    var local;
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - pre-init
    (function () {
        // init local
        local = {};
        // init modeJs
        local.modeJs = (function () {
            try {
                return typeof navigator.userAgent === 'string' &amp;&amp;
                    typeof document.querySelector('body') === 'object' &amp;&amp;
                    typeof XMLHttpRequest.prototype.open === 'function' &amp;&amp;
                    'browser';
            } catch (errorCaughtBrowser) {
                return module.exports &amp;&amp;
                    typeof process.versions.node === 'string' &amp;&amp;
                    typeof require('http').createServer === 'function' &amp;&amp;
                    'node';
            }
        }());
        // init global
        local.global = local.modeJs === 'browser'
            ? window
            : global;
        switch (local.modeJs) {
        // re-init local from window.local
        case 'browser':
            local = local.global.utility2.objectSetDefault(
                local.global.utility2_rollup || local.global.local,
                local.global.utility2
            );
            break;
        // re-init local from example.js
        case 'node':
            local = (local.global.utility2_rollup || require('utility2'))
                .requireExampleJsFromReadme();
            break;
        }
        // export local
        local.global.local = local;
    }());
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - function
    (function () {
        return;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // run browser js-env code - function
    case 'browser':
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - function
    case 'node':
        break;
    }
&nbsp;
&nbsp;
&nbsp;
    // run shared js-env code - post-init
    (function () {
        return;
    }());
    switch (local.modeJs) {
&nbsp;
&nbsp;
&nbsp;
    // run browser js-env code - post-init
    case 'browser':
        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (
            options,
            onError
        ) {
        /*
         * this function will test browsers's null-case handling-behavior-behavior
         */
            onError(null, options);
        };
&nbsp;
        // run tests
        local.nop(local.modeTest &amp;&amp;
            document.querySelector('#testRunButton1') &amp;&amp;
            document.querySelector('#testRunButton1').click());
        break;
&nbsp;
&nbsp;
&nbsp;
    // run node js-env code - post-init
    /* istanbul ignore next */
    case 'node':
        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildApidoc's default handling-behavior-behavior
         */
            options = { modulePathList: module.paths };
            local.buildApidoc(options, onError);
        };
&nbsp;
        local.testCase_buildApp_default = local.testCase_buildApp_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildApp's default handling-behavior-behavior
         */
            local.testCase_buildReadme_default(options, local.onErrorThrow);
            local.testCase_buildLib_default(options, local.onErrorThrow);
            local.testCase_buildTest_default(options, local.onErrorThrow);
            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);
            options = [];
            local.buildApp(options, onError);
        };
&nbsp;
        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||
            function (options, onError) {
            /*
             * this function will test buildCustomOrg's default handling-behavior
             */
                options = {};
                local.buildCustomOrg(options, onError);
            };
&nbsp;
        local.testCase_buildLib_default = local.testCase_buildLib_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildLib's default handling-behavior
         */
            options = {};
            local.buildLib(options, onError);
        };
&nbsp;
        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildReadme's default handling-behavior-behavior
         */
            options = {};
            local.buildReadme(options, onError);
        };
&nbsp;
        local.testCase_buildTest_default = local.testCase_buildTest_default || function (
            options,
            onError
        ) {
        /*
         * this function will test buildTest's default handling-behavior
         */
            options = {};
            local.buildTest(options, onError);
        };
&nbsp;
        local.testCase_webpage_default = local.testCase_webpage_default || function (
            options,
            onError
        ) {
        /*
         * this function will test webpage's default handling-behavior
         */
            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };
            local.browserTest(options, onError);
        };
&nbsp;
        // run test-server
        local.testRunServer(local);
        break;
    }
}());
&nbsp;
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/</span></h1>
    <h2>
        
        Statements: <span class="metric">11.32% <small>(24 / 212)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 127)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 32)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">11.48% <small>(24 / 209)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="ts.js"><a href="ts.js.html">ts.js</a></td>
	<td data-value="11.32" class="pic low"><span class="cover-fill" style="width: 11px;"></span><span class="cover-empty" style="width:89px;"></span></td>
	<td data-value="11.32" class="pct low">11.32%</td>
	<td data-value="212" class="abs low">(24&nbsp;/&nbsp;212)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="127" class="abs low">(0&nbsp;/&nbsp;127)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="32" class="abs low">(0&nbsp;/&nbsp;32)</td>
	<td data-value="11.48" class="pct low">11.48%</td>
	<td data-value="209" class="abs low">(24&nbsp;/&nbsp;209)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/ts.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/ts.js</span></h1>
    <h2>
        
        Statements: <span class="metric">11.32% <small>(24 / 212)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 127)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 32)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">11.48% <small>(24 / 209)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/</a> &#187; ts.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../defs/tsd.d.ts"/&gt;
/// &lt;reference path="./modules/interfaces.d.ts"/&gt;
'use strict';
/*
 * grunt-ts
 * Licensed under the MIT license.
 */
var _ = require('lodash');
var path = require('path');
var fs = require('fs');
var es6_promise_1 = require('es6-promise');
var utils = require('./modules/utils');
var compileModule = require('./modules/compile');
var referenceModule = require('./modules/reference');
var amdLoaderModule = require('./modules/amdLoader');
var html2tsModule = require('./modules/html2ts');
var templateCacheModule = require('./modules/templateCache');
var transformers = require('./modules/transformers');
var optionsResolver = require('../tasks/modules/optionsResolver');
var asyncSeries = utils.asyncSeries, timeIt = utils.timeIt;
var fail_event = 'grunt-ts.failure';
<span class="fstat-no" title="function not covered" >function pluginFn(grunt) {</span>
    /////////////////////////////////////////////////////////////////////
    // The grunt task
    ////////////////////////////////////////////////////////////////////
<span class="cstat-no" title="statement not covered" >    grunt.registerMultiTask('ts', 'Compile TypeScript files', <span class="fstat-no" title="function not covered" >function () {</span></span>
        // tracks which index in the task "files" property is next for processing
<span class="cstat-no" title="statement not covered" >        var filesCompilationIndex = 0;</span>
<span class="cstat-no" title="statement not covered" >        var done, options;</span>
        {
<span class="cstat-no" title="statement not covered" >            var currentGruntTask = this;</span>
<span class="cstat-no" title="statement not covered" >            var resolvedFiles = currentGruntTask.files;</span>
            // make async
<span class="cstat-no" title="statement not covered" >            done = currentGruntTask.async();</span>
            // get unprocessed templates from configuration
<span class="cstat-no" title="statement not covered" >            var rawTaskConfig = (grunt.config.getRaw(currentGruntTask.name) || {});</span>
<span class="cstat-no" title="statement not covered" >            var rawTargetConfig = (grunt.config.getRaw(currentGruntTask.name + '.' + currentGruntTask.target) || {});</span>
<span class="cstat-no" title="statement not covered" >            optionsResolver.resolveAsync(rawTaskConfig, rawTargetConfig, currentGruntTask.target, resolvedFiles, grunt.template.process, grunt.file.expand).then(<span class="fstat-no" title="function not covered" >function (result) {</span></span>
<span class="cstat-no" title="statement not covered" >                options = result;</span>
<span class="cstat-no" title="statement not covered" >                options.warnings.forEach(<span class="fstat-no" title="function not covered" >function (warning) {</span></span>
<span class="cstat-no" title="statement not covered" >                    grunt.log.writeln(warning.magenta);</span>
                });
<span class="cstat-no" title="statement not covered" >                options.errors.forEach(<span class="fstat-no" title="function not covered" >function (error) {</span></span>
<span class="cstat-no" title="statement not covered" >                    grunt.log.writeln(error.red);</span>
                });
<span class="cstat-no" title="statement not covered" >                if (options.errors.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                    if (options.emitGruntEvents) {</span>
<span class="cstat-no" title="statement not covered" >                        grunt.event.emit(fail_event);</span>
                    }
<span class="cstat-no" title="statement not covered" >                    done(false);</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
<span class="cstat-no" title="statement not covered" >                proceed();</span>
            }).catch(<span class="fstat-no" title="function not covered" >function (error) {</span>
<span class="cstat-no" title="statement not covered" >                grunt.log.writeln((error + '').red);</span>
<span class="cstat-no" title="statement not covered" >                done(false);</span>
            });
        }
<span class="fstat-no" title="function not covered" >        function proceed() {</span>
<span class="cstat-no" title="statement not covered" >            var srcFromVS_RelativePathsFromGruntFile = [];</span>
            // Run compiler
<span class="cstat-no" title="statement not covered" >            asyncSeries(options.CompilationTasks, <span class="fstat-no" title="function not covered" >function (currentFiles) {</span></span>
                // Create a reference file?
<span class="cstat-no" title="statement not covered" >                var reference = processIndividualTemplate(options.reference);</span>
<span class="cstat-no" title="statement not covered" >                var referenceFile;</span>
<span class="cstat-no" title="statement not covered" >                var referencePath;</span>
<span class="cstat-no" title="statement not covered" >                if (!!reference) {</span>
<span class="cstat-no" title="statement not covered" >                    referenceFile = path.resolve(reference);</span>
<span class="cstat-no" title="statement not covered" >                    referencePath = path.dirname(referenceFile);</span>
                }
<span class="fstat-no" title="function not covered" >                function isReferenceFile(filename) {</span>
<span class="cstat-no" title="statement not covered" >                    return path.resolve(filename) === referenceFile;</span>
                }
                // Create an output file?
<span class="cstat-no" title="statement not covered" >                var outFile = currentFiles.out;</span>
<span class="cstat-no" title="statement not covered" >                var outFile_d_ts;</span>
<span class="cstat-no" title="statement not covered" >                if (!!outFile) {</span>
<span class="cstat-no" title="statement not covered" >                    outFile = path.resolve(outFile);</span>
<span class="cstat-no" title="statement not covered" >                    outFile_d_ts = outFile.replace('.js', '.d.ts');</span>
                }
<span class="fstat-no" title="function not covered" >                function isOutFile(filename) {</span>
<span class="cstat-no" title="statement not covered" >                    return path.resolve(filename) === outFile_d_ts;</span>
                }
                // see https://github.com/grunt-ts/grunt-ts/issues/77
<span class="fstat-no" title="function not covered" >                function isBaseDirFile(filename, targetFiles) {</span>
<span class="cstat-no" title="statement not covered" >                    var baseDirFile = '.baseDir.ts';</span>
<span class="cstat-no" title="statement not covered" >                    var bd = '';</span>
<span class="cstat-no" title="statement not covered" >                    if (!options.baseDir) {</span>
<span class="cstat-no" title="statement not covered" >                        bd = utils.findCommonPath(targetFiles, '/');</span>
<span class="cstat-no" title="statement not covered" >                        options.baseDir = bd;</span>
                    }
<span class="cstat-no" title="statement not covered" >                    return path.resolve(filename) === path.resolve(path.join(bd, baseDirFile));</span>
                }
                // Create an amd loader?
<span class="cstat-no" title="statement not covered" >                var amdloader = options.amdloader;</span>
<span class="cstat-no" title="statement not covered" >                var amdloaderFile, amdloaderPath;</span>
<span class="cstat-no" title="statement not covered" >                if (!!amdloader) {</span>
<span class="cstat-no" title="statement not covered" >                    amdloaderFile = path.resolve(amdloader);</span>
<span class="cstat-no" title="statement not covered" >                    amdloaderPath = path.dirname(amdloaderFile);</span>
                }
                // Compiles all the files
                // Uses the blind tsc compile task
                // logs errors
<span class="fstat-no" title="function not covered" >                function runCompilation(options, compilationInfo) {</span>
<span class="cstat-no" title="statement not covered" >                    grunt.log.writeln('Compiling...'.yellow);</span>
                    // Time the compiler process
<span class="cstat-no" title="statement not covered" >                    var starttime = new Date().getTime();</span>
<span class="cstat-no" title="statement not covered" >                    var endtime;</span>
                    // Compile the files
<span class="cstat-no" title="statement not covered" >                    return compileModule.compileAllFiles(options, compilationInfo)</span>
                        .then(<span class="fstat-no" title="function not covered" >function (result) {</span>
                        // End the timer
<span class="cstat-no" title="statement not covered" >                        endtime = new Date().getTime();</span>
<span class="cstat-no" title="statement not covered" >                        grunt.log.writeln('');</span>
                        // Analyze the results of our tsc execution,
                        //   then tell the user our analysis results
                        //   and mark the build as fail or success
<span class="cstat-no" title="statement not covered" >                        if (!result) {</span>
<span class="cstat-no" title="statement not covered" >                            grunt.log.error('Error: No result from tsc.'.red);</span>
<span class="cstat-no" title="statement not covered" >                            return false;</span>
                        }
<span class="cstat-no" title="statement not covered" >                        if (result.code === 8) {</span>
<span class="cstat-no" title="statement not covered" >                            grunt.log.error('Error: Node was unable to run tsc.  Possibly it could not be found?'.red);</span>
<span class="cstat-no" title="statement not covered" >                            return false;</span>
                        }
                        // In TypeScript 1.3 and above, the result code corresponds to the ExitCode enum in
                        //   TypeScript/src/compiler/sys.ts
<span class="cstat-no" title="statement not covered" >                        var isError = (result.code !== 0);</span>
                        // If the compilation errors contain only type errors, JS files are still
                        //   generated. If tsc finds type errors, it will return an error code, even
                        //   if JS files are generated. We should check this for this,
                        //   only type errors, and call this a successful compilation.
                        // Assumptions:
                        //   Level 1 errors = syntax errors - prevent JS emit.
                        //   Level 2 errors = semantic errors - *not* prevents JS emit.
                        //   Level 5 errors = compiler flag misuse - prevents JS emit.
<span class="cstat-no" title="statement not covered" >                        var level1ErrorCount = 0, level5ErrorCount = 0, nonEmitPreventingWarningCount = 0;</span>
<span class="cstat-no" title="statement not covered" >                        var hasTS7017Error = false;</span>
<span class="cstat-no" title="statement not covered" >                        var hasPreventEmitErrors = _.foldl(result.output.split('\n'), <span class="fstat-no" title="function not covered" >function (memo, errorMsg) {</span></span>
<span class="cstat-no" title="statement not covered" >                            var isPreventEmitError = false;</span>
<span class="cstat-no" title="statement not covered" >                            if (errorMsg.search(/error TS7017:/g) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >                                hasTS7017Error = true;</span>
                            }
<span class="cstat-no" title="statement not covered" >                            if (errorMsg.search(/error TS1\d+:/g) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >                                level1ErrorCount += 1;</span>
<span class="cstat-no" title="statement not covered" >                                isPreventEmitError = true;</span>
                            }
                            else <span class="cstat-no" title="statement not covered" >if (errorMsg.search(/error TS5\d+:/) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >                                level5ErrorCount += 1;</span>
<span class="cstat-no" title="statement not covered" >                                isPreventEmitError = true;</span>
                            }
                            else <span class="cstat-no" title="statement not covered" >if (errorMsg.search(/error TS\d+:/) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >                                nonEmitPreventingWarningCount += 1;</span>
                            }
<span class="cstat-no" title="statement not covered" >                            return memo || isPreventEmitError;</span>
                        }, false) || false;
                        // Because we can't think of a better way to determine it,
                        //   assume that emitted JS in spite of error codes implies type-only errors.
<span class="cstat-no" title="statement not covered" >                        var isOnlyTypeErrors = !hasPreventEmitErrors;</span>
<span class="cstat-no" title="statement not covered" >                        if (hasTS7017Error) {</span>
<span class="cstat-no" title="statement not covered" >                            grunt.log.writeln(('Note:  You may wish to enable the suppressImplicitAnyIndexErrors' +</span>
                                ' grunt-ts option to allow dynamic property access by index.  This will' +
                                ' suppress TypeScript error TS7017.').magenta);
                        }
                        // Log error summary
<span class="cstat-no" title="statement not covered" >                        if (level1ErrorCount + level5ErrorCount + nonEmitPreventingWarningCount &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                            if ((level1ErrorCount + level5ErrorCount &gt; 0) || options.failOnTypeErrors) {</span>
<span class="cstat-no" title="statement not covered" >                                grunt.log.write(('&gt;&gt; ').red);</span>
                            }
                            else {
<span class="cstat-no" title="statement not covered" >                                grunt.log.write(('&gt;&gt; ').green);</span>
                            }
<span class="cstat-no" title="statement not covered" >                            if (level5ErrorCount &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                                grunt.log.write(level5ErrorCount.toString() + ' compiler flag error' +</span>
                                    (level5ErrorCount === 1 ? '' : 's') + '  ');
                            }
<span class="cstat-no" title="statement not covered" >                            if (level1ErrorCount &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                                grunt.log.write(level1ErrorCount.toString() + ' syntax error' +</span>
                                    (level1ErrorCount === 1 ? '' : 's') + '  ');
                            }
<span class="cstat-no" title="statement not covered" >                            if (nonEmitPreventingWarningCount &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                                grunt.log.write(nonEmitPreventingWarningCount.toString() +</span>
                                    ' non-emit-preventing type warning' +
                                    (nonEmitPreventingWarningCount === 1 ? '' : 's') + '  ');
                            }
<span class="cstat-no" title="statement not covered" >                            grunt.log.writeln('');</span>
<span class="cstat-no" title="statement not covered" >                            if (isOnlyTypeErrors &amp;&amp; !options.failOnTypeErrors) {</span>
<span class="cstat-no" title="statement not covered" >                                grunt.log.write(('&gt;&gt; ').green);</span>
<span class="cstat-no" title="statement not covered" >                                grunt.log.writeln('Type errors only.');</span>
                            }
                        }
                        // !!! To do: To really be confident that the build was actually successful,
                        //   we have to check timestamps of the generated files in the destination.
<span class="cstat-no" title="statement not covered" >                        var isSuccessfulBuild = (!isError ||</span>
                            (isError &amp;&amp; isOnlyTypeErrors &amp;&amp; !options.failOnTypeErrors));
<span class="cstat-no" title="statement not covered" >                        if (isSuccessfulBuild) {</span>
                            // Report successful build.
<span class="cstat-no" title="statement not covered" >                            var time = (endtime - starttime) / 1000;</span>
<span class="cstat-no" title="statement not covered" >                            grunt.log.writeln('');</span>
<span class="cstat-no" title="statement not covered" >                            var message = 'TypeScript compilation complete: ' + time.toFixed(2) + 's';</span>
<span class="cstat-no" title="statement not covered" >                            if (utils.shouldPassThrough(options)) {</span>
<span class="cstat-no" title="statement not covered" >                                message += ' for TypeScript pass-through.';</span>
                            }
                            else {
<span class="cstat-no" title="statement not covered" >                                message += ' for ' + result.fileCount + ' TypeScript files.';</span>
                            }
<span class="cstat-no" title="statement not covered" >                            grunt.log.writeln(message.green);</span>
                        }
                        else {
                            // Report unsuccessful build.
<span class="cstat-no" title="statement not covered" >                            grunt.log.error(('Error: tsc return code: ' + result.code).yellow);</span>
                        }
<span class="cstat-no" title="statement not covered" >                        return isSuccessfulBuild;</span>
                    }).catch(<span class="fstat-no" title="function not covered" >function (err) {</span>
<span class="cstat-no" title="statement not covered" >                        grunt.log.writeln(('Error: ' + err).red);</span>
<span class="cstat-no" title="statement not covered" >                        if (options.emitGruntEvents) {</span>
<span class="cstat-no" title="statement not covered" >                            grunt.event.emit(fail_event);</span>
                        }
<span class="cstat-no" title="statement not covered" >                        return false;</span>
                    });
                }
                // Find out which files to compile, codegen etc.
                // Then calls the appropriate functions + compile function on those files
<span class="fstat-no" title="function not covered" >                function filterFilesTransformAndCompile() {</span>
<span class="cstat-no" title="statement not covered" >                    var filesToCompile = [];</span>
<span class="cstat-no" title="statement not covered" >                    if (currentFiles.src || options.vs) {</span>
<span class="cstat-no" title="statement not covered" >                        _.map(currentFiles.src, <span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >                            if (filesToCompile.indexOf(file) === -1) {</span>
<span class="cstat-no" title="statement not covered" >                                filesToCompile.push(file);</span>
                            }
                        });
<span class="cstat-no" title="statement not covered" >                        _.map(srcFromVS_RelativePathsFromGruntFile, <span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >                            if (filesToCompile.indexOf(file) === -1) {</span>
<span class="cstat-no" title="statement not covered" >                                filesToCompile.push(file);</span>
                            }
                        });
                    }
                    else {
<span class="cstat-no" title="statement not covered" >                        filesCompilationIndex += 1;</span>
                    }
                    // ignore directories, and clear the files of output.d.ts and baseDirFile
<span class="cstat-no" title="statement not covered" >                    filesToCompile = filesToCompile.filter(<span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >                        var stats = fs.lstatSync(file);</span>
<span class="cstat-no" title="statement not covered" >                        return !stats.isDirectory() &amp;&amp; !isOutFile(file) &amp;&amp; !isBaseDirFile(file, filesToCompile);</span>
                    });
                    ///// Html files:
                    // Note:
                    //    compile html files must be before reference file creation
<span class="cstat-no" title="statement not covered" >                    var generatedFiles = [];</span>
<span class="cstat-no" title="statement not covered" >                    if (options.html) {</span>
<span class="cstat-no" title="statement not covered" >                        var html2tsOptions_1 = {</span>
                            moduleFunction: _.template(options.htmlModuleTemplate),
                            varFunction: _.template(options.htmlVarTemplate),
                            htmlOutputTemplate: options.htmlOutputTemplate,
                            htmlOutDir: options.htmlOutDir,
                            flatten: options.htmlOutDirFlatten,
                            eol: (options.newLine || utils.eol)
                        };
<span class="cstat-no" title="statement not covered" >                        var htmlFiles = grunt.file.expand(options.html);</span>
<span class="cstat-no" title="statement not covered" >                        generatedFiles = _.map(htmlFiles, <span class="fstat-no" title="function not covered" >function (filename) {</span> <span class="cstat-no" title="statement not covered" >return html2tsModule.compileHTML(filename, html2tsOptions_1); </span>});</span>
<span class="cstat-no" title="statement not covered" >                        generatedFiles.forEach(<span class="fstat-no" title="function not covered" >function (fileName) {</span></span>
<span class="cstat-no" title="statement not covered" >                            if (filesToCompile.indexOf(fileName) === -1 &amp;&amp;</span>
                                grunt.file.isMatch(currentFiles.glob, fileName)) {
<span class="cstat-no" title="statement not covered" >                                filesToCompile.push(fileName);</span>
                            }
                        });
                    }
                    ///// Template cache
                    // Note: The template cache files do not go into generated files.
                    // Note: You are free to generate a `ts OR js` file for template cache, both should just work
<span class="cstat-no" title="statement not covered" >                    if (options.templateCache) {</span>
<span class="cstat-no" title="statement not covered" >                        if (!options.templateCache.src || !options.templateCache.dest || !options.templateCache.baseUrl) {</span>
<span class="cstat-no" title="statement not covered" >                            grunt.log.writeln('templateCache : src, dest, baseUrl must be specified if templateCache option is used'.red);</span>
                        }
                        else {
<span class="cstat-no" title="statement not covered" >                            var templateCacheSrc = grunt.file.expand(options.templateCache.src); </span>// manual reinterpolation
<span class="cstat-no" title="statement not covered" >                            var templateCacheDest = path.resolve(options.templateCache.dest);</span>
<span class="cstat-no" title="statement not covered" >                            var templateCacheBasePath = path.resolve(options.templateCache.baseUrl);</span>
<span class="cstat-no" title="statement not covered" >                            templateCacheModule.generateTemplateCache(templateCacheSrc, templateCacheDest, templateCacheBasePath, (options.newLine || utils.eol));</span>
                        }
                    }
                    ///// Reference File
                    // Generate the reference file
                    // Create a reference file if specified
<span class="cstat-no" title="statement not covered" >                    if (!!referencePath) {</span>
<span class="cstat-no" title="statement not covered" >                        var result = timeIt(<span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >                            return referenceModule.updateReferenceFile(filesToCompile.filter(<span class="fstat-no" title="function not covered" >function (f) {</span> <span class="cstat-no" title="statement not covered" >return !isReferenceFile(f); </span>}), generatedFiles, referenceFile, referencePath, (options.newLine || utils.eol));</span>
                        });
<span class="cstat-no" title="statement not covered" >                        if (result.it === true) {</span>
<span class="cstat-no" title="statement not covered" >                            grunt.log.writeln(('Updated reference file (' + result.time + 'ms).').green);</span>
                        }
                    }
                    ///// AMD loader
                    // Create the amdLoader if specified
<span class="cstat-no" title="statement not covered" >                    if (!!amdloaderPath) {</span>
<span class="cstat-no" title="statement not covered" >                        var referenceOrder = amdLoaderModule.getReferencesInOrder(referenceFile, referencePath, generatedFiles);</span>
<span class="cstat-no" title="statement not covered" >                        amdLoaderModule.updateAmdLoader(referenceFile, referenceOrder, amdloaderFile, amdloaderPath, currentFiles.outDir);</span>
                    }
                    // Transform files as needed. Currently all of this logic in is one module
<span class="cstat-no" title="statement not covered" >                    transformers.transformFiles(filesToCompile /*TODO: only unchanged files*/, filesToCompile, options);</span>
<span class="cstat-no" title="statement not covered" >                    currentFiles.src = filesToCompile;</span>
                    // Return promise to compliation
<span class="cstat-no" title="statement not covered" >                    if (utils.shouldCompile(options)) {</span>
<span class="cstat-no" title="statement not covered" >                        if (filesToCompile.length &gt; 0 || options.testExecute || utils.shouldPassThrough(options)) {</span>
<span class="cstat-no" title="statement not covered" >                            return runCompilation(options, currentFiles).then(<span class="fstat-no" title="function not covered" >function (success) {</span></span>
<span class="cstat-no" title="statement not covered" >                                return success;</span>
                            });
                        }
                        else {
                            // Nothing to do
<span class="cstat-no" title="statement not covered" >                            grunt.log.writeln('No files to compile'.red);</span>
<span class="cstat-no" title="statement not covered" >                            return es6_promise_1.Promise.resolve(true);</span>
                        }
                    }
                    else {
<span class="cstat-no" title="statement not covered" >                        return es6_promise_1.Promise.resolve(true);</span>
                    }
                }
                // Time (in ms) when last compile took place
<span class="cstat-no" title="statement not covered" >                var lastCompile = 0;</span>
                // Watch a folder?
<span class="cstat-no" title="statement not covered" >                if (!!options.watch) {</span>
                    // get path(s)
<span class="cstat-no" title="statement not covered" >                    var watchpath = grunt.file.expand([options.watch]);</span>
                    // create a file watcher for path
<span class="cstat-no" title="statement not covered" >                    var chokidar = require('chokidar');</span>
<span class="cstat-no" title="statement not covered" >                    var watcher = chokidar.watch(watchpath, { ignoreInitial: true, persistent: true });</span>
                    // Log what we are doing
<span class="cstat-no" title="statement not covered" >                    grunt.log.writeln(('Watching all TypeScript / Html files under : ' + watchpath).cyan);</span>
                    // A file has been added/changed/deleted has occurred
<span class="cstat-no" title="statement not covered" >                    watcher</span>
                        .on('add', <span class="fstat-no" title="function not covered" >function (path) {</span>
<span class="cstat-no" title="statement not covered" >                        handleFileEvent(path, '+++ added   ', true);</span>
                        // Reset the time for last compile call
<span class="cstat-no" title="statement not covered" >                        lastCompile = new Date().getTime();</span>
                    })
                        .on('change', <span class="fstat-no" title="function not covered" >function (path) {</span>
<span class="cstat-no" title="statement not covered" >                        handleFileEvent(path, '### changed ', true);</span>
                        // Reset the time for last compile call
<span class="cstat-no" title="statement not covered" >                        lastCompile = new Date().getTime();</span>
                    })
                        .on('unlink', <span class="fstat-no" title="function not covered" >function (path) {</span>
<span class="cstat-no" title="statement not covered" >                        handleFileEvent(path, '--- removed ');</span>
                        // Reset the time for last compile call
<span class="cstat-no" title="statement not covered" >                        lastCompile = new Date().getTime();</span>
                    })
                        .on('error', <span class="fstat-no" title="function not covered" >function (error) {</span>
<span class="cstat-no" title="statement not covered" >                        console.error('Error happened in chokidar: ', error);</span>
                    });
                }
                // Reset the time for last compile call
<span class="cstat-no" title="statement not covered" >                lastCompile = new Date().getTime();</span>
                // Run initial compile
<span class="cstat-no" title="statement not covered" >                return filterFilesTransformAndCompile();</span>
                // local event to handle file event
<span class="fstat-no" title="function not covered" >                function handleFileEvent(filepath, displaystr, addedOrChanged) {</span>
<span class="cstat-no" title="statement not covered" >                    if (addedOrChanged === void 0) { <span class="cstat-no" title="statement not covered" >addedOrChanged = false; </span>}</span>
                    // Only ts and html :
<span class="cstat-no" title="statement not covered" >                    if (!utils.endsWith(filepath.toLowerCase(), '.ts') &amp;&amp; !utils.endsWith(filepath.toLowerCase(), '.html')) {</span>
<span class="cstat-no" title="statement not covered" >                        return;</span>
                    }
                    // Do not run if just ran, behaviour same as grunt-watch
                    // These are the files our run modified
<span class="cstat-no" title="statement not covered" >                    if ((new Date().getTime() - lastCompile) &lt;= 100) {</span>
                        // Uncomment for debugging which files were ignored
                        // grunt.log.writeln((' ///'  + ' &gt;&gt;' + filepath).grey);
<span class="cstat-no" title="statement not covered" >                        return;</span>
                    }
                    // Log and run the debounced version.
<span class="cstat-no" title="statement not covered" >                    grunt.log.writeln((displaystr + ' &gt;&gt;' + filepath).yellow);</span>
<span class="cstat-no" title="statement not covered" >                    filterFilesTransformAndCompile();</span>
                }
            }).then(<span class="fstat-no" title="function not covered" >function (res) {</span>
                // Ignore res? (either logs or throws)
<span class="cstat-no" title="statement not covered" >                if (!options.watch) {</span>
<span class="cstat-no" title="statement not covered" >                    if (res.some(<span class="fstat-no" title="function not covered" >function (success) {</span></span>
<span class="cstat-no" title="statement not covered" >                        return !success;</span>
                    })) {
<span class="cstat-no" title="statement not covered" >                        if (options.emitGruntEvents) {</span>
<span class="cstat-no" title="statement not covered" >                            grunt.event.emit(fail_event);</span>
                        }
<span class="cstat-no" title="statement not covered" >                        done(false);</span>
                    }
                    else {
<span class="cstat-no" title="statement not covered" >                        done();</span>
                    }
                }
            }, done);
        }
    });
<span class="fstat-no" title="function not covered" >    function processIndividualTemplate(template) {</span>
<span class="cstat-no" title="statement not covered" >        if (template) {</span>
<span class="cstat-no" title="statement not covered" >            return grunt.template.process(template, {});</span>
        }
<span class="cstat-no" title="statement not covered" >        return template;</span>
    }
}
module.exports = pluginFn;
//# sourceMappingURL=ts.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</span></h1>
    <h2>
        
        Statements: <span class="metric">18.75% <small>(276 / 1472)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0.59% <small>(5 / 846)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">4.39% <small>(9 / 205)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">19.13% <small>(273 / 1427)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</div>
</div>
<div class="body">
<div class="coverage-summary">
<table>
<thead>
<tr>
   <th data-col="file" data-fmt="html" data-html="true" class="file">File</th>
   <th data-col="pic" data-type="number" data-fmt="html" data-html="true" class="pic"></th>
   <th data-col="statements" data-type="number" data-fmt="pct" class="pct">Statements</th>
   <th data-col="statements_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="branches" data-type="number" data-fmt="pct" class="pct">Branches</th>
   <th data-col="branches_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="functions" data-type="number" data-fmt="pct" class="pct">Functions</th>
   <th data-col="functions_raw" data-type="number" data-fmt="html" class="abs"></th>
   <th data-col="lines" data-type="number" data-fmt="pct" class="pct">Lines</th>
   <th data-col="lines_raw" data-type="number" data-fmt="html" class="abs"></th>
</tr>
</thead>
<tbody><tr>
	<td class="file low" data-value="amdLoader.js"><a href="amdLoader.js.html">amdLoader.js</a></td>
	<td data-value="9.84" class="pic low"><span class="cover-fill" style="width: 9px;"></span><span class="cover-empty" style="width:91px;"></span></td>
	<td data-value="9.84" class="pct low">9.84%</td>
	<td data-value="122" class="abs low">(12&nbsp;/&nbsp;122)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="29" class="abs low">(0&nbsp;/&nbsp;29)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="20" class="abs low">(0&nbsp;/&nbsp;20)</td>
	<td data-value="11.11" class="pct low">11.11%</td>
	<td data-value="108" class="abs low">(12&nbsp;/&nbsp;108)</td>
	</tr>

<tr>
	<td class="file low" data-value="cacheUtils.js"><a href="cacheUtils.js.html">cacheUtils.js</a></td>
	<td data-value="36.76" class="pic low"><span class="cover-fill" style="width: 36px;"></span><span class="cover-empty" style="width:64px;"></span></td>
	<td data-value="36.76" class="pct low">36.76%</td>
	<td data-value="68" class="abs low">(25&nbsp;/&nbsp;68)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="4" class="abs low">(0&nbsp;/&nbsp;4)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="16" class="abs low">(0&nbsp;/&nbsp;16)</td>
	<td data-value="36.76" class="pct low">36.76%</td>
	<td data-value="68" class="abs low">(25&nbsp;/&nbsp;68)</td>
	</tr>

<tr>
	<td class="file low" data-value="compile.js"><a href="compile.js.html">compile.js</a></td>
	<td data-value="9.72" class="pic low"><span class="cover-fill" style="width: 9px;"></span><span class="cover-empty" style="width:91px;"></span></td>
	<td data-value="9.72" class="pct low">9.72%</td>
	<td data-value="216" class="abs low">(21&nbsp;/&nbsp;216)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="169" class="abs low">(0&nbsp;/&nbsp;169)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="17" class="abs low">(0&nbsp;/&nbsp;17)</td>
	<td data-value="9.81" class="pct low">9.81%</td>
	<td data-value="214" class="abs low">(21&nbsp;/&nbsp;214)</td>
	</tr>

<tr>
	<td class="file high" data-value="defaults.js"><a href="defaults.js.html">defaults.js</a></td>
	<td data-value="100" class="pic high"><span class="cover-fill cover-full" style="width: 100px;"></span><span class="cover-empty" style="width:0px;"></span></td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="15" class="abs high">(15&nbsp;/&nbsp;15)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="0" class="abs high">(0&nbsp;/&nbsp;0)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="1" class="abs high">(1&nbsp;/&nbsp;1)</td>
	<td data-value="100" class="pct high">100%</td>
	<td data-value="15" class="abs high">(15&nbsp;/&nbsp;15)</td>
	</tr>

<tr>
	<td class="file low" data-value="html2ts.js"><a href="html2ts.js.html">html2ts.js</a></td>
	<td data-value="26.32" class="pic low"><span class="cover-fill" style="width: 26px;"></span><span class="cover-empty" style="width:74px;"></span></td>
	<td data-value="26.32" class="pct low">26.32%</td>
	<td data-value="57" class="abs low">(15&nbsp;/&nbsp;57)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="18" class="abs low">(0&nbsp;/&nbsp;18)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="10" class="abs low">(0&nbsp;/&nbsp;10)</td>
	<td data-value="27.27" class="pct low">27.27%</td>
	<td data-value="55" class="abs low">(15&nbsp;/&nbsp;55)</td>
	</tr>

<tr>
	<td class="file low" data-value="optionsResolver.js"><a href="optionsResolver.js.html">optionsResolver.js</a></td>
	<td data-value="11.51" class="pic low"><span class="cover-fill" style="width: 11px;"></span><span class="cover-empty" style="width:89px;"></span></td>
	<td data-value="11.51" class="pct low">11.51%</td>
	<td data-value="252" class="abs low">(29&nbsp;/&nbsp;252)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="225" class="abs low">(0&nbsp;/&nbsp;225)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="31" class="abs low">(0&nbsp;/&nbsp;31)</td>
	<td data-value="11.79" class="pct low">11.79%</td>
	<td data-value="246" class="abs low">(29&nbsp;/&nbsp;246)</td>
	</tr>

<tr>
	<td class="file low" data-value="reference.js"><a href="reference.js.html">reference.js</a></td>
	<td data-value="12.5" class="pic low"><span class="cover-fill" style="width: 12px;"></span><span class="cover-empty" style="width:88px;"></span></td>
	<td data-value="12.5" class="pct low">12.5%</td>
	<td data-value="56" class="abs low">(7&nbsp;/&nbsp;56)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="16" class="abs low">(0&nbsp;/&nbsp;16)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="3" class="abs low">(0&nbsp;/&nbsp;3)</td>
	<td data-value="12.73" class="pct low">12.73%</td>
	<td data-value="55" class="abs low">(7&nbsp;/&nbsp;55)</td>
	</tr>

<tr>
	<td class="file low" data-value="templateCache.js"><a href="templateCache.js.html">templateCache.js</a></td>
	<td data-value="22.22" class="pic low"><span class="cover-fill" style="width: 22px;"></span><span class="cover-empty" style="width:78px;"></span></td>
	<td data-value="22.22" class="pct low">22.22%</td>
	<td data-value="27" class="abs low">(6&nbsp;/&nbsp;27)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="6" class="abs low">(0&nbsp;/&nbsp;6)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="5" class="abs low">(0&nbsp;/&nbsp;5)</td>
	<td data-value="26.09" class="pct low">26.09%</td>
	<td data-value="23" class="abs low">(6&nbsp;/&nbsp;23)</td>
	</tr>

<tr>
	<td class="file low" data-value="transformers.js"><a href="transformers.js.html">transformers.js</a></td>
	<td data-value="34.72" class="pic low"><span class="cover-fill" style="width: 34px;"></span><span class="cover-empty" style="width:66px;"></span></td>
	<td data-value="34.72" class="pct low">34.72%</td>
	<td data-value="144" class="abs low">(50&nbsp;/&nbsp;144)</td>
	<td data-value="8.93" class="pct low">8.93%</td>
	<td data-value="56" class="abs low">(5&nbsp;/&nbsp;56)</td>
	<td data-value="25.81" class="pct low">25.81%</td>
	<td data-value="31" class="abs low">(8&nbsp;/&nbsp;31)</td>
	<td data-value="33.81" class="pct low">33.81%</td>
	<td data-value="139" class="abs low">(47&nbsp;/&nbsp;139)</td>
	</tr>

<tr>
	<td class="file low" data-value="tsconfig.js"><a href="tsconfig.js.html">tsconfig.js</a></td>
	<td data-value="11.73" class="pic low"><span class="cover-fill" style="width: 11px;"></span><span class="cover-empty" style="width:89px;"></span></td>
	<td data-value="11.73" class="pct low">11.73%</td>
	<td data-value="196" class="abs low">(23&nbsp;/&nbsp;196)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="139" class="abs low">(0&nbsp;/&nbsp;139)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="21" class="abs low">(0&nbsp;/&nbsp;21)</td>
	<td data-value="11.92" class="pct low">11.92%</td>
	<td data-value="193" class="abs low">(23&nbsp;/&nbsp;193)</td>
	</tr>

<tr>
	<td class="file low" data-value="utils.js"><a href="utils.js.html">utils.js</a></td>
	<td data-value="27.52" class="pic low"><span class="cover-fill" style="width: 27px;"></span><span class="cover-empty" style="width:73px;"></span></td>
	<td data-value="27.52" class="pct low">27.52%</td>
	<td data-value="218" class="abs low">(60&nbsp;/&nbsp;218)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="102" class="abs low">(0&nbsp;/&nbsp;102)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="36" class="abs low">(0&nbsp;/&nbsp;36)</td>
	<td data-value="28.57" class="pct low">28.57%</td>
	<td data-value="210" class="abs low">(60&nbsp;/&nbsp;210)</td>
	</tr>

<tr>
	<td class="file low" data-value="visualStudioOptionsResolver.js"><a href="visualStudioOptionsResolver.js.html">visualStudioOptionsResolver.js</a></td>
	<td data-value="12.87" class="pic low"><span class="cover-fill" style="width: 12px;"></span><span class="cover-empty" style="width:88px;"></span></td>
	<td data-value="12.87" class="pct low">12.87%</td>
	<td data-value="101" class="abs low">(13&nbsp;/&nbsp;101)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="82" class="abs low">(0&nbsp;/&nbsp;82)</td>
	<td data-value="0" class="pct low">0%</td>
	<td data-value="14" class="abs low">(0&nbsp;/&nbsp;14)</td>
	<td data-value="12.87" class="pct low">12.87%</td>
	<td data-value="101" class="abs low">(13&nbsp;/&nbsp;101)</td>
	</tr>

</tbody>
</table>
</div></div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/amdLoader.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/amdLoader.js</span></h1>
    <h2>
        
        Statements: <span class="metric">9.84% <small>(12 / 122)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 29)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 20)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">11.11% <small>(12 / 108)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; amdLoader.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
"use strict";
var _ = require('lodash');
var _str = require('underscore.string');
var path = require('path');
var fs = require('fs');
var utils = require('./utils');
var grunt = utils.grunt;
var pathSeperator = path.sep;
<span class="fstat-no" title="function not covered" >function getReferencesInOrder(referenceFile, referencePath, generatedFiles) {</span>
<span class="cstat-no" title="statement not covered" >    var toreturn = {</span>
        all: [],
        before: [],
        generated: [],
        unordered: [],
        after: []
    };
<span class="cstat-no" title="statement not covered" >    var sortedGeneratedFiles = _.sortBy(generatedFiles);</span>
<span class="fstat-no" title="function not covered" >    function isGeneratedFile(filename) {</span>
<span class="cstat-no" title="statement not covered" >        return _.indexOf(sortedGeneratedFiles, filename, true) !== -1;</span>
    }
    // When reading
<span class="cstat-no" title="statement not covered" >    var referenceMatch = /\/\/\/ &lt;reference path=\"(.*?)\"/;</span>
    // When writing
<span class="cstat-no" title="statement not covered" >    var referenceIntro = '/// &lt;reference path="';</span>
    // var referenceEnd = '" /&gt;';
    // The section of unordered files
<span class="cstat-no" title="statement not covered" >    var ourSignatureStart = '//grunt-start';</span>
<span class="cstat-no" title="statement not covered" >    var ourSignatureEnd = '//grunt-end';</span>
<span class="cstat-no" title="statement not covered" >    var lines = fs.readFileSync(referenceFile).toString().split('\n');</span>
    // Which of the three sections we are in
<span class="cstat-no" title="statement not covered" >    var loopState = 0 /* before */;</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; lines.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >        var line = _str.trim(lines[i]);</span>
<span class="cstat-no" title="statement not covered" >        if (_str.include(line, ourSignatureStart)) {</span>
            // Wait for the end signature:
<span class="cstat-no" title="statement not covered" >            loopState = 1 /* unordered */;</span>
        }
<span class="cstat-no" title="statement not covered" >        if (_str.include(line, ourSignatureEnd)) {</span>
<span class="cstat-no" title="statement not covered" >            loopState = 2 /* after */;</span>
        }
        // Fetch the existing reference's filename if any:
<span class="cstat-no" title="statement not covered" >        if (_str.include(line, referenceIntro)) {</span>
<span class="cstat-no" title="statement not covered" >            var match = line.match(referenceMatch);</span>
<span class="cstat-no" title="statement not covered" >            var filename = match[1];</span>
<span class="cstat-no" title="statement not covered" >            switch (loopState) {</span>
                case 0 /* before */:
<span class="cstat-no" title="statement not covered" >                    toreturn.before.push(filename);</span>
<span class="cstat-no" title="statement not covered" >                    break;</span>
                case 1 /* unordered */:
<span class="cstat-no" title="statement not covered" >                    if (isGeneratedFile(filename)) {</span>
<span class="cstat-no" title="statement not covered" >                        toreturn.generated.push(filename);</span>
                    }
                    else {
<span class="cstat-no" title="statement not covered" >                        toreturn.unordered.push(filename);</span>
                    }
<span class="cstat-no" title="statement not covered" >                    break;</span>
                case 2 /* after */:
<span class="cstat-no" title="statement not covered" >                    toreturn.after.push(filename);</span>
<span class="cstat-no" title="statement not covered" >                    break;</span>
            }
        }
    }
    // Fix the references to be absolute:
<span class="cstat-no" title="statement not covered" >    toreturn.before = _.map(toreturn.before, <span class="fstat-no" title="function not covered" >function (relativePath) {</span> <span class="cstat-no" title="statement not covered" >return path.resolve(referencePath, relativePath); </span>});</span>
<span class="cstat-no" title="statement not covered" >    toreturn.generated = _.map(toreturn.generated, <span class="fstat-no" title="function not covered" >function (relativePath) {</span> <span class="cstat-no" title="statement not covered" >return path.resolve(referencePath, relativePath); </span>});</span>
<span class="cstat-no" title="statement not covered" >    toreturn.unordered = _.map(toreturn.unordered, <span class="fstat-no" title="function not covered" >function (relativePath) {</span> <span class="cstat-no" title="statement not covered" >return path.resolve(referencePath, relativePath); </span>});</span>
<span class="cstat-no" title="statement not covered" >    toreturn.after = _.map(toreturn.after, <span class="fstat-no" title="function not covered" >function (relativePath) {</span> <span class="cstat-no" title="statement not covered" >return path.resolve(referencePath, relativePath); </span>});</span>
<span class="cstat-no" title="statement not covered" >    toreturn.all = Array.prototype.concat.call([], toreturn.before, toreturn.generated, toreturn.unordered, toreturn.after);</span>
<span class="cstat-no" title="statement not covered" >    return toreturn;</span>
}
exports.getReferencesInOrder = getReferencesInOrder;
// It updates based on the order of reference files
<span class="fstat-no" title="function not covered" >function updateAmdLoader(referenceFile, files, loaderFile, loaderPath, outDir, newLine) {</span>
<span class="cstat-no" title="statement not covered" >    if (newLine === void 0) { <span class="cstat-no" title="statement not covered" >newLine = utils.eol; </span>}</span>
<span class="cstat-no" title="statement not covered" >    var commonPath;</span>
<span class="cstat-no" title="statement not covered" >    var makeRelativeToOutDir = <span class="fstat-no" title="function not covered" >function (files) {</span></span>
<span class="cstat-no" title="statement not covered" >        files = _.map(files, <span class="fstat-no" title="function not covered" >function (file) {</span></span>
            // Remove common path and replace with absolute outDir
<span class="cstat-no" title="statement not covered" >            file = file.replace(commonPath, outDir);</span>
            // remove extension '.ts' / '.tsx':
<span class="cstat-no" title="statement not covered" >            file = file.substr(0, file.lastIndexOf('.'));</span>
            // Make relative to amd loader
<span class="cstat-no" title="statement not covered" >            file = utils.makeRelativePath(loaderPath, file);</span>
            // Prepend "./" to prevent "basePath" requirejs setting from interferring:
<span class="cstat-no" title="statement not covered" >            file = './' + file;</span>
<span class="cstat-no" title="statement not covered" >            return file;</span>
        });
<span class="cstat-no" title="statement not covered" >        return files;</span>
    };
    // Read the original file if it exists
<span class="cstat-no" title="statement not covered" >    if (fs.existsSync(referenceFile)) {</span>
<span class="cstat-no" title="statement not covered" >        grunt.log.verbose.writeln('Generating amdloader from reference file ' + referenceFile);</span>
        // Filter.d.ts,
<span class="cstat-no" title="statement not covered" >        if (files.all.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('Files: ' + files.all.map(<span class="fstat-no" title="function not covered" >function (f) {</span> <span class="cstat-no" title="statement not covered" >return f.cyan; </span>}).join(', '));</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            grunt.warn('No files in reference file: ' + referenceFile);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (files.before.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            files.before = _.filter(files.before, <span class="fstat-no" title="function not covered" >function (file) {</span> <span class="cstat-no" title="statement not covered" >return !utils.endsWith(file, '.d.ts'); </span>});</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('Before: ' + files.before.map(<span class="fstat-no" title="function not covered" >function (f) {</span> <span class="cstat-no" title="statement not covered" >return f.cyan; </span>}).join(', '));</span>
        }
<span class="cstat-no" title="statement not covered" >        if (files.generated.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            files.generated = _.filter(files.generated, <span class="fstat-no" title="function not covered" >function (file) {</span> <span class="cstat-no" title="statement not covered" >return !utils.endsWith(file, '.d.ts'); </span>});</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('Generated: ' + files.generated.map(<span class="fstat-no" title="function not covered" >function (f) {</span> <span class="cstat-no" title="statement not covered" >return f.cyan; </span>}).join(', '));</span>
        }
<span class="cstat-no" title="statement not covered" >        if (files.unordered.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            files.unordered = _.filter(files.unordered, <span class="fstat-no" title="function not covered" >function (file) {</span> <span class="cstat-no" title="statement not covered" >return !utils.endsWith(file, '.d.ts'); </span>});</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('Unordered: ' + files.unordered.map(<span class="fstat-no" title="function not covered" >function (f) {</span> <span class="cstat-no" title="statement not covered" >return f.cyan; </span>}).join(', '));</span>
        }
<span class="cstat-no" title="statement not covered" >        if (files.after.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            files.after = _.filter(files.after, <span class="fstat-no" title="function not covered" >function (file) {</span> <span class="cstat-no" title="statement not covered" >return !utils.endsWith(file, '.d.ts'); </span>});</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('After: ' + files.after.map(<span class="fstat-no" title="function not covered" >function (f) {</span> <span class="cstat-no" title="statement not covered" >return f.cyan; </span>}).join(', '));</span>
        }
        // If target has outDir we need to make adjust the path
        // c:/somefolder/ts/a , c:/somefolder/ts/inside/b  + c:/somefolder/build/js =&gt; c:/somefolder/build/js/a , c:/somefolder/build/js/inside/b
        // Logic:
        //     find the common structure in the source files ,and remove it
        //          Finally: outDir path + remainder section
<span class="cstat-no" title="statement not covered" >        if (outDir) {</span>
            // Find common path
<span class="cstat-no" title="statement not covered" >            commonPath = utils.findCommonPath(files.before.concat(files.generated.concat(files.unordered.concat(files.after))), pathSeperator);</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('Found common path: ' + commonPath);</span>
            // Make sure outDir is absolute:
<span class="cstat-no" title="statement not covered" >            outDir = path.resolve(outDir);</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('Using outDir: ' + outDir);</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('Making files relative to outDir...');</span>
<span class="cstat-no" title="statement not covered" >            files.before = makeRelativeToOutDir(files.before);</span>
<span class="cstat-no" title="statement not covered" >            files.generated = makeRelativeToOutDir(files.generated);</span>
<span class="cstat-no" title="statement not covered" >            files.unordered = makeRelativeToOutDir(files.unordered);</span>
<span class="cstat-no" title="statement not covered" >            files.after = makeRelativeToOutDir(files.after);</span>
<span class="cstat-no" title="statement not covered" >            var mainTemplate = _.template('define(function (require) { '</span>
                + newLine + '&lt;%= body %&gt;'
                + newLine + '});');
            // The order in the before and after files is important
<span class="cstat-no" title="statement not covered" >            var singleRequireTemplate = _.template('\t require([&lt;%= filename %&gt;],function (){'</span>
                + newLine + '&lt;%= subitem %&gt;'
                + newLine + '\t });');
            // initial sub item
<span class="cstat-no" title="statement not covered" >            var subitem = '';</span>
            // Write out a binary file:
<span class="cstat-no" title="statement not covered" >            var binaryTemplate = _.template('define(["&lt;%= filenames %&gt;"],function () {});');</span>
<span class="cstat-no" title="statement not covered" >            var binaryFilesNames = files.before.concat(files.generated.concat(files.unordered.concat(files.after)));</span>
<span class="cstat-no" title="statement not covered" >            var binaryContent = binaryTemplate({ filenames: binaryFilesNames.join('","') });</span>
<span class="cstat-no" title="statement not covered" >            var binFileExtension = '.bin.js';</span>
<span class="cstat-no" title="statement not covered" >            var loaderFileWithoutExtension = path.dirname(loaderFile) + pathSeperator + path.basename(loaderFile, '.js');</span>
<span class="cstat-no" title="statement not covered" >            var binFilename = loaderFileWithoutExtension + binFileExtension;</span>
<span class="cstat-no" title="statement not covered" >            grunt.file.write(binFilename, binaryContent);</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('Binary AMD loader written ' + binFilename.cyan);</span>
            //
            // Notice that we build inside out in the below sections:
            //
            // Generate fileTemplate from inside out
            // Start with after
            // Build the subitem for ordered after items
<span class="cstat-no" title="statement not covered" >            files.after = files.after.reverse(); </span>// Important to build inside out
<span class="cstat-no" title="statement not covered" >            _.forEach(files.after, <span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >                subitem = singleRequireTemplate({ filename: '"' + file + '"', subitem: subitem });</span>
            });
            // Next up add the unordered items:
            // For these we will use just one require call
<span class="cstat-no" title="statement not covered" >            if (files.unordered.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                var unorderFileNames = files.unordered.join('",' + newLine + '\t\t  "');</span>
<span class="cstat-no" title="statement not covered" >                subitem = singleRequireTemplate({ filename: '"' + unorderFileNames + '"', subitem: subitem });</span>
            }
            // Next the generated files
            // For these we will use just one require call
<span class="cstat-no" title="statement not covered" >            var generatedFileNames = files.generated.join('",' + newLine + '\t\t  "');</span>
<span class="cstat-no" title="statement not covered" >            subitem = singleRequireTemplate({ filename: '"' + generatedFileNames + '"', subitem: subitem });</span>
            // Build the subitem for ordered before items
<span class="cstat-no" title="statement not covered" >            files.before = files.before.reverse();</span>
<span class="cstat-no" title="statement not covered" >            _.forEach(files.before, <span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >                subitem = singleRequireTemplate({ filename: '"' + file + '"', subitem: subitem });</span>
            });
            // The last subitem is now the body
<span class="cstat-no" title="statement not covered" >            var output = mainTemplate({ body: subitem });</span>
            // Finally write it out
<span class="cstat-no" title="statement not covered" >            grunt.file.write(loaderFile, output);</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.verbose.writeln('AMD loader written ' + loaderFile.cyan);</span>
        }
    }
    else {
<span class="cstat-no" title="statement not covered" >        grunt.log.writeln('Cannot generate amd loader unless a reference file is present'.red);</span>
    }
}
exports.updateAmdLoader = updateAmdLoader;
//# sourceMappingURL=amdLoader.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/cacheUtils.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/cacheUtils.js</span></h1>
    <h2>
        
        Statements: <span class="metric">36.76% <small>(25 / 68)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 4)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">36.76% <small>(25 / 68)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; cacheUtils.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
"use strict";
// Source based on : https://github.com/tschaub/grunt-newer/blob/master/lib/util.js
var fs = require('fs');
var _ = require('lodash');
var path = require('path');
var crypto = require('crypto');
var grunt = require('grunt');
var rimraf = require('rimraf');
//////////////////////
//  Basic algo: 
//        - We have a timestamp file per target. 
//        - We use the mtime of this file to filter out
//              new files for this target
//        - Finally we can update the timestamp file with new time
/////////////////////
exports.cacheDir = '.tscache';
//////////////////////////////
// File stamp based filtering
//////////////////////////////
<span class="fstat-no" title="function not covered" >function getStampPath(targetName) {</span>
<span class="cstat-no" title="statement not covered" >    return path.join(exports.cacheDir, targetName, 'timestamp');</span>
}
<span class="fstat-no" title="function not covered" >function getLastSuccessfullCompile(targetName) {</span>
<span class="cstat-no" title="statement not covered" >    var stampFile = getStampPath(targetName);</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >        return fs.statSync(stampFile).mtime;</span>
    }
    catch (err) {
        // task has never succeeded before
<span class="cstat-no" title="statement not covered" >        return new Date(0);</span>
    }
}
<span class="fstat-no" title="function not covered" >function getFilesNewerThan(paths, time) {</span>
<span class="cstat-no" title="statement not covered" >    var filtered = _.filter(paths, <span class="fstat-no" title="function not covered" >function (path) {</span></span>
<span class="cstat-no" title="statement not covered" >        var stats = fs.statSync(path);</span>
<span class="cstat-no" title="statement not covered" >        return stats.mtime &gt; time;</span>
    });
<span class="cstat-no" title="statement not covered" >    return filtered;</span>
}
<span class="fstat-no" title="function not covered" >function anyNewerThan(paths, time) {</span>
<span class="cstat-no" title="statement not covered" >    return getFilesNewerThan(paths, time).length &gt; 0;</span>
}
exports.anyNewerThan = anyNewerThan;
<span class="fstat-no" title="function not covered" >function filterPathsByTime(paths, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    var time = getLastSuccessfullCompile(targetName);</span>
<span class="cstat-no" title="statement not covered" >    return getFilesNewerThan(paths, time);</span>
}
exports.filterPathsByTime = filterPathsByTime;
//////////////////////////////
// File hash based filtering
//////////////////////////////
/**
 * Get path to cached file hash for a target.
 * @return {string} Path to hash.
 */
<span class="fstat-no" title="function not covered" >function getHashPath(filePath, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    var hashedName = path.basename(filePath) + '-' + crypto.createHash('md5').update(filePath).digest('hex');</span>
<span class="cstat-no" title="statement not covered" >    return path.join(exports.cacheDir, targetName, 'hashes', hashedName);</span>
}
/**
 * Get an existing hash for a file (if it exists).
 */
<span class="fstat-no" title="function not covered" >function getExistingHash(filePath, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    var hashPath = getHashPath(filePath, targetName);</span>
<span class="cstat-no" title="statement not covered" >    var exists = fs.existsSync(hashPath);</span>
<span class="cstat-no" title="statement not covered" >    if (!exists) {</span>
<span class="cstat-no" title="statement not covered" >        return null;</span>
    }
<span class="cstat-no" title="statement not covered" >    return fs.readFileSync(hashPath).toString();</span>
}
/**
 * Generate a hash (md5sum) of a file contents.
 * @param {string} filePath Path to file.
 */
<span class="fstat-no" title="function not covered" >function generateFileHash(filePath) {</span>
<span class="cstat-no" title="statement not covered" >    var md5sum = crypto.createHash('md5');</span>
<span class="cstat-no" title="statement not covered" >    var data = fs.readFileSync(filePath);</span>
<span class="cstat-no" title="statement not covered" >    md5sum.update(data);</span>
<span class="cstat-no" title="statement not covered" >    return md5sum.digest('hex');</span>
}
/**
 * Filter files based on hashed contents.
 * @param {Array.&lt;string&gt;} paths List of paths to files.
 * @param {string} cacheDir Cache directory.
 * @param {string} taskName Task name.
 * @param {string} targetName Target name.
 * @param {function(Error, Array.&lt;string&gt;)} callback Callback called with any
 *     error and a filtered list of files that only includes files with hashes
 *     that are different than the cached hashes for the same files.
 */
<span class="fstat-no" title="function not covered" >function filterPathsByHash(filePaths, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    var filtered = _.filter(filePaths, <span class="fstat-no" title="function not covered" >function (filePath) {</span></span>
<span class="cstat-no" title="statement not covered" >        var previous = getExistingHash(filePath, targetName);</span>
<span class="cstat-no" title="statement not covered" >        var current = generateFileHash(filePath);</span>
<span class="cstat-no" title="statement not covered" >        return previous !== current;</span>
    });
<span class="cstat-no" title="statement not covered" >    return filtered;</span>
}
<span class="fstat-no" title="function not covered" >function updateHashes(filePaths, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    _.forEach(filePaths, <span class="fstat-no" title="function not covered" >function (filePath) {</span></span>
<span class="cstat-no" title="statement not covered" >        var hashPath = getHashPath(filePath, targetName);</span>
<span class="cstat-no" title="statement not covered" >        var hash = generateFileHash(filePath);</span>
<span class="cstat-no" title="statement not covered" >        grunt.file.write(hashPath, hash);</span>
    });
}
//////////////////////////////
// External functions
//////////////////////////////
/**
 * Filter a list of files by target
 */
<span class="fstat-no" title="function not covered" >function getNewFilesForTarget(paths, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    var step1 = filterPathsByTime(paths, targetName);</span>
<span class="cstat-no" title="statement not covered" >    var step2 = filterPathsByHash(step1, targetName);</span>
<span class="cstat-no" title="statement not covered" >    return step2;</span>
}
exports.getNewFilesForTarget = getNewFilesForTarget;
/**
 * Update the timestamp for a target to denote last successful compile
 */
<span class="fstat-no" title="function not covered" >function compileSuccessfull(paths, targetName) {</span>
    // update timestamp
<span class="cstat-no" title="statement not covered" >    grunt.file.write(getStampPath(targetName), '');</span>
    // update filehash
<span class="cstat-no" title="statement not covered" >    updateHashes(paths, targetName);</span>
}
exports.compileSuccessfull = compileSuccessfull;
<span class="fstat-no" title="function not covered" >function clearCache(targetName) {</span>
<span class="cstat-no" title="statement not covered" >    var cacheDirForTarget = path.join(exports.cacheDir, targetName);</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >        if (fs.existsSync(cacheDirForTarget)) {</span>
<span class="cstat-no" title="statement not covered" >            rimraf.sync(cacheDirForTarget);</span>
<span class="cstat-no" title="statement not covered" >            grunt.log.writeln(('Cleared fast compile cache for target: ' + targetName).cyan);</span>
        }
    }
    catch (ex) {
<span class="cstat-no" title="statement not covered" >        grunt.log.writeln(('Failed to clear compile cache for target: ' + targetName).red);</span>
    }
}
exports.clearCache = clearCache;
//# sourceMappingURL=cacheUtils.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/compile.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/compile.js</span></h1>
    <h2>
        
        Statements: <span class="metric">9.72% <small>(21 / 216)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 169)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 17)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">9.81% <small>(21 / 214)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; compile.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
/// &lt;reference path="./interfaces.d.ts"/&gt;
'use strict';
var path = require('path');
var fs = require('fs');
var _ = require('lodash');
var utils = require('./utils');
var cache = require('./cacheUtils');
var semver = require('semver');
var es6_promise_1 = require('es6-promise');
exports.grunt = require('grunt');
///////////////////////////
// Helper
///////////////////////////
var executeNode;
var executeNodeDefault = <span class="fstat-no" title="function not covered" >function (args, optionalInfo) {</span>
<span class="cstat-no" title="statement not covered" >    return new es6_promise_1.Promise(<span class="fstat-no" title="function not covered" >function (resolve, reject) {</span></span>
<span class="cstat-no" title="statement not covered" >        exports.grunt.util.spawn({</span>
            cmd: process.execPath,
            args: args
        }, <span class="fstat-no" title="function not covered" >function (error, result, code) {</span>
<span class="cstat-no" title="statement not covered" >            var ret = {</span>
                code: code,
                // New TypeScript compiler uses stdout for user code errors. Old one used stderr.
                output: result.stdout || result.stderr
            };
<span class="cstat-no" title="statement not covered" >            resolve(ret);</span>
        });
    });
};
/////////////////////////////////////////////////////////////////
// Fast Compilation
/////////////////////////////////////////////////////////////////
// Map to store if the cache was cleared after the gruntfile was parsed
var cacheClearedOnce = {};
<span class="fstat-no" title="function not covered" >function getChangedFiles(files, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    files = cache.getNewFilesForTarget(files, targetName);</span>
<span class="cstat-no" title="statement not covered" >    _.forEach(files, <span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >        exports.grunt.log.writeln(('### Fast Compile &gt;&gt;' + file).cyan);</span>
    });
<span class="cstat-no" title="statement not covered" >    return files;</span>
}
<span class="fstat-no" title="function not covered" >function resetChangedFiles(files, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    cache.compileSuccessfull(files, targetName);</span>
}
<span class="fstat-no" title="function not covered" >function clearCache(targetName) {</span>
<span class="cstat-no" title="statement not covered" >    cache.clearCache(targetName);</span>
<span class="cstat-no" title="statement not covered" >    cacheClearedOnce[targetName] = true;</span>
}
/////////////////////////////////////////////////////////////////////
// tsc handling
////////////////////////////////////////////////////////////////////
<span class="fstat-no" title="function not covered" >function resolveTypeScriptBinPath() {</span>
<span class="cstat-no" title="statement not covered" >    var ownRoot = path.resolve(path.dirname((module).filename), '../..');</span>
<span class="cstat-no" title="statement not covered" >    var userRoot = path.resolve(ownRoot, '..', '..');</span>
<span class="cstat-no" title="statement not covered" >    var binSub = path.join('node_modules', 'typescript', 'bin');</span>
<span class="cstat-no" title="statement not covered" >    if (fs.existsSync(path.join(userRoot, binSub))) {</span>
        // Using project override
<span class="cstat-no" title="statement not covered" >        return path.join(userRoot, binSub);</span>
    }
<span class="cstat-no" title="statement not covered" >    return path.join(ownRoot, binSub);</span>
}
<span class="fstat-no" title="function not covered" >function getTsc(binPath) {</span>
<span class="cstat-no" title="statement not covered" >    return path.join(binPath, 'tsc');</span>
}
<span class="fstat-no" title="function not covered" >function compileResultMeansFastCacheShouldBeRefreshed(options, result) {</span>
<span class="cstat-no" title="statement not covered" >    return (options.fast !== 'never' &amp;&amp;</span>
        (result.code === 0 || (result.code === 2 &amp;&amp; !options.failOnTypeErrors)));
}
exports.compileResultMeansFastCacheShouldBeRefreshed = compileResultMeansFastCacheShouldBeRefreshed;
<span class="fstat-no" title="function not covered" >function compileAllFiles(options, compilationInfo) {</span>
<span class="cstat-no" title="statement not covered" >    var targetFiles = compilationInfo.src;</span>
    // Make a local copy so we can modify files without having external side effects
<span class="cstat-no" title="statement not covered" >    var files = _.map(targetFiles, <span class="fstat-no" title="function not covered" >function (file) {</span> <span class="cstat-no" title="statement not covered" >return file; </span>});</span>
<span class="cstat-no" title="statement not covered" >    var newFiles = files;</span>
<span class="cstat-no" title="statement not covered" >    if (options.fast === 'watch') {</span>
        // if this is the first time its running after this file was loaded
<span class="cstat-no" title="statement not covered" >        if (cacheClearedOnce[exports.grunt.task.current.target] === undefined) {</span>
            // Then clear the cache for this target
<span class="cstat-no" title="statement not covered" >            clearCache(options.targetName);</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    if (options.fast !== 'never') {</span>
<span class="cstat-no" title="statement not covered" >        if (compilationInfo.out) {</span>
<span class="cstat-no" title="statement not covered" >            exports.grunt.log.writeln('Fast compile will not work when --out is specified. Ignoring fast compilation'.cyan);</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            newFiles = getChangedFiles(files, options.targetName);</span>
<span class="cstat-no" title="statement not covered" >            if (newFiles.length !== 0 || options.testExecute || utils.shouldPassThrough(options)) {</span>
<span class="cstat-no" title="statement not covered" >                files = newFiles;</span>
                // If outDir is specified but no baseDir is specified we need to determine one
<span class="cstat-no" title="statement not covered" >                if (compilationInfo.outDir &amp;&amp; !options.baseDir) {</span>
<span class="cstat-no" title="statement not covered" >                    options.baseDir = utils.findCommonPath(files, '/');</span>
                }
            }
            else {
<span class="cstat-no" title="statement not covered" >                exports.grunt.log.writeln('No file changes were detected. Skipping Compile'.green);</span>
<span class="cstat-no" title="statement not covered" >                return new es6_promise_1.Promise(<span class="fstat-no" title="function not covered" >function (resolve) {</span></span>
<span class="cstat-no" title="statement not covered" >                    var ret = {</span>
                        code: 0,
                        fileCount: 0,
                        output: 'No files compiled as no change detected'
                    };
<span class="cstat-no" title="statement not covered" >                    resolve(ret);</span>
                });
            }
        }
    }
    // Transform files as needed. Currently all of this logic in is one module
    // transformers.transformFiles(newFiles, targetFiles, target, task);
    // If baseDir is specified create a temp tsc file to make sure that `--outDir` works fine
    // see https://github.com/grunt-ts/grunt-ts/issues/77
<span class="cstat-no" title="statement not covered" >    var baseDirFile = '.baseDir.ts';</span>
<span class="cstat-no" title="statement not covered" >    var baseDirFilePath;</span>
<span class="cstat-no" title="statement not covered" >    if (compilationInfo.outDir &amp;&amp; options.baseDir &amp;&amp; files.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >        baseDirFilePath = path.join(options.baseDir, baseDirFile);</span>
<span class="cstat-no" title="statement not covered" >        if (!fs.existsSync(baseDirFilePath)) {</span>
<span class="cstat-no" title="statement not covered" >            exports.grunt.file.write(baseDirFilePath, '// Ignore this file. See https://github.com/grunt-ts/grunt-ts/issues/77');</span>
        }
<span class="cstat-no" title="statement not covered" >        files.push(baseDirFilePath);</span>
    }
    // If reference and out are both specified.
    // Then only compile the updated reference file as that contains the correct order
<span class="cstat-no" title="statement not covered" >    if (options.reference &amp;&amp; compilationInfo.out) {</span>
<span class="cstat-no" title="statement not covered" >        var referenceFile = path.resolve(options.reference);</span>
<span class="cstat-no" title="statement not covered" >        files = [referenceFile];</span>
    }
    // Quote the files to compile. Needed for command line parsing by tsc
<span class="cstat-no" title="statement not covered" >    files = _.map(files, <span class="fstat-no" title="function not covered" >function (item) {</span> <span class="cstat-no" title="statement not covered" >return ("\"" + path.resolve(item) + "\""); </span>});</span>
<span class="cstat-no" title="statement not covered" >    var args = files.slice(0), tsc, tscVersion = '';</span>
<span class="cstat-no" title="statement not covered" >    var tsconfig = options.tsconfig;</span>
<span class="cstat-no" title="statement not covered" >    if (options.compiler) {</span>
        // Custom compiler (task.compiler)
<span class="cstat-no" title="statement not covered" >        exports.grunt.log.writeln('Using the custom compiler : ' + options.compiler);</span>
<span class="cstat-no" title="statement not covered" >        tsc = options.compiler;</span>
<span class="cstat-no" title="statement not covered" >        tscVersion = '';</span>
    }
    else {
        // the bundled OR npm module based compiler
<span class="cstat-no" title="statement not covered" >        var tscPath = resolveTypeScriptBinPath();</span>
<span class="cstat-no" title="statement not covered" >        tsc = getTsc(tscPath);</span>
<span class="cstat-no" title="statement not covered" >        tscVersion = getTscVersion(tscPath);</span>
<span class="cstat-no" title="statement not covered" >        exports.grunt.log.writeln('Using tsc v' + tscVersion);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (tsconfig &amp;&amp; tsconfig.passThrough) {</span>
<span class="cstat-no" title="statement not covered" >        args.push('--project', tsconfig.tsconfig);</span>
    }
    else {
<span class="cstat-no" title="statement not covered" >        if (options.sourceMap) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--sourcemap');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.emitDecoratorMetadata) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--emitDecoratorMetadata');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.declaration) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--declaration');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.removeComments) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--removeComments');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noImplicitAny) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noImplicitAny');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noResolve) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noResolve');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noEmitOnError) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noEmitOnError');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.preserveConstEnums) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--preserveConstEnums');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.suppressImplicitAnyIndexErrors) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--suppressImplicitAnyIndexErrors');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noEmit) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noEmit');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.inlineSources) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--inlineSources');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.inlineSourceMap) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--inlineSourceMap');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.newLine &amp;&amp; !utils.newLineIsRedundantForTsc(options.newLine)) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--newLine', options.newLine);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.isolatedModules) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--isolatedModules');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noEmitHelpers) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noEmitHelpers');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.experimentalDecorators) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--experimentalDecorators');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.experimentalAsyncFunctions) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--experimentalAsyncFunctions');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.jsx) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--jsx', options.jsx.toLocaleLowerCase());</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.moduleResolution) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--moduleResolution', options.moduleResolution.toLocaleLowerCase());</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.rootDir) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--rootDir', options.rootDir);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noLib) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noLib');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.emitBOM) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--emitBOM');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.locale) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--locale', options.locale);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.suppressExcessPropertyErrors) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--suppressExcessPropertyErrors');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.stripInternal) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--stripInternal');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.allowSyntheticDefaultImports) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--allowSyntheticDefaultImports');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.reactNamespace) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--reactNamespace', options.reactNamespace);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.skipDefaultLibCheck) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--skipDefaultLibCheck');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.pretty) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--pretty');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.allowUnusedLabels) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--allowUnusedLabels');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noImplicitReturns) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noImplicitReturns');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noFallthroughCasesInSwitch) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noFallthroughCasesInSwitch');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.allowUnreachableCode) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--allowUnreachableCode');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.forceConsistentCasingInFileNames) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--forceConsistentCasingInFileNames');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.allowJs) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--allowJs');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.noImplicitUseStrict) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--noImplicitUseStrict');</span>
        }
<span class="cstat-no" title="statement not covered" >        args.push('--target', options.target.toUpperCase());</span>
<span class="cstat-no" title="statement not covered" >        if (options.module) {</span>
<span class="cstat-no" title="statement not covered" >            var moduleOptionString = ('' + options.module).toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >            if ('amd|commonjs|system|umd|es6|es2015'.indexOf(moduleOptionString) &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >                args.push('--module', moduleOptionString);</span>
            }
            else {
<span class="cstat-no" title="statement not covered" >                console.warn('WARNING: Option "module" only supports "amd" | "commonjs" | "system" | "umd" | "es6" | "es2015" '.magenta);</span>
            }
        }
<span class="cstat-no" title="statement not covered" >        if (compilationInfo.outDir) {</span>
<span class="cstat-no" title="statement not covered" >            if (compilationInfo.out) {</span>
<span class="cstat-no" title="statement not covered" >                console.warn('WARNING: Option "out" and "outDir" should not be used together'.magenta);</span>
            }
<span class="cstat-no" title="statement not covered" >            args.push('--outDir', compilationInfo.outDir);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (compilationInfo.out) {</span>
            // We only pass --out instead of --outFile for backward-compatability reasons.
            // It is the same for purposes of the command-line (the subtle difference is handled in the tsconfig code
            //  and the value of --outFile is copied to --out).
<span class="cstat-no" title="statement not covered" >            args.push('--out', compilationInfo.out);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (compilationInfo.dest &amp;&amp; (!compilationInfo.out) &amp;&amp; (!compilationInfo.outDir)) {</span>
<span class="cstat-no" title="statement not covered" >            if (utils.isJavaScriptFile(compilationInfo.dest)) {</span>
<span class="cstat-no" title="statement not covered" >                args.push('--out', compilationInfo.dest);</span>
            }
            else {
<span class="cstat-no" title="statement not covered" >                if (compilationInfo.dest === 'src') {</span>
<span class="cstat-no" title="statement not covered" >                    console.warn(('WARNING: Destination for target "' + options.targetName + '" is "src", which is the default.  If you have' +</span>
                        ' forgotten to specify a "dest" parameter, please add it.  If this is correct, you may wish' +
                        ' to change the "dest" parameter to "src/" or just ignore this warning.').magenta);
                }
<span class="cstat-no" title="statement not covered" >                if (Array.isArray(compilationInfo.dest)) {</span>
<span class="cstat-no" title="statement not covered" >                    if (compilationInfo.dest.length === 0) {</span>
                    }
                    else <span class="cstat-no" title="statement not covered" >if (compilationInfo.dest.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >                        console.warn((('WARNING: "dest" for target "' + options.targetName + '" is an array.  This is not supported by the' +</span>
                            ' TypeScript compiler or grunt-ts.' +
                            ((compilationInfo.dest.length &gt; 1) ? '  Only the first "dest" will be used.  The' +
                                ' remaining items will be truncated.' : ''))).magenta);
<span class="cstat-no" title="statement not covered" >                        args.push('--outDir', compilationInfo.dest[0]);</span>
                    }
                }
                else {
<span class="cstat-no" title="statement not covered" >                    args.push('--outDir', compilationInfo.dest);</span>
                }
            }
        }
<span class="cstat-no" title="statement not covered" >        if (args.indexOf('--out') &gt; -1 &amp;&amp; args.indexOf('--module') &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >            if (semver.satisfies(tscVersion, '&gt;=1.8.0')) {</span>
<span class="cstat-no" title="statement not covered" >                if ((options.module === 'system' || options.module === 'amd')) {</span>
                }
                else {
<span class="cstat-no" title="statement not covered" >                    console.warn(('WARNING: TypeScript 1.8+ requires "module" to be set to' +</span>
                        'system or amd for concatenation of external modules to work.').magenta);
                }
            }
            else {
<span class="cstat-no" title="statement not covered" >                console.warn(('WARNING: TypeScript &lt; 1.8 does not allow external modules to be concatenated with' +</span>
                    ' --out. Any exported code may be truncated.  See TypeScript issue #1544 for' +
                    ' more details.').magenta);
            }
        }
<span class="cstat-no" title="statement not covered" >        if (options.sourceRoot) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--sourceRoot', options.sourceRoot);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (options.mapRoot) {</span>
<span class="cstat-no" title="statement not covered" >            args.push('--mapRoot', options.mapRoot);</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    if (options.additionalFlags) {</span>
<span class="cstat-no" title="statement not covered" >        args.push(options.additionalFlags);</span>
    }
<span class="fstat-no" title="function not covered" >    function getTscVersion(tscPath) {</span>
<span class="cstat-no" title="statement not covered" >        var pkg = JSON.parse(fs.readFileSync(path.resolve(tscPath, '..', 'package.json')).toString());</span>
<span class="cstat-no" title="statement not covered" >        return '' + pkg.version;</span>
    }
    // To debug the tsc command
<span class="cstat-no" title="statement not covered" >    if (options.verbose) {</span>
<span class="cstat-no" title="statement not covered" >        console.log(args.join(' ').yellow);</span>
    }
    else {
<span class="cstat-no" title="statement not covered" >        exports.grunt.log.verbose.writeln(args.join(' ').yellow);</span>
    }
    // Create a temp last command file and use that to guide tsc.
    // Reason: passing all the files on the command line causes TSC to go in an infinite loop.
<span class="cstat-no" title="statement not covered" >    var tempfilename = utils.getTempFile('tscommand');</span>
<span class="cstat-no" title="statement not covered" >    if (!tempfilename) {</span>
<span class="cstat-no" title="statement not covered" >        throw (new Error('cannot create temp file'));</span>
    }
<span class="cstat-no" title="statement not covered" >    fs.writeFileSync(tempfilename, args.join(' '));</span>
<span class="cstat-no" title="statement not covered" >    var command;</span>
    // Switch implementation if a test version of executeNode exists.
<span class="cstat-no" title="statement not covered" >    if ('testExecute' in options) {</span>
<span class="cstat-no" title="statement not covered" >        if (_.isFunction(options.testExecute)) {</span>
<span class="cstat-no" title="statement not covered" >            command = [tsc, args.join(' ')];</span>
<span class="cstat-no" title="statement not covered" >            executeNode = options.testExecute;</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            var invalidTestExecuteError = 'Invalid testExecute node present on target "' +</span>
                options.targetName + '".  Value of testExecute must be a function.';
<span class="cstat-no" title="statement not covered" >            throw (new Error(invalidTestExecuteError));</span>
        }
    }
    else {
        // this is the normal path.
<span class="cstat-no" title="statement not covered" >        command = [tsc, '@' + tempfilename];</span>
<span class="cstat-no" title="statement not covered" >        executeNode = executeNodeDefault;</span>
    }
    // Execute command
<span class="cstat-no" title="statement not covered" >    return executeNode(command, options).then(<span class="fstat-no" title="function not covered" >function (result) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (compileResultMeansFastCacheShouldBeRefreshed(options, result)) {</span>
<span class="cstat-no" title="statement not covered" >            resetChangedFiles(newFiles, options.targetName);</span>
        }
<span class="cstat-no" title="statement not covered" >        result.fileCount = files.length;</span>
<span class="cstat-no" title="statement not covered" >        fs.unlinkSync(tempfilename);</span>
<span class="cstat-no" title="statement not covered" >        exports.grunt.log.writeln(result.output);</span>
<span class="cstat-no" title="statement not covered" >        return es6_promise_1.Promise.cast(result);</span>
    }, <span class="fstat-no" title="function not covered" >function (err) {</span>
<span class="cstat-no" title="statement not covered" >        fs.unlinkSync(tempfilename);</span>
<span class="cstat-no" title="statement not covered" >        throw err;</span>
    });
}
exports.compileAllFiles = compileAllFiles;
//# sourceMappingURL=compile.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/defaults.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header high">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/defaults.js</span></h1>
    <h2>
        
        Statements: <span class="metric">100% <small>(15 / 15)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">100% <small>(0 / 0)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">100% <small>(1 / 1)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">100% <small>(15 / 15)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; defaults.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
var utils = require('./utils');
var _ = require('lodash');
var TypeScriptDefaults = {
    allowBool: false,
    allowImportModule: false,
    allowSyntheticDefaultImports: null,
    amdloader: null,
    compile: true,
    declaration: false,
    emitDecoratorMetadata: false,
    experimentalDecorators: false,
    mapRoot: '',
    module: null,
    noImplicitAny: false,
    noResolve: false,
    comments: null,
    removeComments: null,
    sourceMap: true,
    sourceRoot: '',
    target: null,
    verbose: false,
    fast: null,
    watch: null,
    compiler: '',
    html: null,
    htmlModuleTemplate: null,
    htmlVarTemplate: null,
    htmlOutputTemplate: null,
    htmlOutDir: null,
    htmlOutDirFlatten: null,
    failOnTypeErrors: null,
    emitGruntEvents: null,
    noEmitOnError: false,
    preserveConstEnums: false,
    suppressExcessPropertyErrors: false,
    suppressImplicitAnyIndexErrors: false,
    stripInternal: false,
    noEmit: false,
    noLib: false,
    emitBOM: false,
    inlineSources: false,
    inlineSourceMap: false,
    newLine: utils.eol,
    isolatedModules: false,
    noEmitHelpers: false,
    additionalFlags: '',
    templateCache: null,
    targetName: '',
    locale: null,
    jsx: null,
    moduleResolution: null,
    experimentalAsyncFunctions: null,
    reactNamespace: null,
    skipDefaultLibCheck: null,
    pretty: false,
    allowUnusedLabels: false,
    noImplicitReturns: false,
    noFallthroughCasesInSwitch: false,
    allowUnreachableCode: false,
    forceConsistentCasingInFileNames: false,
    allowJs: false,
    noImplicitUseStrict: false,
    rootDir: null,
    warnings: [],
    errors: []
};
exports.GruntTSDefaults = applyGruntTSDefaults(_.clone(TypeScriptDefaults));
function applyGruntTSDefaults(options) {
    // this function applies defaults where grunt-ts differs from TypeScript
    options.sourceMap = true;
    options.target = 'es5';
    options.htmlModuleTemplate = '&lt;%= filename %&gt;';
    options.htmlVarTemplate = '&lt;%= ext %&gt;';
    options.htmlOutDirFlatten = false;
    options.fast = 'watch';
    options.removeComments = true;
    options.failOnTypeErrors = true;
    options.emitGruntEvents = false;
    return options;
}
//# sourceMappingURL=defaults.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/html2ts.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/html2ts.js</span></h1>
    <h2>
        
        Statements: <span class="metric">26.32% <small>(15 / 57)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 18)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 10)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">27.27% <small>(15 / 55)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; html2ts.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
"use strict";
var _ = require('lodash');
var fs = require('fs');
var path = require('path');
var utils = require('./utils');
var grunt = utils.grunt;
/////////////////////////////////////////////////////////////////////
// HTML -&gt; TS
////////////////////////////////////////////////////////////////////
// html -&gt; js processing functions:
// Originally from karma-html2js-preprocessor
// Refactored nicely in html2js grunt task
// https://github.com/karlgoldstein/grunt-html2js/blob/master/tasks/html2js.js
// Modified nlReplace to be an empty string
var escapeContent = <span class="fstat-no" title="function not covered" >function (content, quoteChar) {</span>
<span class="cstat-no" title="statement not covered" >    if (quoteChar === void 0) { <span class="cstat-no" title="statement not covered" >quoteChar = '\''; </span>}</span>
<span class="cstat-no" title="statement not covered" >    var quoteRegexp = new RegExp('\\' + quoteChar, 'g');</span>
<span class="cstat-no" title="statement not covered" >    var nlReplace = '';</span>
<span class="cstat-no" title="statement not covered" >    return content.replace(quoteRegexp, '\\' + quoteChar).replace(/\r?\n/g, nlReplace);</span>
};
// Convert a string to camelCase
// Inspired by http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/
// Solves the issue of serving a module name that includes dashes
var toCamel = <span class="fstat-no" title="function not covered" >function (str) {</span>
<span class="cstat-no" title="statement not covered" >    return str.replace(/(\-[a-z])/g, <span class="fstat-no" title="function not covered" >function ($1) {</span> <span class="cstat-no" title="statement not covered" >return $1.toUpperCase().replace('-', ''); </span>});</span>
};
// Remove bom when reading utf8 files
<span class="fstat-no" title="function not covered" >function stripBOM(str) {</span>
<span class="cstat-no" title="statement not covered" >    return 0xFEFF === str.charCodeAt(0)</span>
        ? str.substring(1)
        : str;
}
<span class="fstat-no" title="function not covered" >function htmlInternalTemplate(lineEnding) {</span>
<span class="cstat-no" title="statement not covered" >    return '/* tslint:disable:max-line-length */' + lineEnding +</span>
        'module &lt;%= modulename %&gt; {' + lineEnding +
        '  export var &lt;%= varname %&gt; = \'&lt;%= content %&gt;\';' + lineEnding +
        '}' + lineEnding;
}
;
// Compile an HTML file to a TS file
// Return the filename. This filename will be required by reference.ts
<span class="fstat-no" title="function not covered" >function compileHTML(filename, options) {</span>
<span class="cstat-no" title="statement not covered" >    grunt.log.verbose.writeln('Compiling HTML: ' + filename);</span>
<span class="cstat-no" title="statement not covered" >    var htmlContent = escapeContent(fs.readFileSync(filename).toString());</span>
<span class="cstat-no" title="statement not covered" >    htmlContent = stripBOM(htmlContent);</span>
    // TODO: place a minification pipeline here if you want.
<span class="cstat-no" title="statement not covered" >    var ext = path.extname(filename).replace('.', '');</span>
<span class="cstat-no" title="statement not covered" >    var extFreename = path.basename(filename, '.' + ext);</span>
<span class="cstat-no" title="statement not covered" >    var moduleName = toCamel(options.moduleFunction({ ext: ext, filename: extFreename }));</span>
<span class="cstat-no" title="statement not covered" >    var varName = toCamel(options.varFunction({ ext: ext, filename: extFreename }).replace(/\./g, '_'));</span>
<span class="cstat-no" title="statement not covered" >    var fileContent;</span>
<span class="cstat-no" title="statement not covered" >    if (!options.htmlOutputTemplate) {</span>
<span class="cstat-no" title="statement not covered" >        fileContent = _.template(htmlInternalTemplate(options.eol))({ modulename: moduleName, varname: varName, content: htmlContent });</span>
    }
    else {
<span class="cstat-no" title="statement not covered" >        fileContent = _.template(replaceNewLines(options.htmlOutputTemplate, options.eol))({ modulename: moduleName, varname: varName, content: htmlContent });</span>
    }
    // Write the content to a file
<span class="cstat-no" title="statement not covered" >    var outputfile = getOutputFile(filename, options.htmlOutDir, options.flatten);</span>
<span class="cstat-no" title="statement not covered" >    mkdirParent(path.dirname(outputfile));</span>
<span class="cstat-no" title="statement not covered" >    fs.writeFileSync(outputfile, fileContent);</span>
<span class="cstat-no" title="statement not covered" >    return outputfile;</span>
}
exports.compileHTML = compileHTML;
// Replace user-supplied templates newlines with newlines appropriate for the current OS
<span class="fstat-no" title="function not covered" >function replaceNewLines(input, newLines) {</span>
<span class="cstat-no" title="statement not covered" >    return input.replace(/\r/g, '').replace(/\n/g, newLines);</span>
}
<span class="fstat-no" title="function not covered" >function getOutputFile(filename, htmlOutDir, flatten) {</span>
<span class="cstat-no" title="statement not covered" >    var outputfile = filename;</span>
    // NOTE If an htmlOutDir was specified
<span class="cstat-no" title="statement not covered" >    if (htmlOutDir !== null) {</span>
<span class="cstat-no" title="statement not covered" >        var dir = getPath(htmlOutDir);</span>
<span class="cstat-no" title="statement not covered" >        if (fs.existsSync(dir)) {</span>
<span class="cstat-no" title="statement not covered" >            var relativeFilename = filename;</span>
<span class="cstat-no" title="statement not covered" >            if (flatten) {</span>
<span class="cstat-no" title="statement not covered" >                relativeFilename = path.basename(filename);</span>
            }
<span class="cstat-no" title="statement not covered" >            outputfile = path.join(dir, relativeFilename);</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    return outputfile + '.ts';</span>
}
<span class="fstat-no" title="function not covered" >function getPath(dir) {</span>
    // NOTE If we don't have a valid absolute path
<span class="cstat-no" title="statement not covered" >    if (!fs.existsSync(dir)) {</span>
        // NOTE Try relative from the current working directory
<span class="cstat-no" title="statement not covered" >        dir = path.join(process.cwd(), dir);</span>
    }
<span class="cstat-no" title="statement not covered" >    return dir;</span>
}
<span class="fstat-no" title="function not covered" >function mkdirParent(dirPath, mode) {</span>
    // NOTE Call the standard fs.mkdirSync
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >        fs.mkdirSync(dirPath, mode);</span>
    }
    catch (error) {
        // NOTE When it fail in this way, do the custom steps
<span class="cstat-no" title="statement not covered" >        if (error &amp;&amp; error.errno === 34) {</span>
            // NOTE Create all the parents recursively
<span class="cstat-no" title="statement not covered" >            mkdirParent(path.dirname(dirPath), mode);</span>
            // NOTE And then the directory
<span class="cstat-no" title="statement not covered" >            mkdirParent(dirPath, mode);</span>
        }
    }
}
//# sourceMappingURL=html2ts.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/optionsResolver.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/optionsResolver.js</span></h1>
    <h2>
        
        Statements: <span class="metric">11.51% <small>(29 / 252)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 225)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 31)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">11.79% <small>(29 / 246)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; optionsResolver.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
/// &lt;reference path="./interfaces.d.ts"/&gt;
'use strict';
var defaults_1 = require('./defaults');
var utils = require('./utils');
var _ = require('lodash');
var es6_promise_1 = require('es6-promise');
var visualStudioOptionsResolver_1 = require('./visualStudioOptionsResolver');
var tsconfig_1 = require('./tsconfig');
// Compiler Options documentation:
// https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Compiler%20Options.md
var propertiesFromTarget = ['amdloader', 'baseDir', 'html', 'htmlOutDir', 'htmlOutDirFlatten', 'reference', 'testExecute', 'tsconfig',
    'templateCache', 'vs', 'watch'], 
// purposefully not supported: help, version, charset, diagnostics, listFiles
// supported via other code: out, outDir, outFile, project
propertiesFromTargetOptions = ['additionalFlags', 'allowSyntheticDefaultImports', 'comments', 'compile', 'compiler', 'declaration',
    'emitBOM', 'emitDecoratorMetadata', 'experimentalDecorators', 'failOnTypeErrors', 'fast', 'htmlModuleTemplate', 'htmlOutDir',
    'htmlOutputTemplate', 'htmlOutDirFlatten', 'htmlVarTemplate', 'inlineSourceMap', 'inlineSources', 'isolatedModules', 'locale',
    'mapRoot', 'module', 'newLine', 'noEmit', 'noEmitHelpers', 'noEmitOnError', 'noImplicitAny', 'noLib', 'noResolve',
    'preserveConstEnums', 'removeComments', 'sourceRoot', 'sourceMap', 'stripInternal', 'suppressExcessPropertyErrors',
    'suppressImplicitAnyIndexErrors', 'target', 'verbose', 'jsx', 'moduleResolution', 'experimentalAsyncFunctions', 'rootDir',
    'emitGruntEvents', 'reactNamespace', 'skipDefaultLibCheck', 'pretty', 'allowUnusedLabels', 'noImplicitReturns',
    'noFallthroughCasesInSwitch', 'allowUnreachableCode', 'forceConsistentCasingInFileNames', 'allowJs', 'noImplicitUseStrict'], delayTemplateExpansion = ['htmlModuleTemplate', 'htmlVarTemplate', 'htmlOutputTemplate'];
var templateProcessor = null;
var globExpander = null;
<span class="fstat-no" title="function not covered" >function noopTemplateProcessor(templateString, options) {</span>
<span class="cstat-no" title="statement not covered" >    return templateString;</span>
}
<span class="fstat-no" title="function not covered" >function emptyGlobExpander(globs) {</span>
<span class="cstat-no" title="statement not covered" >    return [];</span>
}
emptyGlobExpander.isStub = true;
<span class="fstat-no" title="function not covered" >function resolveAsync(rawTaskOptions, rawTargetOptions, targetName, resolvedFiles, theTemplateProcessor, theGlobExpander) {</span>
<span class="cstat-no" title="statement not covered" >    if (targetName === void 0) { <span class="cstat-no" title="statement not covered" >targetName = ''; </span>}</span>
<span class="cstat-no" title="statement not covered" >    if (resolvedFiles === void 0) { <span class="cstat-no" title="statement not covered" >resolvedFiles = []; </span>}</span>
<span class="cstat-no" title="statement not covered" >    if (theTemplateProcessor === void 0) { <span class="cstat-no" title="statement not covered" >theTemplateProcessor = null; </span>}</span>
<span class="cstat-no" title="statement not covered" >    if (theGlobExpander === void 0) { <span class="cstat-no" title="statement not covered" >theGlobExpander = null; </span>}</span>
<span class="cstat-no" title="statement not covered" >    var result = emptyOptionsResolveResult();</span>
<span class="cstat-no" title="statement not covered" >    return new es6_promise_1.Promise(<span class="fstat-no" title="function not covered" >function (resolve, reject) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (theTemplateProcessor &amp;&amp; typeof theTemplateProcessor === 'function') {</span>
<span class="cstat-no" title="statement not covered" >            templateProcessor = theTemplateProcessor;</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            templateProcessor = noopTemplateProcessor;</span>
        }
<span class="cstat-no" title="statement not covered" >        if (theGlobExpander &amp;&amp; typeof theGlobExpander === 'function') {</span>
<span class="cstat-no" title="statement not covered" >            globExpander = theGlobExpander;</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            globExpander = emptyGlobExpander;</span>
        }
<span class="cstat-no" title="statement not covered" >        fixMissingOptions(rawTaskOptions);</span>
<span class="cstat-no" title="statement not covered" >        fixMissingOptions(rawTargetOptions);</span>
        {
<span class="cstat-no" title="statement not covered" >            var _a = resolveAndWarnOnConfigurationIssues(rawTaskOptions, rawTargetOptions, targetName), errors = _a.errors, warnings = _a.warnings;</span>
<span class="cstat-no" title="statement not covered" >            (_b = result.errors).push.apply(_b, errors);</span>
<span class="cstat-no" title="statement not covered" >            (_c = result.warnings).push.apply(_c, warnings);</span>
        }
<span class="cstat-no" title="statement not covered" >        result = applyGruntOptions(result, rawTaskOptions);</span>
<span class="cstat-no" title="statement not covered" >        result = applyGruntOptions(result, rawTargetOptions);</span>
<span class="cstat-no" title="statement not covered" >        result = copyCompilationTasks(result, resolvedFiles, resolveOutputOptions(rawTaskOptions, rawTargetOptions));</span>
<span class="cstat-no" title="statement not covered" >        visualStudioOptionsResolver_1.resolveVSOptionsAsync(result, rawTaskOptions, rawTargetOptions, templateProcessor).then(<span class="fstat-no" title="function not covered" >function (result) {</span></span>
<span class="cstat-no" title="statement not covered" >            tsconfig_1.resolveAsync(result, rawTaskOptions, rawTargetOptions, templateProcessor, globExpander).then(<span class="fstat-no" title="function not covered" >function (result) {</span></span>
<span class="cstat-no" title="statement not covered" >                result = addressAssociatedOptionsAndResolveConflicts(result);</span>
<span class="cstat-no" title="statement not covered" >                result = enclosePathsInQuotesIfRequired(result);</span>
<span class="cstat-no" title="statement not covered" >                result = logAdditionalConfigurationWarnings(result);</span>
<span class="cstat-no" title="statement not covered" >                result = applyGruntTSDefaults(result);</span>
<span class="cstat-no" title="statement not covered" >                if (result.targetName === undefined ||</span>
                    (!result.targetName &amp;&amp; targetName)) {
<span class="cstat-no" title="statement not covered" >                    result.targetName = targetName;</span>
                }
<span class="cstat-no" title="statement not covered" >                return resolve(result);</span>
            }).catch(<span class="fstat-no" title="function not covered" >function (tsConfigError) {</span>
<span class="cstat-no" title="statement not covered" >                result.errors.push('tsconfig error: ' + JSON.stringify(tsConfigError));</span>
<span class="cstat-no" title="statement not covered" >                return resolve(result);</span>
            });
        }).catch(<span class="fstat-no" title="function not covered" >function (vsConfigError) {</span>
<span class="cstat-no" title="statement not covered" >            result.errors.push('Visual Studio config issue: ' + JSON.stringify(vsConfigError));</span>
<span class="cstat-no" title="statement not covered" >            return resolve(result);</span>
        });
<span class="cstat-no" title="statement not covered" >        var _b, _c;</span>
    });
}
exports.resolveAsync = resolveAsync;
<span class="fstat-no" title="function not covered" >function resolveOutputOptions(rawTaskOptions, rawTargetOptions) {</span>
<span class="cstat-no" title="statement not covered" >    var result = {};</span>
<span class="cstat-no" title="statement not covered" >    var props = ['outDir', 'out'];</span>
<span class="cstat-no" title="statement not covered" >    var options = [rawTaskOptions, rawTargetOptions];</span>
<span class="cstat-no" title="statement not covered" >    options.forEach(<span class="fstat-no" title="function not covered" >function (opt) {</span></span>
<span class="cstat-no" title="statement not covered" >        props.forEach(<span class="fstat-no" title="function not covered" >function (prop) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (opt &amp;&amp; (prop in opt)) {</span>
<span class="cstat-no" title="statement not covered" >                result[prop] = opt[prop];</span>
            }
        });
    });
<span class="cstat-no" title="statement not covered" >    return result;</span>
}
<span class="fstat-no" title="function not covered" >function fixMissingOptions(config) {</span>
<span class="cstat-no" title="statement not covered" >    if (config &amp;&amp; !config.options) {</span>
<span class="cstat-no" title="statement not covered" >        config.options = {};</span>
    }
}
<span class="fstat-no" title="function not covered" >function emptyOptionsResolveResult() {</span>
<span class="cstat-no" title="statement not covered" >    return {</span>
        warnings: [],
        errors: []
    };
}
<span class="fstat-no" title="function not covered" >function logAdditionalConfigurationWarnings(options) {</span>
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function resolveAndWarnOnConfigurationIssues(task, target, targetName) {</span>
<span class="cstat-no" title="statement not covered" >    var errors = [], warnings = [];</span>
<span class="cstat-no" title="statement not covered" >    var lowercaseTargetProps = _.map(propertiesFromTarget, <span class="fstat-no" title="function not covered" >function (prop) {</span> <span class="cstat-no" title="statement not covered" >return prop.toLocaleLowerCase(); </span>});</span>
<span class="cstat-no" title="statement not covered" >    var lowercaseTargetOptionsProps = _.map(propertiesFromTargetOptions, <span class="fstat-no" title="function not covered" >function (prop) {</span> <span class="cstat-no" title="statement not covered" >return prop.toLocaleLowerCase(); </span>});</span>
<span class="cstat-no" title="statement not covered" >    checkFixableCaseIssues(task, 'ts task');</span>
<span class="cstat-no" title="statement not covered" >    checkFixableCaseIssues(target, "target \"" + targetName + "\"");</span>
<span class="cstat-no" title="statement not covered" >    checkLocations(task, 'ts task');</span>
<span class="cstat-no" title="statement not covered" >    checkLocations(target, "target \"" + targetName + "\"");</span>
<span class="cstat-no" title="statement not covered" >    fixFilesUsedWithFast(task, 'ts task');</span>
<span class="cstat-no" title="statement not covered" >    fixFilesUsedWithFast(target, "target \"" + targetName + "\"");</span>
<span class="cstat-no" title="statement not covered" >    warnings.push.apply(warnings, getAdditionalWarnings(task, target, targetName));</span>
<span class="cstat-no" title="statement not covered" >    return { errors: errors, warnings: warnings };</span>
<span class="fstat-no" title="function not covered" >    function getAdditionalWarnings(task, target, targetName) {</span>
<span class="cstat-no" title="statement not covered" >        var additionalWarnings = [];</span>
<span class="cstat-no" title="statement not covered" >        if (propertiesFromTarget.indexOf(targetName) &gt;= 0) {</span>
<span class="cstat-no" title="statement not covered" >            additionalWarnings.push(("Warning: Using the grunt-ts keyword \"" + targetName + "\" as a target name may cause ") +</span>
                "incorrect behavior or errors.");
        }
<span class="cstat-no" title="statement not covered" >        if (((task &amp;&amp; task.src &amp;&amp; targetName !== 'src') || (target &amp;&amp; target.src)) &amp;&amp;</span>
            ((task &amp;&amp; task.files) || (target &amp;&amp; target.files))) {
<span class="cstat-no" title="statement not covered" >            additionalWarnings.push("Warning: In task \"" + targetName + "\", either \"files\" or \"src\" should be used - not both.");</span>
        }
<span class="cstat-no" title="statement not covered" >        if (((task &amp;&amp; task.vs) || (target &amp;&amp; target.vs)) &amp;&amp;</span>
            ((task &amp;&amp; task.files) || (target &amp;&amp; target.files))) {
<span class="cstat-no" title="statement not covered" >            additionalWarnings.push("Warning: In task \"" + targetName + "\", either \"files\" or \"vs\" should be used - not both.");</span>
        }
<span class="cstat-no" title="statement not covered" >        if (usingDestArray(task) || usingDestArray(target)) {</span>
<span class="cstat-no" title="statement not covered" >            additionalWarnings.push(("Warning: target \"" + targetName + "\" has an array specified for the files.dest property.") +</span>
                "  This is not supported.  Taking first element and ignoring the rest.");
        }
<span class="cstat-no" title="statement not covered" >        if ((task &amp;&amp; task.outFile) || (target &amp;&amp; target.outFile)) {</span>
<span class="cstat-no" title="statement not covered" >            additionalWarnings.push(("Warning: target \"" + targetName + "\" is using \"outFile\".  This is not supported by") +</span>
                " grunt-ts via the Gruntfile - it's only relevant when present in tsconfig.json file.  Use \"out\" instead.");
        }
<span class="cstat-no" title="statement not covered" >        return additionalWarnings;</span>
<span class="fstat-no" title="function not covered" >        function usingDestArray(task) {</span>
<span class="cstat-no" title="statement not covered" >            var result = false;</span>
<span class="cstat-no" title="statement not covered" >            if (task &amp;&amp; task.files &amp;&amp; _.isArray(task.files)) {</span>
<span class="cstat-no" title="statement not covered" >                task.files.forEach(<span class="fstat-no" title="function not covered" >function (item) {</span></span>
<span class="cstat-no" title="statement not covered" >                    if (_.isArray(item.dest)) {</span>
<span class="cstat-no" title="statement not covered" >                        result = true;</span>
                    }
                    ;
                });
            }
<span class="cstat-no" title="statement not covered" >            return result;</span>
        }
    }
<span class="fstat-no" title="function not covered" >    function fixFilesUsedWithFast(task, configName) {</span>
<span class="cstat-no" title="statement not covered" >        if (task &amp;&amp; task.files &amp;&amp; task.options &amp;&amp; task.options.fast) {</span>
<span class="cstat-no" title="statement not covered" >            warnings.push(("Warning: " + configName + " is attempting to use fast compilation with \"files\".  ") +</span>
                "This is not currently supported.  Setting \"fast\" to \"never\".");
<span class="cstat-no" title="statement not covered" >            task.options.fast = 'never';</span>
        }
    }
<span class="fstat-no" title="function not covered" >    function checkLocations(task, configName) {</span>
        // todo: clean this up.  The top and bottom sections are largely the same.
<span class="cstat-no" title="statement not covered" >        if (task) {</span>
<span class="cstat-no" title="statement not covered" >            for (var propertyName in task) {</span>
<span class="cstat-no" title="statement not covered" >                if (propertiesFromTarget.indexOf(propertyName) === -1 &amp;&amp; propertyName !== 'options') {</span>
<span class="cstat-no" title="statement not covered" >                    if (propertiesFromTargetOptions.indexOf(propertyName) &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >                        var warningText = ("Property \"" + propertyName + "\" in " + configName + " is possibly in the wrong place and will be ignored.  ") +</span>
                            "It is expected on the options object.";
<span class="cstat-no" title="statement not covered" >                        warnings.push(warningText);</span>
                    }
                    else <span class="cstat-no" title="statement not covered" >if (lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase()) === -1</span>
                        &amp;&amp; lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase()) &gt; -1) {
<span class="cstat-no" title="statement not covered" >                        var index = lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase());</span>
<span class="cstat-no" title="statement not covered" >                        var correctPropertyName = propertiesFromTargetOptions[index];</span>
<span class="cstat-no" title="statement not covered" >                        var warningText = ("Property \"" + propertyName + "\" in " + configName + " is possibly in the wrong place and will be ignored.  ") +</span>
                            ("It is expected on the options object.  It is also the wrong case and should be " + correctPropertyName + ".");
<span class="cstat-no" title="statement not covered" >                        warnings.push(warningText);</span>
                    }
                }
            }
<span class="cstat-no" title="statement not covered" >            if (task.options) {</span>
<span class="cstat-no" title="statement not covered" >                for (var propertyName in task.options) {</span>
<span class="cstat-no" title="statement not covered" >                    if (propertiesFromTargetOptions.indexOf(propertyName) === -1) {</span>
<span class="cstat-no" title="statement not covered" >                        if (propertiesFromTarget.indexOf(propertyName) &gt; -1) {</span>
<span class="cstat-no" title="statement not covered" >                            var warningText = ("Property \"" + propertyName + "\" in " + configName + " is possibly in the wrong place and will be ignored.  ") +</span>
                                "It is expected on the task or target, not under options.";
<span class="cstat-no" title="statement not covered" >                            warnings.push(warningText);</span>
                        }
                        else <span class="cstat-no" title="statement not covered" >if (lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase()) === -1</span>
                            &amp;&amp; lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase()) &gt; -1) {
<span class="cstat-no" title="statement not covered" >                            var index = lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase());</span>
<span class="cstat-no" title="statement not covered" >                            var correctPropertyName = propertiesFromTarget[index];</span>
<span class="cstat-no" title="statement not covered" >                            var warningText = ("Property \"" + propertyName + "\" in " + configName + " is possibly in the wrong place and will be ignored.  ") +</span>
                                ("It is expected on the task or target, not under options.  It is also the wrong case and should be " + correctPropertyName + ".");
<span class="cstat-no" title="statement not covered" >                            warnings.push(warningText);</span>
                        }
                    }
                }
            }
        }
    }
<span class="fstat-no" title="function not covered" >    function checkFixableCaseIssues(task, configName) {</span>
<span class="cstat-no" title="statement not covered" >        if (task) {</span>
<span class="cstat-no" title="statement not covered" >            for (var propertyName in task) {</span>
<span class="cstat-no" title="statement not covered" >                if ((propertiesFromTarget.indexOf(propertyName) === -1)</span>
                    &amp;&amp; (lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase()) &gt; -1)
                    &amp;&amp; (propertiesFromTargetOptions.indexOf(propertyName) === -1)) {
<span class="cstat-no" title="statement not covered" >                    var index = lowercaseTargetProps.indexOf(propertyName.toLocaleLowerCase());</span>
<span class="cstat-no" title="statement not covered" >                    var correctPropertyName = propertiesFromTarget[index];</span>
<span class="cstat-no" title="statement not covered" >                    var warningText = ("Property \"" + propertyName + "\" in " + configName + " is incorrectly cased; it should ") +</span>
                        ("be \"" + correctPropertyName + "\".  Fixing it for you and proceeding.");
<span class="cstat-no" title="statement not covered" >                    warnings.push(warningText);</span>
<span class="cstat-no" title="statement not covered" >                    task[correctPropertyName] = task[propertyName];</span>
<span class="cstat-no" title="statement not covered" >                    delete task[propertyName];</span>
                }
            }
<span class="cstat-no" title="statement not covered" >            for (var propertyName in task.options) {</span>
<span class="cstat-no" title="statement not covered" >                if ((propertiesFromTargetOptions.indexOf(propertyName) === -1)</span>
                    &amp;&amp; (lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase()) &gt; -1)
                    &amp;&amp; (propertiesFromTarget.indexOf(propertyName) === -1)) {
<span class="cstat-no" title="statement not covered" >                    var index = lowercaseTargetOptionsProps.indexOf(propertyName.toLocaleLowerCase());</span>
<span class="cstat-no" title="statement not covered" >                    var correctPropertyName = propertiesFromTargetOptions[index];</span>
<span class="cstat-no" title="statement not covered" >                    var warningText = ("Property \"" + propertyName + "\" in " + configName + " options is incorrectly cased; it should ") +</span>
                        ("be \"" + correctPropertyName + "\".  Fixing it for you and proceeding.");
<span class="cstat-no" title="statement not covered" >                    warnings.push(warningText);</span>
<span class="cstat-no" title="statement not covered" >                    task.options[correctPropertyName] = task.options[propertyName];</span>
<span class="cstat-no" title="statement not covered" >                    delete task.options[propertyName];</span>
                }
            }
        }
    }
}
<span class="fstat-no" title="function not covered" >function applyGruntOptions(applyTo, gruntOptions) {</span>
<span class="cstat-no" title="statement not covered" >    if (gruntOptions) {</span>
<span class="cstat-no" title="statement not covered" >        for (var _i = 0, propertiesFromTarget_1 = propertiesFromTarget; _i &lt; propertiesFromTarget_1.length; _i++) {</span>
<span class="cstat-no" title="statement not covered" >            var propertyName = propertiesFromTarget_1[_i];</span>
<span class="cstat-no" title="statement not covered" >            if (propertyName in gruntOptions &amp;&amp; propertyName !== 'vs') {</span>
<span class="cstat-no" title="statement not covered" >                if (typeof gruntOptions[propertyName] === 'string' &amp;&amp; utils.hasValue(gruntOptions[propertyName]) &amp;&amp;</span>
                    delayTemplateExpansion.indexOf(propertyName) === -1) {
<span class="cstat-no" title="statement not covered" >                    applyTo[propertyName] = templateProcessor(gruntOptions[propertyName], {});</span>
                }
                else {
<span class="cstat-no" title="statement not covered" >                    applyTo[propertyName] = gruntOptions[propertyName];</span>
                }
            }
        }
<span class="cstat-no" title="statement not covered" >        if (gruntOptions.options) {</span>
<span class="cstat-no" title="statement not covered" >            for (var _a = 0, propertiesFromTargetOptions_1 = propertiesFromTargetOptions; _a &lt; propertiesFromTargetOptions_1.length; _a++) {</span>
<span class="cstat-no" title="statement not covered" >                var propertyName = propertiesFromTargetOptions_1[_a];</span>
<span class="cstat-no" title="statement not covered" >                if (propertyName in gruntOptions.options) {</span>
<span class="cstat-no" title="statement not covered" >                    if (typeof gruntOptions.options[propertyName] === 'string' &amp;&amp; utils.hasValue(gruntOptions.options[propertyName]) &amp;&amp;</span>
                        delayTemplateExpansion.indexOf(propertyName) === -1) {
<span class="cstat-no" title="statement not covered" >                        applyTo[propertyName] = templateProcessor(gruntOptions.options[propertyName], {});</span>
                    }
                    else {
<span class="cstat-no" title="statement not covered" >                        applyTo[propertyName] = gruntOptions.options[propertyName];</span>
                    }
                }
            }
        }
    }
<span class="cstat-no" title="statement not covered" >    return applyTo;</span>
}
<span class="fstat-no" title="function not covered" >function copyCompilationTasks(options, resolvedFiles, outputInfo) {</span>
<span class="cstat-no" title="statement not covered" >    if (!utils.hasValue(options.CompilationTasks)) {</span>
<span class="cstat-no" title="statement not covered" >        options.CompilationTasks = [];</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!utils.hasValue(resolvedFiles) || resolvedFiles.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >        if (options.CompilationTasks.length === 0 &amp;&amp; (('outDir' in outputInfo) || ('out' in outputInfo))) {</span>
<span class="cstat-no" title="statement not covered" >            var newCompilationTask = {</span>
                src: []
            };
<span class="cstat-no" title="statement not covered" >            if ('outDir' in outputInfo) {</span>
<span class="cstat-no" title="statement not covered" >                newCompilationTask.outDir = outputInfo.outDir;</span>
            }
<span class="cstat-no" title="statement not covered" >            if ('out' in outputInfo) {</span>
<span class="cstat-no" title="statement not covered" >                newCompilationTask.outDir = outputInfo.outDir;</span>
            }
<span class="cstat-no" title="statement not covered" >            options.CompilationTasks.push(newCompilationTask);</span>
        }
<span class="cstat-no" title="statement not covered" >        return options;</span>
    }
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; resolvedFiles.length; i += 1) {</span>
<span class="cstat-no" title="statement not covered" >        var glob = void 0;</span>
<span class="cstat-no" title="statement not covered" >        var orig = resolvedFiles[i].orig;</span>
<span class="cstat-no" title="statement not covered" >        if (orig &amp;&amp; ('src' in orig)) {</span>
<span class="cstat-no" title="statement not covered" >            glob = [].concat(orig.src);</span>
        }
<span class="cstat-no" title="statement not covered" >        var compilationSet = {</span>
            src: _.map(resolvedFiles[i].src, <span class="fstat-no" title="function not covered" >function (fileName) {</span> <span class="cstat-no" title="statement not covered" >return utils.enclosePathInQuotesIfRequired(fileName); </span>}),
            out: utils.enclosePathInQuotesIfRequired(resolvedFiles[i].out),
            outDir: utils.enclosePathInQuotesIfRequired(resolvedFiles[i].outDir),
            glob: glob
        };
<span class="cstat-no" title="statement not covered" >        if ('dest' in resolvedFiles[i] &amp;&amp; resolvedFiles[i].dest) {</span>
<span class="cstat-no" title="statement not covered" >            var dest = void 0;</span>
<span class="cstat-no" title="statement not covered" >            if (_.isArray(resolvedFiles[i].dest)) {</span>
                // using an array for dest is not supported.  Only take first element.
<span class="cstat-no" title="statement not covered" >                dest = resolvedFiles[i].dest[0];</span>
            }
            else {
<span class="cstat-no" title="statement not covered" >                dest = resolvedFiles[i].dest;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (utils.isJavaScriptFile(dest)) {</span>
<span class="cstat-no" title="statement not covered" >                compilationSet.out = dest;</span>
            }
            else {
<span class="cstat-no" title="statement not covered" >                compilationSet.outDir = dest;</span>
            }
        }
<span class="cstat-no" title="statement not covered" >        options.CompilationTasks.push(compilationSet);</span>
    }
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function enclosePathsInQuotesIfRequired(options) {</span>
<span class="cstat-no" title="statement not covered" >    if (options.rootDir) {</span>
<span class="cstat-no" title="statement not covered" >        options.rootDir = utils.enclosePathInQuotesIfRequired(options.rootDir);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (options.mapRoot) {</span>
<span class="cstat-no" title="statement not covered" >        options.mapRoot = utils.enclosePathInQuotesIfRequired(options.mapRoot);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (options.sourceRoot) {</span>
<span class="cstat-no" title="statement not covered" >        options.sourceRoot = utils.enclosePathInQuotesIfRequired(options.sourceRoot);</span>
    }
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function addressAssociatedOptionsAndResolveConflicts(options) {</span>
<span class="cstat-no" title="statement not covered" >    if (options.emitDecoratorMetadata) {</span>
<span class="cstat-no" title="statement not covered" >        options.experimentalDecorators = true;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (options.inlineSourceMap &amp;&amp; options.sourceMap) {</span>
<span class="cstat-no" title="statement not covered" >        options.warnings.push('TypeScript cannot use inlineSourceMap and sourceMap together.  Ignoring sourceMap.');</span>
<span class="cstat-no" title="statement not covered" >        options.sourceMap = false;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (options.inlineSources &amp;&amp; !options.sourceMap) {</span>
<span class="cstat-no" title="statement not covered" >        options.inlineSources = true;</span>
<span class="cstat-no" title="statement not covered" >        options.inlineSourceMap = true;</span>
<span class="cstat-no" title="statement not covered" >        options.sourceMap = false;</span>
    }
<span class="cstat-no" title="statement not covered" >    if ('comments' in options &amp;&amp; 'removeComments' in options) {</span>
<span class="cstat-no" title="statement not covered" >        options.warnings.push("WARNING: Option \"comments\" and \"removeComments\" should not be used together.  " +</span>
            ("The --removeComments value of " + !!options.removeComments + " supercedes the --comments value of " + !!options.comments));
    }
<span class="cstat-no" title="statement not covered" >    if ('comments' in options &amp;&amp; !('removeComments' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.comments = !!options.comments;</span>
<span class="cstat-no" title="statement not covered" >        options.removeComments = !options.comments;</span>
    }
    else <span class="cstat-no" title="statement not covered" >if (!('comments' in options) &amp;&amp; ('removeComments' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.removeComments = !!options.removeComments;</span>
<span class="cstat-no" title="statement not covered" >        options.comments = !options.removeComments;</span>
    }
<span class="cstat-no" title="statement not covered" >    if ('html' in options &amp;&amp;</span>
        (options.CompilationTasks.length === 0 ||
            !_.some(options.CompilationTasks, <span class="fstat-no" title="function not covered" >function (item) {</span> <span class="cstat-no" title="statement not covered" >return ((item.src || []).length &gt; 0 || (item.glob || []).length &gt; 0); </span>}))) {
<span class="cstat-no" title="statement not covered" >        options.errors.push("ERROR: option \"html\" provided without corresponding TypeScript source files or glob to " +</span>
            "compile.  The transform will not occur unless grunt-ts also expects to compile some files.");
    }
<span class="cstat-no" title="statement not covered" >    options.CompilationTasks.forEach(<span class="fstat-no" title="function not covered" >function (compileTask) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (compileTask.out &amp;&amp; compileTask.outDir) {</span>
<span class="cstat-no" title="statement not covered" >            options.warnings.push('The parameter `out` is incompatible with `outDir`; pass one or the other - not both.  Ignoring `out` and using `outDir`.');</span>
<span class="cstat-no" title="statement not covered" >            compileTask.out = '';</span>
        }
    });
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function applyGruntTSDefaults(options) {</span>
<span class="cstat-no" title="statement not covered" >    if (!('sourceMap' in options) &amp;&amp; !('inlineSourceMap' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.sourceMap = defaults_1.GruntTSDefaults.sourceMap;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('target' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.target = defaults_1.GruntTSDefaults.target;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('fast' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.fast = defaults_1.GruntTSDefaults.fast;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('compile' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.compile = defaults_1.GruntTSDefaults.compile;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('htmlOutDir' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.htmlOutDir = null;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('htmlOutDirFlatten' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.htmlOutDirFlatten = defaults_1.GruntTSDefaults.htmlOutDirFlatten;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('htmlModuleTemplate' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.htmlModuleTemplate = defaults_1.GruntTSDefaults.htmlModuleTemplate;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('htmlVarTemplate' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.htmlVarTemplate = defaults_1.GruntTSDefaults.htmlVarTemplate;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('removeComments' in options) &amp;&amp; !('comments' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.removeComments = defaults_1.GruntTSDefaults.removeComments;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('failOnTypeErrors' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.failOnTypeErrors = defaults_1.GruntTSDefaults.failOnTypeErrors;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!('emitGruntEvents' in options)) {</span>
<span class="cstat-no" title="statement not covered" >        options.emitGruntEvents = defaults_1.GruntTSDefaults.emitGruntEvents;</span>
    }
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
//# sourceMappingURL=optionsResolver.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/reference.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/reference.js</span></h1>
    <h2>
        
        Statements: <span class="metric">12.5% <small>(7 / 56)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 16)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">12.73% <small>(7 / 55)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; reference.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
"use strict";
var _ = require('lodash');
var _str = require('underscore.string');
var fs = require('fs');
var grunt = require('grunt');
var utils = require('./utils');
/////////////////////////////////////////////////////////////////////
// Reference file logic
////////////////////////////////////////////////////////////////////
// Updates the reference file
<span class="fstat-no" title="function not covered" >function updateReferenceFile(files, generatedFiles, referenceFile, referencePath, eol) {</span>
<span class="cstat-no" title="statement not covered" >    var referenceIntro = '/// &lt;reference path="';</span>
<span class="cstat-no" title="statement not covered" >    var referenceEnd = '" /&gt;';</span>
<span class="cstat-no" title="statement not covered" >    var referenceMatch = /\/\/\/ &lt;reference path=\"(.*?)\"/;</span>
<span class="cstat-no" title="statement not covered" >    var ourSignatureStart = '//grunt-start';</span>
<span class="cstat-no" title="statement not covered" >    var ourSignatureEnd = '//grunt-end';</span>
    // remove the generated files from files:
<span class="cstat-no" title="statement not covered" >    files = _.difference(files, generatedFiles);</span>
<span class="cstat-no" title="statement not covered" >    var lines = []; </span>// All lines of the file
<span class="cstat-no" title="statement not covered" >    var origFileLines = []; </span>// The lines we do not modify and send out as is. Lines will we reach grunt-ts generated
<span class="cstat-no" title="statement not covered" >    var origFileReferences = []; </span>// The list of files already there that we do not need to manage
    // Location of our generated references
    // By default at start of file
<span class="cstat-no" title="statement not covered" >    var signatureSectionPosition = 0;</span>
<span class="cstat-no" title="statement not covered" >    var i;</span>
    // Read the original file if it exists
<span class="cstat-no" title="statement not covered" >    var referenceContents = '';</span>
<span class="cstat-no" title="statement not covered" >    if (fs.existsSync(referenceFile)) {</span>
<span class="cstat-no" title="statement not covered" >        referenceContents = fs.readFileSync(referenceFile).toString();</span>
<span class="cstat-no" title="statement not covered" >        lines = referenceContents.split(/\r\n|\r|\n/);</span>
<span class="cstat-no" title="statement not covered" >        var inSignatureSection = false;</span>
        // By default our signature goes at end of file
<span class="cstat-no" title="statement not covered" >        signatureSectionPosition = lines.length;</span>
<span class="cstat-no" title="statement not covered" >        for (i = 0; i &lt; lines.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            var line = _str.trim(lines[i]);</span>
            // Skip logic for our generated section
<span class="cstat-no" title="statement not covered" >            if (_str.include(line, ourSignatureStart)) {</span>
                // Wait for the end signature:
<span class="cstat-no" title="statement not covered" >                signatureSectionPosition = i;</span>
<span class="cstat-no" title="statement not covered" >                inSignatureSection = true;</span>
<span class="cstat-no" title="statement not covered" >                continue;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (_str.include(line, ourSignatureEnd)) {</span>
<span class="cstat-no" title="statement not covered" >                inSignatureSection = false;</span>
<span class="cstat-no" title="statement not covered" >                continue;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (inSignatureSection) {</span>
<span class="cstat-no" title="statement not covered" >                continue;</span>
            }
            // store the line
<span class="cstat-no" title="statement not covered" >            origFileLines.push(line);</span>
            // Fetch the existing reference's filename if any:
<span class="cstat-no" title="statement not covered" >            if (_str.include(line, referenceIntro)) {</span>
<span class="cstat-no" title="statement not covered" >                var match = line.match(referenceMatch);</span>
<span class="cstat-no" title="statement not covered" >                var filename = match[1];</span>
<span class="cstat-no" title="statement not covered" >                origFileReferences.push(filename);</span>
            }
        }
    }
    // Put in the generated files
<span class="cstat-no" title="statement not covered" >    generatedFiles = _.map(generatedFiles, <span class="fstat-no" title="function not covered" >function (file) {</span> <span class="cstat-no" title="statement not covered" >return referenceIntro + utils.makeRelativePath(referencePath, file) + referenceEnd; </span>});</span>
<span class="cstat-no" title="statement not covered" >    var contents = utils.insertArrayAt([ourSignatureStart], 1, generatedFiles);</span>
    // Put in the new / observed missing files:
<span class="cstat-no" title="statement not covered" >    files.forEach(<span class="fstat-no" title="function not covered" >function (filename) {</span></span>
        // The file we are about to add
<span class="cstat-no" title="statement not covered" >        var filepath = utils.makeRelativePath(referencePath, filename);</span>
        // If there are orig references
<span class="cstat-no" title="statement not covered" >        if (origFileReferences.length) {</span>
<span class="cstat-no" title="statement not covered" >            if (_.contains(origFileReferences, filepath)) {</span>
<span class="cstat-no" title="statement not covered" >                return;</span>
            }
        }
        // Finally add the filepath
<span class="cstat-no" title="statement not covered" >        contents.push(referenceIntro + filepath + referenceEnd);</span>
    });
<span class="cstat-no" title="statement not covered" >    contents.push(ourSignatureEnd);</span>
<span class="cstat-no" title="statement not covered" >    var updatedFileLines = utils.insertArrayAt(origFileLines, signatureSectionPosition, contents);</span>
<span class="cstat-no" title="statement not covered" >    var updatedFileContents = updatedFileLines.join(eol);</span>
    // Modify the orig contents to put in our contents only if changed
    // Also Return whether the file was changed
<span class="cstat-no" title="statement not covered" >    if (updatedFileContents !== referenceContents) {</span>
<span class="cstat-no" title="statement not covered" >        grunt.file.write(referenceFile, updatedFileContents);</span>
<span class="cstat-no" title="statement not covered" >        return true;</span>
    }
    else {
<span class="cstat-no" title="statement not covered" >        return false;</span>
    }
}
exports.updateReferenceFile = updateReferenceFile;
//# sourceMappingURL=reference.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/templateCache.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/templateCache.js</span></h1>
    <h2>
        
        Statements: <span class="metric">22.22% <small>(6 / 27)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 6)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 5)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">26.09% <small>(6 / 23)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; templateCache.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
"use strict";
var _ = require('lodash');
var fs = require('fs');
var path = require('path');
var utils = require('./utils');
/////////////////////////////////////////////////////////////////////
// AngularJS templateCache
////////////////////////////////////////////////////////////////////
// templateCache processing function
<span class="fstat-no" title="function not covered" >function generateTemplateCache(src, dest, basePath, eol) {</span>
<span class="cstat-no" title="statement not covered" >    if (!src.length) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
    // Resolve the relative path from basePath to each src file
<span class="cstat-no" title="statement not covered" >    var relativePaths = _.map(src, <span class="fstat-no" title="function not covered" >function (anHtmlFile) {</span> <span class="cstat-no" title="statement not covered" >return 'text!' + utils.makeRelativePath(basePath, anHtmlFile); </span>});</span>
<span class="cstat-no" title="statement not covered" >    var fileNames = _.map(src, <span class="fstat-no" title="function not covered" >function (anHtmlFile) {</span> <span class="cstat-no" title="statement not covered" >return path.basename(anHtmlFile); </span>});</span>
<span class="cstat-no" title="statement not covered" >    var fileVarialbeName = <span class="fstat-no" title="function not covered" >function (anHtmlFile) {</span> <span class="cstat-no" title="statement not covered" >return anHtmlFile.split('.').join('_').split('-').join('_'); </span>};</span>
<span class="cstat-no" title="statement not covered" >    var fileVariableNames = _.map(fileNames, fileVarialbeName);</span>
<span class="cstat-no" title="statement not covered" >    var templateCacheTemplate = _.template('// You must have requirejs + text plugin loaded for this to work.'</span>
        + eol + 'define([&lt;%=relativePathSection%&gt;],function(&lt;%=fileNameVariableSection%&gt;){'
        + eol + 'angular.module("ng").run(["$templateCache",function($templateCache) {'
        + eol + '&lt;%=templateCachePut%&gt;'
        + eol + '}]);'
        + eol + '});');
<span class="cstat-no" title="statement not covered" >    var relativePathSection = '"' + relativePaths.join('",' + eol + '"') + '"';</span>
<span class="cstat-no" title="statement not covered" >    var fileNameVariableSection = fileVariableNames.join(',' + eol);</span>
<span class="cstat-no" title="statement not covered" >    var templateCachePutTemplate = _.template('$templateCache.put("&lt;%= fileName %&gt;", &lt;%=fileVariableName%&gt;);');</span>
<span class="cstat-no" title="statement not covered" >    var templateCachePut = _.map(fileNames, <span class="fstat-no" title="function not covered" >function (fileName) {</span> <span class="cstat-no" title="statement not covered" >return templateCachePutTemplate({</span></span>
        fileName: fileName,
        fileVariableName: fileVarialbeName(fileName)
    }); }).join(eol);
<span class="cstat-no" title="statement not covered" >    var fileContent = templateCacheTemplate({</span>
        relativePathSection: relativePathSection,
        fileNameVariableSection: fileNameVariableSection,
        templateCachePut: templateCachePut
    });
    // Early exit if new templateCache doesn't change
<span class="cstat-no" title="statement not covered" >    if (fs.existsSync(dest)) {</span>
<span class="cstat-no" title="statement not covered" >        var originalContents = fs.readFileSync(dest).toString();</span>
<span class="cstat-no" title="statement not covered" >        if (originalContents === fileContent) {</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
        }
    }
    // write updated contents
<span class="cstat-no" title="statement not covered" >    fs.writeFileSync(dest, fileContent);</span>
}
exports.generateTemplateCache = generateTemplateCache;
//# sourceMappingURL=templateCache.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/transformers.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/transformers.js</span></h1>
    <h2>
        
        Statements: <span class="metric">34.72% <small>(50 / 144)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">8.93% <small>(5 / 56)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">25.81% <small>(8 / 31)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">33.81% <small>(47 / 139)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; transformers.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">15</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-yes">5</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
/// &lt;reference path="./interfaces.d.ts"/&gt;
"use strict";
var __extends = (this &amp;&amp; this.__extends) || function (d, b) {
    for (var p in b) <span class="missing-if-branch" title="else path not taken" >E</span>if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? <span class="branch-0 cbranch-no" title="branch not covered" >Object.create(b) </span>: (__.prototype = b.prototype, new __());
};
var fs = require('fs');
var path = require('path');
var grunt = require('grunt');
var _str = require('underscore.string');
var _ = require('lodash');
var utils = require('./utils');
// Setup when transformers are triggered
var currentTargetFiles;
var currentTargetDirs;
// Based on name
// if a filename matches we return a filepath
// If a foldername matches we return a folderpath
<span class="fstat-no" title="function not covered" >function getImports(currentFilePath, name, targetFiles, targetDirs, getIndexIfDir) {</span>
<span class="cstat-no" title="statement not covered" >    if (getIndexIfDir === void 0) { <span class="cstat-no" title="statement not covered" >getIndexIfDir = true; </span>}</span>
<span class="cstat-no" title="statement not covered" >    var files = [];</span>
    // Test if any filename matches
<span class="cstat-no" title="statement not covered" >    var targetFile = _.find(targetFiles, <span class="fstat-no" title="function not covered" >function (targetFile) {</span></span>
<span class="cstat-no" title="statement not covered" >        return path.basename(targetFile) === name</span>
            || path.basename(targetFile, '.d.ts') === name
            || path.basename(targetFile, '.ts') === name;
    });
<span class="cstat-no" title="statement not covered" >    if (targetFile) {</span>
<span class="cstat-no" title="statement not covered" >        files.push(targetFile);</span>
    }
    // It might be worthwhile to cache this lookup
    // i.e. have a 'foldername':folderpath map passed in
    // Test if dirname matches
<span class="cstat-no" title="statement not covered" >    var targetDir = _.find(targetDirs, <span class="fstat-no" title="function not covered" >function (targetDir) {</span></span>
<span class="cstat-no" title="statement not covered" >        return path.basename(targetDir) === name;</span>
    });
<span class="cstat-no" title="statement not covered" >    if (targetDir) {</span>
<span class="cstat-no" title="statement not covered" >        var possibleIndexFilePath = path.join(targetDir, 'index.ts');</span>
        // If targetDir has an index file AND this is not that file then
        // use index.ts instead of all the files in the directory
<span class="cstat-no" title="statement not covered" >        if (getIndexIfDir</span>
            &amp;&amp; fs.existsSync(possibleIndexFilePath)
            &amp;&amp; path.relative(currentFilePath, possibleIndexFilePath) !== '') {
<span class="cstat-no" title="statement not covered" >            files.push(path.join(targetDir, 'index.ts'));</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            var filesInDir = utils.getFiles(targetDir, <span class="fstat-no" title="function not covered" >function (filename) {</span></span>
                // exclude current file
<span class="cstat-no" title="statement not covered" >                if (path.relative(currentFilePath, filename) === '') {</span>
<span class="cstat-no" title="statement not covered" >                    return true;</span>
                }
<span class="cstat-no" title="statement not covered" >                return path.extname(filename) // must have extension : do not exclude directories</span>
                    &amp;&amp; (!_str.endsWith(filename, '.ts') || _str.endsWith(filename, '.d.ts'))
                    &amp;&amp; !fs.lstatSync(filename).isDirectory(); // for people that name directories with dots
            });
<span class="cstat-no" title="statement not covered" >            filesInDir.sort(); </span>// Sort needed to increase reliability of codegen between runs
<span class="cstat-no" title="statement not covered" >            files = files.concat(filesInDir);</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    return files;</span>
}
// Algo
// Notice that the file globs come as
// test/fail/ts/deep/work.ts
// So simply get dirname recursively till reach root '.'
<span class="fstat-no" title="function not covered" >function getTargetFolders(targetFiles) {</span>
<span class="cstat-no" title="statement not covered" >    var folders = {};</span>
<span class="cstat-no" title="statement not covered" >    _.forEach(targetFiles, <span class="fstat-no" title="function not covered" >function (targetFile) {</span></span>
<span class="cstat-no" title="statement not covered" >        var dir = path.dirname(targetFile);</span>
<span class="cstat-no" title="statement not covered" >        while (dir !== '.' &amp;&amp; !(dir in folders)) {</span>
            // grunt.log.writeln(dir);
<span class="cstat-no" title="statement not covered" >            folders[dir] = true;</span>
<span class="cstat-no" title="statement not covered" >            dir = path.dirname(dir);</span>
        }
    });
<span class="cstat-no" title="statement not covered" >    return Object.keys(folders);</span>
}
var BaseTransformer = (function () {
<span class="fstat-no" title="function not covered" >    function BaseTransformer(key, variableSyntax) {</span>
<span class="cstat-no" title="statement not covered" >        this.key = key;</span>
<span class="cstat-no" title="statement not covered" >        this.match = new RegExp(utils.format(BaseTransformer.tsTransformerMatch, key));</span>
<span class="cstat-no" title="statement not covered" >        this.signature = this.tripleSlashTS() + key;</span>
<span class="cstat-no" title="statement not covered" >        this.signatureGenerated = this.signature + ':generated';</span>
<span class="cstat-no" title="statement not covered" >        this.syntaxError = '/// Invalid syntax for ts:' + this.key + '=' + variableSyntax + ' ' + this.signatureGenerated;</span>
    }
    BaseTransformer.prototype.tripleSlashTS = <span class="fstat-no" title="function not covered" >function () {</span>
        // This is a function and broken into two strings to prevent the transformers module from
        // transforming *itself* (a-la Skynet).
<span class="cstat-no" title="statement not covered" >        return '//' + '/ts:';</span>
    };
    BaseTransformer.prototype.isGenerated = <span class="fstat-no" title="function not covered" >function (line) {</span>
<span class="cstat-no" title="statement not covered" >        return _str.contains(line, this.signatureGenerated);</span>
    };
    BaseTransformer.prototype.matches = <span class="fstat-no" title="function not covered" >function (line) {</span>
<span class="cstat-no" title="statement not covered" >        return line.match(this.match);</span>
    };
    BaseTransformer.containsTransformSignature = <span class="fstat-no" title="function not covered" >function (line) {</span>
<span class="cstat-no" title="statement not covered" >        return BaseTransformer.tsSignatureMatch.test(line);</span>
    };
    BaseTransformer.tsSignatureMatch = /\/\/\/\s*ts\:/;
    // equals sign is optional because we want to match on the signature regardless of any errors,
    // transformFiles() checks that the equals sign exists (by checking for the first matched capture group)
    // and fails if it is not found.
    BaseTransformer.tsTransformerMatch = '^///\\s*ts:{0}(=?)(.*)';
    return BaseTransformer;
}());
// This is a separate class from BaseTransformer to make it easier to add non import/export transforms in the future
var BaseImportExportTransformer = (function (_super) {
    __extends(BaseImportExportTransformer, _super);
<span class="fstat-no" title="function not covered" >    function BaseImportExportTransformer(key, variableSyntax, template, getIndexIfDir, removeExtensionFromFilePath) {</span>
<span class="cstat-no" title="statement not covered" >        _super.call(this, key, variableSyntax);</span>
<span class="cstat-no" title="statement not covered" >        this.key = key;</span>
<span class="cstat-no" title="statement not covered" >        this.template = template;</span>
<span class="cstat-no" title="statement not covered" >        this.getIndexIfDir = getIndexIfDir;</span>
<span class="cstat-no" title="statement not covered" >        this.removeExtensionFromFilePath = removeExtensionFromFilePath;</span>
    }
    BaseImportExportTransformer.prototype.transform = <span class="fstat-no" title="function not covered" >function (sourceFile, templateVars) {</span>
<span class="cstat-no" title="statement not covered" >        var _this = this;</span>
<span class="cstat-no" title="statement not covered" >        var result = [];</span>
<span class="cstat-no" title="statement not covered" >        if (templateVars) {</span>
<span class="cstat-no" title="statement not covered" >            var vars = templateVars.split(',');</span>
<span class="cstat-no" title="statement not covered" >            var requestedFileName = vars[0].trim();</span>
<span class="cstat-no" title="statement not covered" >            var requestedVariableName = (vars.length &gt; 1 ? vars[1].trim() : null);</span>
<span class="cstat-no" title="statement not covered" >            var sourceFileDirectory = path.dirname(sourceFile);</span>
<span class="cstat-no" title="statement not covered" >            var imports = getImports(sourceFile, requestedFileName, currentTargetFiles, currentTargetDirs, this.getIndexIfDir);</span>
<span class="cstat-no" title="statement not covered" >            if (imports.length) {</span>
<span class="cstat-no" title="statement not covered" >                _.forEach(imports, <span class="fstat-no" title="function not covered" >function (completePathToFile) {</span></span>
<span class="cstat-no" title="statement not covered" >                    var filename = requestedVariableName || path.basename(path.basename(completePathToFile, '.ts'), '.d');</span>
                    // If filename is index, we replace it with dirname:
<span class="cstat-no" title="statement not covered" >                    if (filename.toLowerCase() === 'index') {</span>
<span class="cstat-no" title="statement not covered" >                        filename = path.basename(path.dirname(completePathToFile));</span>
                    }
<span class="cstat-no" title="statement not covered" >                    var pathToFile = utils.makeRelativePath(sourceFileDirectory, _this.removeExtensionFromFilePath ? completePathToFile.replace(/(?:\.d)?\.ts$/, '') : completePathToFile, true);</span>
<span class="cstat-no" title="statement not covered" >                    result.push(_this.template({ filename: filename, pathToFile: pathToFile, signatureGenerated: _this.signatureGenerated })</span>
                        + ' '
                        + _this.signatureGenerated);
                });
            }
            else {
<span class="cstat-no" title="statement not covered" >                result.push('/// No file or directory matched name "' + requestedFileName + '" ' + this.signatureGenerated);</span>
            }
        }
        else {
<span class="cstat-no" title="statement not covered" >            result.push(this.syntaxError);</span>
        }
<span class="cstat-no" title="statement not covered" >        return result;</span>
    };
    return BaseImportExportTransformer;
}(BaseTransformer));
var ImportTransformer = (function (_super) {
    __extends(ImportTransformer, _super);
<span class="fstat-no" title="function not covered" >    function ImportTransformer() {</span>
<span class="cstat-no" title="statement not covered" >        _super.call(this, 'import', '&lt;fileOrDirectoryName&gt;[,&lt;variableName&gt;]', _.template('import &lt;%=filename%&gt; = require(\'&lt;%= pathToFile %&gt;\');'), true, true);</span>
    }
    return ImportTransformer;
}(BaseImportExportTransformer));
var ExportTransformer = (function (_super) {
    __extends(ExportTransformer, _super);
<span class="fstat-no" title="function not covered" >    function ExportTransformer(eol) {</span>
        // This code is same as import transformer
        // One difference : we do not short circuit to `index.ts` if found
<span class="cstat-no" title="statement not covered" >        _super.call(this, 'export', '&lt;fileOrDirectoryName&gt;[,&lt;variableName&gt;]', </span>
        // workaround for https://github.com/Microsoft/TypeScript/issues/512
        _.template('import &lt;%=filename%&gt;_file = require(\'&lt;%= pathToFile %&gt;\'); &lt;%= signatureGenerated %&gt;' + eol +
            'export var &lt;%=filename%&gt; = &lt;%=filename%&gt;_file;'), false, true);
<span class="cstat-no" title="statement not covered" >        this.eol = eol;</span>
    }
    return ExportTransformer;
}(BaseImportExportTransformer));
var ReferenceTransformer = (function (_super) {
    __extends(ReferenceTransformer, _super);
<span class="fstat-no" title="function not covered" >    function ReferenceTransformer() {</span>
        // This code is same as export transformer
        // also we preserve .ts file extension
<span class="cstat-no" title="statement not covered" >        _super.call(this, 'ref', '&lt;fileOrDirectoryName&gt;', _.template('/// &lt;reference path="&lt;%= pathToFile %&gt;"/&gt;'), false, false);</span>
    }
    return ReferenceTransformer;
}(BaseImportExportTransformer));
var UnknownTransformer = (function (_super) {
    __extends(UnknownTransformer, _super);
<span class="fstat-no" title="function not covered" >    function UnknownTransformer() {</span>
<span class="cstat-no" title="statement not covered" >        _super.call(this, '(.*)', '');</span>
<span class="cstat-no" title="statement not covered" >        this.key = 'unknown';</span>
<span class="cstat-no" title="statement not covered" >        this.signatureGenerated = this.tripleSlashTS() + 'unknown:generated';</span>
<span class="cstat-no" title="statement not covered" >        this.syntaxError = '/// Unknown transform ' + this.signatureGenerated;</span>
    }
    UnknownTransformer.prototype.transform = <span class="fstat-no" title="function not covered" >function (sourceFile, templateVars) {</span>
<span class="cstat-no" title="statement not covered" >        return [this.syntaxError];</span>
    };
    return UnknownTransformer;
}(BaseTransformer));
// This code fixes the line encoding to be per os.
// I think it is the best option available at the moment.
// I am open for suggestions
<span class="fstat-no" title="function not covered" >function transformFiles(changedFiles, targetFiles, options) {</span>
<span class="cstat-no" title="statement not covered" >    currentTargetDirs = getTargetFolders(targetFiles);</span>
<span class="cstat-no" title="statement not covered" >    currentTargetFiles = targetFiles;</span>
    ///////////////////////////////////// transformation
<span class="cstat-no" title="statement not covered" >    var transformers = [</span>
        new ImportTransformer(),
        new ExportTransformer((options.newLine || utils.eol)),
        new ReferenceTransformer(),
        new UnknownTransformer()
    ];
<span class="cstat-no" title="statement not covered" >    _.forEach(changedFiles, <span class="fstat-no" title="function not covered" >function (fileToProcess) {</span></span>
<span class="cstat-no" title="statement not covered" >        var contents = fs.readFileSync(fileToProcess).toString().replace(/^\uFEFF/, '');</span>
        // If no signature don't bother with this file
<span class="cstat-no" title="statement not covered" >        if (!BaseTransformer.containsTransformSignature(contents)) {</span>
<span class="cstat-no" title="statement not covered" >            return;</span>
        }
<span class="cstat-no" title="statement not covered" >        var lines = contents.split(/\r\n|\r|\n/);</span>
<span class="cstat-no" title="statement not covered" >        var outputLines = [];</span>
<span class="cstat-no" title="statement not covered" >        for (var i = 0; i &lt; lines.length; i++) {</span>
<span class="cstat-no" title="statement not covered" >            var line = lines[i];</span>
            //// Debugging
            // grunt.log.writeln('line'.green);
            // grunt.log.writeln(line);
            // Skip generated lines as these will get regenerated
<span class="cstat-no" title="statement not covered" >            if (_.some(transformers, <span class="fstat-no" title="function not covered" >function (transformer) {</span> <span class="cstat-no" title="statement not covered" >return transformer.isGenerated(line); </span>})) {</span>
<span class="cstat-no" title="statement not covered" >                continue;</span>
            }
            // Directive line
<span class="cstat-no" title="statement not covered" >            if (_.some(transformers, <span class="fstat-no" title="function not covered" >function (transformer) {</span></span>
<span class="cstat-no" title="statement not covered" >                var match = transformer.matches(line);</span>
<span class="cstat-no" title="statement not covered" >                if (match) {</span>
                    // The code gen directive line automatically qualifies
<span class="cstat-no" title="statement not covered" >                    outputLines.push(line);</span>
                    // pass transform settings to transform (match[1] is the equals sign, ensure it exists but otherwise ignore it)
<span class="cstat-no" title="statement not covered" >                    outputLines.push.apply(outputLines, transformer.transform(fileToProcess, match[1] &amp;&amp; match[2] &amp;&amp; match[2].trim()));</span>
<span class="cstat-no" title="statement not covered" >                    return true;</span>
                }
<span class="cstat-no" title="statement not covered" >                return false;</span>
            })) {
<span class="cstat-no" title="statement not covered" >                continue;</span>
            }
            // Lines not generated or not directives
<span class="cstat-no" title="statement not covered" >            outputLines.push(line);</span>
        }
<span class="cstat-no" title="statement not covered" >        var transformedContent = outputLines.join(utils.eol);</span>
<span class="cstat-no" title="statement not covered" >        if (transformedContent !== contents) {</span>
<span class="cstat-no" title="statement not covered" >            grunt.file.write(fileToProcess, transformedContent);</span>
        }
    });
}
exports.transformFiles = transformFiles;
//# sourceMappingURL=transformers.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/tsconfig.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/tsconfig.js</span></h1>
    <h2>
        
        Statements: <span class="metric">11.73% <small>(23 / 196)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 139)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 21)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">11.92% <small>(23 / 193)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; tsconfig.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
var es6_promise_1 = require('es6-promise');
var fs = require('fs');
var path = require('path');
var stripBom = require('strip-bom');
var _ = require('lodash');
var utils = require('./utils');
var templateProcessor = null;
var globExpander = null;
var gruntfileGlobs = null;
var absolutePathToTSConfig;
<span class="fstat-no" title="function not covered" >function resolveAsync(applyTo, taskOptions, targetOptions, theTemplateProcessor, theGlobExpander) {</span>
<span class="cstat-no" title="statement not covered" >    if (theGlobExpander === void 0) { <span class="cstat-no" title="statement not covered" >theGlobExpander = null; </span>}</span>
<span class="cstat-no" title="statement not covered" >    templateProcessor = theTemplateProcessor;</span>
<span class="cstat-no" title="statement not covered" >    globExpander = theGlobExpander;</span>
<span class="cstat-no" title="statement not covered" >    gruntfileGlobs = getGlobs(taskOptions, targetOptions);</span>
<span class="cstat-no" title="statement not covered" >    return new es6_promise_1.Promise(<span class="fstat-no" title="function not covered" >function (resolve, reject) {</span></span>
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            var taskTSConfig = getTSConfigSettings(taskOptions);</span>
<span class="cstat-no" title="statement not covered" >            var targetTSConfig = getTSConfigSettings(targetOptions);</span>
<span class="cstat-no" title="statement not covered" >            var tsconfig = null;</span>
<span class="cstat-no" title="statement not covered" >            if (taskTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >                tsconfig = taskTSConfig;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (targetTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >                if (!tsconfig) {</span>
<span class="cstat-no" title="statement not covered" >                    tsconfig = targetTSConfig;</span>
                }
<span class="cstat-no" title="statement not covered" >                if ('tsconfig' in targetTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >                    tsconfig.tsconfig = templateProcessor(targetTSConfig.tsconfig, {});</span>
                }
<span class="cstat-no" title="statement not covered" >                if ('ignoreSettings' in targetTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >                    tsconfig.ignoreSettings = targetTSConfig.ignoreSettings;</span>
                }
<span class="cstat-no" title="statement not covered" >                if ('overwriteFilesGlob' in targetTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >                    tsconfig.overwriteFilesGlob = targetTSConfig.overwriteFilesGlob;</span>
                }
<span class="cstat-no" title="statement not covered" >                if ('updateFiles' in targetTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >                    tsconfig.updateFiles = targetTSConfig.updateFiles;</span>
                }
<span class="cstat-no" title="statement not covered" >                if ('passThrough' in targetTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >                    tsconfig.passThrough = targetTSConfig.passThrough;</span>
                }
            }
<span class="cstat-no" title="statement not covered" >            applyTo.tsconfig = tsconfig;</span>
        }
        catch (ex) {
<span class="cstat-no" title="statement not covered" >            return reject(ex);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (!applyTo.tsconfig) {</span>
<span class="cstat-no" title="statement not covered" >            return resolve(applyTo);</span>
        }
<span class="cstat-no" title="statement not covered" >        if (applyTo.tsconfig.passThrough) {</span>
<span class="cstat-no" title="statement not covered" >            if (applyTo.CompilationTasks.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >                applyTo.CompilationTasks.push({ src: [] });</span>
            }
<span class="cstat-no" title="statement not covered" >            if (!applyTo.tsconfig.tsconfig) {</span>
<span class="cstat-no" title="statement not covered" >                applyTo.tsconfig.tsconfig = '.';</span>
            }
        }
        else {
<span class="cstat-no" title="statement not covered" >            var projectFile = applyTo.tsconfig.tsconfig;</span>
<span class="cstat-no" title="statement not covered" >            try {</span>
<span class="cstat-no" title="statement not covered" >                var projectFileTextContent = fs.readFileSync(projectFile, 'utf8');</span>
            }
            catch (ex) {
<span class="cstat-no" title="statement not covered" >                if (ex &amp;&amp; ex.code === 'ENOENT') {</span>
<span class="cstat-no" title="statement not covered" >                    return reject('Could not find file "' + projectFile + '".');</span>
                }
                else <span class="cstat-no" title="statement not covered" >if (ex &amp;&amp; ex.errno) {</span>
<span class="cstat-no" title="statement not covered" >                    return reject('Error ' + ex.errno + ' reading "' + projectFile + '".');</span>
                }
                else {
<span class="cstat-no" title="statement not covered" >                    return reject('Error reading "' + projectFile + '": ' + JSON.stringify(ex));</span>
                }
            }
<span class="cstat-no" title="statement not covered" >            try {</span>
<span class="cstat-no" title="statement not covered" >                var projectSpec;</span>
<span class="cstat-no" title="statement not covered" >                var content = stripBom(projectFileTextContent);</span>
<span class="cstat-no" title="statement not covered" >                if (content.trim() === '') {</span>
<span class="cstat-no" title="statement not covered" >                    projectSpec = {};</span>
                }
                else {
<span class="cstat-no" title="statement not covered" >                    projectSpec = JSON.parse(content);</span>
                }
            }
            catch (ex) {
<span class="cstat-no" title="statement not covered" >                return reject('Error parsing "' + projectFile + '".  It may not be valid JSON in UTF-8.');</span>
            }
<span class="cstat-no" title="statement not covered" >            applyTo = warnOnBadConfiguration(applyTo, projectSpec);</span>
<span class="cstat-no" title="statement not covered" >            applyTo = applyCompilerOptions(applyTo, projectSpec);</span>
<span class="cstat-no" title="statement not covered" >            applyTo = resolve_output_locations(applyTo, projectSpec);</span>
        }
<span class="cstat-no" title="statement not covered" >        resolve(applyTo);</span>
    });
}
exports.resolveAsync = resolveAsync;
<span class="fstat-no" title="function not covered" >function warnOnBadConfiguration(options, projectSpec) {</span>
<span class="cstat-no" title="statement not covered" >    if (projectSpec.compilerOptions) {</span>
<span class="cstat-no" title="statement not covered" >        if (projectSpec.compilerOptions.out &amp;&amp; projectSpec.compilerOptions.outFile) {</span>
<span class="cstat-no" title="statement not covered" >            options.warnings.push('Warning: `out` and `outFile` should not be used together in tsconfig.json.');</span>
        }
<span class="cstat-no" title="statement not covered" >        if (projectSpec.compilerOptions.out) {</span>
<span class="cstat-no" title="statement not covered" >            options.warnings.push('Warning: Using `out` in tsconfig.json can be unreliable because it will output relative' +</span>
                ' to the tsc working directory.  It is better to use `outFile` which is always relative to tsconfig.json, ' +
                ' but this requires TypeScript 1.6 or higher.');
        }
    }
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function getGlobs(taskOptions, targetOptions) {</span>
<span class="cstat-no" title="statement not covered" >    var globs = null;</span>
<span class="cstat-no" title="statement not covered" >    if (taskOptions &amp;&amp; isStringOrArray(taskOptions.src)) {</span>
<span class="cstat-no" title="statement not covered" >        globs = _.map(getFlatCloneOf([taskOptions.src]), <span class="fstat-no" title="function not covered" >function (item) {</span> <span class="cstat-no" title="statement not covered" >return templateProcessor(item, {}); </span>});</span>
    }
<span class="cstat-no" title="statement not covered" >    if (targetOptions &amp;&amp; isStringOrArray(targetOptions.src)) {</span>
<span class="cstat-no" title="statement not covered" >        globs = _.map(getFlatCloneOf([targetOptions.src]), <span class="fstat-no" title="function not covered" >function (item) {</span> <span class="cstat-no" title="statement not covered" >return templateProcessor(item, {}); </span>});</span>
    }
<span class="cstat-no" title="statement not covered" >    return globs;</span>
<span class="fstat-no" title="function not covered" >    function isStringOrArray(thing) {</span>
<span class="cstat-no" title="statement not covered" >        return (_.isArray(thing) || _.isString(thing));</span>
    }
<span class="fstat-no" title="function not covered" >    function getFlatCloneOf(array) {</span>
<span class="cstat-no" title="statement not covered" >        return _.flatten(array).slice();</span>
    }
}
<span class="fstat-no" title="function not covered" >function resolve_output_locations(options, projectSpec) {</span>
<span class="cstat-no" title="statement not covered" >    if (options.CompilationTasks</span>
        &amp;&amp; options.CompilationTasks.length &gt; 0
        &amp;&amp; projectSpec
        &amp;&amp; projectSpec.compilerOptions) {
<span class="cstat-no" title="statement not covered" >        options.CompilationTasks.forEach(<span class="fstat-no" title="function not covered" >function (compilationTask) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (projectSpec.compilerOptions.out) {</span>
<span class="cstat-no" title="statement not covered" >                compilationTask.out = path.normalize(projectSpec.compilerOptions.out).replace(/\\/g, '/');</span>
            }
<span class="cstat-no" title="statement not covered" >            if (projectSpec.compilerOptions.outFile) {</span>
<span class="cstat-no" title="statement not covered" >                compilationTask.out = path.normalize(path.join(relativePathFromGruntfileToTSConfig(), projectSpec.compilerOptions.outFile)).replace(/\\/g, '/');</span>
            }
<span class="cstat-no" title="statement not covered" >            if (projectSpec.compilerOptions.outDir) {</span>
<span class="cstat-no" title="statement not covered" >                compilationTask.outDir = path.normalize(path.join(relativePathFromGruntfileToTSConfig(), projectSpec.compilerOptions.outDir)).replace(/\\/g, '/');</span>
            }
        });
    }
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function getTSConfigSettings(raw) {</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >        if (!raw || !raw.tsconfig) {</span>
<span class="cstat-no" title="statement not covered" >            return null;</span>
        }
<span class="cstat-no" title="statement not covered" >        if (typeof raw.tsconfig === 'boolean') {</span>
<span class="cstat-no" title="statement not covered" >            return {</span>
                tsconfig: path.join(path.resolve('.'), 'tsconfig.json')
            };
        }
        else <span class="cstat-no" title="statement not covered" >if (typeof raw.tsconfig === 'string') {</span>
<span class="cstat-no" title="statement not covered" >            var tsconfigName = templateProcessor(raw.tsconfig, {});</span>
<span class="cstat-no" title="statement not covered" >            var fileInfo = fs.lstatSync(tsconfigName);</span>
<span class="cstat-no" title="statement not covered" >            if (fileInfo.isDirectory()) {</span>
<span class="cstat-no" title="statement not covered" >                tsconfigName = path.join(tsconfigName, 'tsconfig.json');</span>
            }
<span class="cstat-no" title="statement not covered" >            return {</span>
                tsconfig: tsconfigName
            };
        }
<span class="cstat-no" title="statement not covered" >        if (!('tsconfig' in raw.tsconfig) &amp;&amp;</span>
            !raw.tsconfig.passThrough) {
<span class="cstat-no" title="statement not covered" >            raw.tsconfig.tsconfig = 'tsconfig.json';</span>
        }
<span class="cstat-no" title="statement not covered" >        return raw.tsconfig;</span>
    }
    catch (ex) {
<span class="cstat-no" title="statement not covered" >        if (ex.code === 'ENOENT') {</span>
<span class="cstat-no" title="statement not covered" >            throw ex;</span>
        }
<span class="cstat-no" title="statement not covered" >        var exception = {</span>
            name: 'Invalid tsconfig setting',
            message: 'Exception due to invalid tsconfig setting.  Details: ' + ex,
            code: ex.code,
            errno: ex.errno
        };
<span class="cstat-no" title="statement not covered" >        throw exception;</span>
    }
}
<span class="fstat-no" title="function not covered" >function applyCompilerOptions(applyTo, projectSpec) {</span>
<span class="cstat-no" title="statement not covered" >    var result = applyTo || {}, co = projectSpec.compilerOptions, tsconfig = applyTo.tsconfig;</span>
<span class="cstat-no" title="statement not covered" >    if (!tsconfig.ignoreSettings &amp;&amp; co) {</span>
        // Go here for the tsconfig.json documentation:
        // https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/tsconfig.json.md
        // There is a link to http://json.schemastore.org/tsconfig
<span class="cstat-no" title="statement not covered" >        var sameNameInTSConfigAndGruntTS = [</span>
            'allowJs',
            'allowSyntheticDefaultImports',
            'allowUnreachableCode',
            'allowUnusedLabels',
            // we do not support charset as we assume input files are UTF-8.
            'declaration',
            'emitBOM',
            'emitDecoratorMetadata',
            'experimentalAsyncFunctions',
            'experimentalDecorators',
            'forceConsistentCasingInFileNames',
            'isolatedModules',
            'inlineSourceMap',
            'inlineSources',
            'jsx',
            // we do not support listFiles.
            'locale',
            'mapRoot',
            'module',
            'moduleResolution',
            'newLine',
            'noEmit',
            'noEmitHelpers',
            'noEmitOnError',
            'noFallthroughCasesInSwitch',
            'noImplicitAny',
            'noImplicitReturns',
            'noImplicitUseStrict',
            'noLib',
            'noResolve',
            'out',
            'outDir',
            // outFile is handled below.
            'preserveConstEnums',
            'pretty',
            'reactNamespace',
            'removeComments',
            'rootDir',
            'skipDefaultLibCheck',
            'sourceMap',
            'sourceRoot',
            'stripInternal',
            'suppressExcessPropertyIndexErrors',
            'suppressImplicitAnyIndexErrors',
            'target'
        ];
<span class="cstat-no" title="statement not covered" >        sameNameInTSConfigAndGruntTS.forEach(<span class="fstat-no" title="function not covered" >function (propertyName) {</span></span>
<span class="cstat-no" title="statement not covered" >            if ((propertyName in co) &amp;&amp; !(propertyName in result)) {</span>
<span class="cstat-no" title="statement not covered" >                result[propertyName] = co[propertyName];</span>
            }
        });
        // now copy the ones that don't have the same names.
        // `outFile` was added in TypeScript 1.6 and is the same as out for command-line
        // purposes except that `outFile` is relative to the tsconfig.json.
<span class="cstat-no" title="statement not covered" >        if (('outFile' in co) &amp;&amp; !('out' in result)) {</span>
<span class="cstat-no" title="statement not covered" >            result['out'] = co['outFile'];</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    if (!('updateFiles' in tsconfig)) {</span>
<span class="cstat-no" title="statement not covered" >        tsconfig.updateFiles = true;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (applyTo.CompilationTasks.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >        applyTo.CompilationTasks.push({ src: [] });</span>
    }
<span class="cstat-no" title="statement not covered" >    var src = applyTo.CompilationTasks[0].src;</span>
<span class="cstat-no" title="statement not covered" >    absolutePathToTSConfig = path.resolve(tsconfig.tsconfig, '..');</span>
<span class="cstat-no" title="statement not covered" >    if (tsconfig.overwriteFilesGlob) {</span>
<span class="cstat-no" title="statement not covered" >        if (!gruntfileGlobs) {</span>
<span class="cstat-no" title="statement not covered" >            throw new Error('The tsconfig option overwriteFilesGlob is set to true, but no glob was passed-in.');</span>
        }
<span class="cstat-no" title="statement not covered" >        var relPath = relativePathFromGruntfileToTSConfig(), gruntGlobsRelativeToTSConfig = [];</span>
<span class="cstat-no" title="statement not covered" >        for (var i = 0; i &lt; gruntfileGlobs.length; i += 1) {</span>
<span class="cstat-no" title="statement not covered" >            gruntfileGlobs[i] = gruntfileGlobs[i].replace(/\\/g, '/');</span>
<span class="cstat-no" title="statement not covered" >            gruntGlobsRelativeToTSConfig.push(path.relative(relPath, gruntfileGlobs[i]).replace(/\\/g, '/'));</span>
        }
<span class="cstat-no" title="statement not covered" >        if (_.difference(projectSpec.filesGlob, gruntGlobsRelativeToTSConfig).length &gt; 0 ||</span>
            _.difference(gruntGlobsRelativeToTSConfig, projectSpec.filesGlob).length &gt; 0) {
<span class="cstat-no" title="statement not covered" >            projectSpec.filesGlob = gruntGlobsRelativeToTSConfig;</span>
<span class="cstat-no" title="statement not covered" >            if (projectSpec.files) {</span>
<span class="cstat-no" title="statement not covered" >                projectSpec.files = [];</span>
            }
<span class="cstat-no" title="statement not covered" >            saveTSConfigSync(tsconfig.tsconfig, projectSpec);</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    if (tsconfig.updateFiles &amp;&amp; projectSpec.filesGlob) {</span>
<span class="cstat-no" title="statement not covered" >        if (projectSpec.files === undefined) {</span>
<span class="cstat-no" title="statement not covered" >            projectSpec.files = [];</span>
        }
<span class="cstat-no" title="statement not covered" >        updateTSConfigAndFilesFromGlob(projectSpec.files, projectSpec.filesGlob, tsconfig.tsconfig);</span>
    }
<span class="cstat-no" title="statement not covered" >    if (projectSpec.files) {</span>
<span class="cstat-no" title="statement not covered" >        addUniqueRelativeFilesToSrc(projectSpec.files, src, absolutePathToTSConfig);</span>
    }
    else {
<span class="cstat-no" title="statement not covered" >        var validPattern_1 = /\.tsx?$/i;</span>
<span class="cstat-no" title="statement not covered" >        var excludedPaths_1 = [];</span>
<span class="cstat-no" title="statement not covered" >        if (_.isArray(projectSpec.exclude)) {</span>
<span class="cstat-no" title="statement not covered" >            excludedPaths_1 = projectSpec.exclude.map(<span class="fstat-no" title="function not covered" >function (filepath) {</span></span>
<span class="cstat-no" title="statement not covered" >                return utils.makeRelativePath(absolutePathToTSConfig, path.resolve(absolutePathToTSConfig, filepath));</span>
            });
        }
<span class="cstat-no" title="statement not covered" >        var files = utils.getFiles(absolutePathToTSConfig, <span class="fstat-no" title="function not covered" >function (filepath) {</span></span>
<span class="cstat-no" title="statement not covered" >            return excludedPaths_1.indexOf(utils.makeRelativePath(absolutePathToTSConfig, filepath)) &gt; -1</span>
                || (fs.statSync(filepath).isFile()
                    &amp;&amp; !validPattern_1.test(filepath));
        }).map(<span class="fstat-no" title="function not covered" >function (filepath) {</span>
<span class="cstat-no" title="statement not covered" >            return utils.makeRelativePath(absolutePathToTSConfig, filepath);</span>
        });
<span class="cstat-no" title="statement not covered" >        projectSpec.files = files;</span>
<span class="cstat-no" title="statement not covered" >        if (projectSpec.filesGlob) {</span>
<span class="cstat-no" title="statement not covered" >            saveTSConfigSync(tsconfig.tsconfig, projectSpec);</span>
        }
<span class="cstat-no" title="statement not covered" >        addUniqueRelativeFilesToSrc(files, src, absolutePathToTSConfig);</span>
    }
<span class="cstat-no" title="statement not covered" >    return result;</span>
}
<span class="fstat-no" title="function not covered" >function relativePathFromGruntfileToTSConfig() {</span>
<span class="cstat-no" title="statement not covered" >    if (!absolutePathToTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >        throw 'attempt to get relative path to tsconfig.json before setting absolute path';</span>
    }
<span class="cstat-no" title="statement not covered" >    return path.relative('.', absolutePathToTSConfig).replace(/\\/g, '/');</span>
}
<span class="fstat-no" title="function not covered" >function updateTSConfigAndFilesFromGlob(filesRelativeToTSConfig, globRelativeToTSConfig, tsconfigFileName) {</span>
<span class="cstat-no" title="statement not covered" >    if (globExpander.isStub) {</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
<span class="cstat-no" title="statement not covered" >    var absolutePathToTSConfig = path.resolve(tsconfigFileName, '..');</span>
<span class="cstat-no" title="statement not covered" >    var filesGlobRelativeToGruntfile = [];</span>
<span class="cstat-no" title="statement not covered" >    for (var i = 0; i &lt; globRelativeToTSConfig.length; i += 1) {</span>
<span class="cstat-no" title="statement not covered" >        filesGlobRelativeToGruntfile.push(path.relative(path.resolve('.'), path.join(absolutePathToTSConfig, globRelativeToTSConfig[i])));</span>
    }
<span class="cstat-no" title="statement not covered" >    var filesRelativeToGruntfile = globExpander(filesGlobRelativeToGruntfile);</span>
    {
<span class="cstat-no" title="statement not covered" >        var filesRelativeToTSConfig_temp = [];</span>
<span class="cstat-no" title="statement not covered" >        var relativePathFromGruntfileToTSConfig_1 = path.relative('.', absolutePathToTSConfig).replace(/\\/g, '/');</span>
<span class="cstat-no" title="statement not covered" >        for (var i = 0; i &lt; filesRelativeToGruntfile.length; i += 1) {</span>
<span class="cstat-no" title="statement not covered" >            filesRelativeToGruntfile[i] = filesRelativeToGruntfile[i].replace(/\\/g, '/');</span>
<span class="cstat-no" title="statement not covered" >            filesRelativeToTSConfig_temp.push(path.relative(relativePathFromGruntfileToTSConfig_1, filesRelativeToGruntfile[i]).replace(/\\/g, '/'));</span>
        }
<span class="cstat-no" title="statement not covered" >        filesRelativeToTSConfig.length = 0;</span>
<span class="cstat-no" title="statement not covered" >        filesRelativeToTSConfig.push.apply(filesRelativeToTSConfig, filesRelativeToTSConfig_temp);</span>
    }
<span class="cstat-no" title="statement not covered" >    var tsconfigJSONContent = utils.readAndParseJSONFromFileSync(tsconfigFileName);</span>
<span class="cstat-no" title="statement not covered" >    var tempTSConfigFiles = tsconfigJSONContent.files || [];</span>
<span class="cstat-no" title="statement not covered" >    if (_.difference(tempTSConfigFiles, filesRelativeToTSConfig).length &gt; 0 ||</span>
        _.difference(filesRelativeToTSConfig, tempTSConfigFiles).length &gt; 0) {
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            tsconfigJSONContent.files = filesRelativeToTSConfig;</span>
<span class="cstat-no" title="statement not covered" >            saveTSConfigSync(tsconfigFileName, tsconfigJSONContent);</span>
        }
        catch (ex) {
<span class="cstat-no" title="statement not covered" >            var error = new Error('Error updating tsconfig.json: ' + ex);</span>
<span class="cstat-no" title="statement not covered" >            throw error;</span>
        }
    }
}
<span class="fstat-no" title="function not covered" >function saveTSConfigSync(fileName, content) {</span>
<span class="cstat-no" title="statement not covered" >    fs.writeFileSync(fileName, JSON.stringify(content, null, '    '));</span>
}
<span class="fstat-no" title="function not covered" >function addUniqueRelativeFilesToSrc(tsconfigFilesArray, compilationTaskSrc, absolutePathToTSConfig) {</span>
<span class="cstat-no" title="statement not covered" >    var gruntfileFolder = path.resolve('.');</span>
<span class="cstat-no" title="statement not covered" >    _.map(_.uniq(tsconfigFilesArray), <span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >        var absolutePathToFile = path.normalize(path.join(absolutePathToTSConfig, file));</span>
<span class="cstat-no" title="statement not covered" >        var relativePathToFileFromGruntfile = path.relative(gruntfileFolder, absolutePathToFile).replace(new RegExp('\\' + path.sep, 'g'), '/');</span>
<span class="cstat-no" title="statement not covered" >        if (compilationTaskSrc.indexOf(absolutePathToFile) === -1 &amp;&amp;</span>
            compilationTaskSrc.indexOf(relativePathToFileFromGruntfile) === -1) {
<span class="cstat-no" title="statement not covered" >            compilationTaskSrc.push(relativePathToFileFromGruntfile);</span>
        }
    });
}
//# sourceMappingURL=tsconfig.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/utils.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/utils.js</span></h1>
    <h2>
        
        Statements: <span class="metric">27.52% <small>(60 / 218)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 102)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 36)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">28.57% <small>(60 / 210)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; utils.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/// &lt;reference path="../../defs/tsd.d.ts"/&gt;
"use strict";
var path = require('path');
var fs = require('fs');
var os = require('os');
var util = require('util');
var _ = require('lodash');
var es6_promise_1 = require('es6-promise');
exports.grunt = require('grunt');
exports.eol = exports.grunt.util.linefeed;
<span class="fstat-no" title="function not covered" >function newLineIsRedundantForTsc(newLineParameter, operatingSystem) {</span>
<span class="cstat-no" title="statement not covered" >    if (operatingSystem === void 0) { <span class="cstat-no" title="statement not covered" >operatingSystem = os; </span>}</span>
<span class="cstat-no" title="statement not covered" >    return ((newLineParameter === 'CRLF' &amp;&amp; operatingSystem.EOL === '\r\n') ||</span>
        (newLineParameter === 'LF' &amp;&amp; operatingSystem.EOL === '\n'));
}
exports.newLineIsRedundantForTsc = newLineIsRedundantForTsc;
<span class="fstat-no" title="function not covered" >function newLineActualAsParameter(actualNewLineChars) {</span>
<span class="cstat-no" title="statement not covered" >    if (actualNewLineChars) {</span>
<span class="cstat-no" title="statement not covered" >        return actualNewLineChars.replace(/\n/g, 'LF').replace(/\r/g, 'CR');</span>
    }
<span class="cstat-no" title="statement not covered" >    return '';</span>
}
exports.newLineActualAsParameter = newLineActualAsParameter;
<span class="fstat-no" title="function not covered" >function newLineParameterAsActual(parameterNewLineChars) {</span>
<span class="cstat-no" title="statement not covered" >    if (parameterNewLineChars) {</span>
<span class="cstat-no" title="statement not covered" >        return parameterNewLineChars.replace(/LF/g, '\n').replace(/CR/g, '\r');</span>
    }
<span class="cstat-no" title="statement not covered" >    return '';</span>
}
exports.newLineParameterAsActual = newLineParameterAsActual;
// Converts "C:\boo" , "C:\boo\foo.ts" =&gt; "./foo.ts"; Works on unix as well.
<span class="fstat-no" title="function not covered" >function makeRelativePath(folderpath, filename, forceRelative) {</span>
<span class="cstat-no" title="statement not covered" >    if (forceRelative === void 0) { <span class="cstat-no" title="statement not covered" >forceRelative = false; </span>}</span>
<span class="cstat-no" title="statement not covered" >    var relativePath = path.relative(folderpath, filename).split('\\').join('/');</span>
<span class="cstat-no" title="statement not covered" >    if (forceRelative &amp;&amp; relativePath[0] !== '.') {</span>
<span class="cstat-no" title="statement not covered" >        relativePath = './' + relativePath;</span>
    }
<span class="cstat-no" title="statement not covered" >    return relativePath;</span>
}
exports.makeRelativePath = makeRelativePath;
// Finds the longest common section of a collection of strings.
// Simply sorting and comparing first and last http://stackoverflow.com/a/1917041/390330
<span class="fstat-no" title="function not covered" >function sharedStart(array) {</span>
<span class="cstat-no" title="statement not covered" >    if (array.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >        throw 'Cannot find common root of empty array.';</span>
    }
<span class="cstat-no" title="statement not covered" >    var A = array.slice(0).sort(), firstWord = A[0], lastWord = A[A.length - 1];</span>
<span class="cstat-no" title="statement not covered" >    if (firstWord === lastWord) {</span>
<span class="cstat-no" title="statement not covered" >        return firstWord;</span>
    }
    else {
<span class="cstat-no" title="statement not covered" >        var i = -1;</span>
<span class="cstat-no" title="statement not covered" >        do {</span>
<span class="cstat-no" title="statement not covered" >            i += 1;</span>
<span class="cstat-no" title="statement not covered" >            var firstWordChar = firstWord.charAt(i);</span>
<span class="cstat-no" title="statement not covered" >            var lastWordChar = lastWord.charAt(i);</span>
        } while (firstWordChar === lastWordChar);
<span class="cstat-no" title="statement not covered" >        return firstWord.substring(0, i);</span>
    }
}
// Finds the common system path between paths
// Explanation of how is inline
<span class="fstat-no" title="function not covered" >function findCommonPath(paths, pathSeperator) {</span>
    // Now for "C:\u\starter" "C:\u\started" =&gt; "C:\u\starte"
<span class="cstat-no" title="statement not covered" >    var largetStartSegement = sharedStart(paths);</span>
    // For "C:\u\starte" =&gt; C:\u\
<span class="cstat-no" title="statement not covered" >    var ending = largetStartSegement.lastIndexOf(pathSeperator);</span>
<span class="cstat-no" title="statement not covered" >    return largetStartSegement.substr(0, ending);</span>
}
exports.findCommonPath = findCommonPath;
/**
 * Returns the result of an array inserted into another, starting at the given index.
 */
<span class="fstat-no" title="function not covered" >function insertArrayAt(array, index, arrayToInsert) {</span>
<span class="cstat-no" title="statement not covered" >    var updated = array.slice(0);</span>
<span class="cstat-no" title="statement not covered" >    var spliceAt = [index, 0];</span>
<span class="cstat-no" title="statement not covered" >    Array.prototype.splice.apply(updated, spliceAt.concat(arrayToInsert));</span>
<span class="cstat-no" title="statement not covered" >    return updated;</span>
}
exports.insertArrayAt = insertArrayAt;
/**
 * Compares the end of the string with the given suffix for literal equality.
 *
 * @returns {boolean} whether the string ends with the suffix literally.
 */
<span class="fstat-no" title="function not covered" >function endsWith(str, suffix) {</span>
<span class="cstat-no" title="statement not covered" >    return str.indexOf(suffix, str.length - suffix.length) !== -1;</span>
}
exports.endsWith = endsWith;
<span class="fstat-no" title="function not covered" >function stripQuotesIfQuoted(possiblyQuotedString) {</span>
<span class="cstat-no" title="statement not covered" >    if (!possiblyQuotedString.length || possiblyQuotedString.length &lt; 2) {</span>
<span class="cstat-no" title="statement not covered" >        return possiblyQuotedString;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (possiblyQuotedString.charAt(0) === '"' &amp;&amp;</span>
        possiblyQuotedString.charAt(possiblyQuotedString.length - 1) === '"') {
<span class="cstat-no" title="statement not covered" >        return possiblyQuotedString.substr(1, possiblyQuotedString.length - 2);</span>
    }
<span class="cstat-no" title="statement not covered" >    return possiblyQuotedString;</span>
}
exports.stripQuotesIfQuoted = stripQuotesIfQuoted;
<span class="fstat-no" title="function not covered" >function isJavaScriptFile(filePath) {</span>
<span class="cstat-no" title="statement not covered" >    if (filePath.toLowerCase) {</span>
<span class="cstat-no" title="statement not covered" >        var normalizedFile = path.resolve(stripQuotesIfQuoted(filePath)).toLowerCase();</span>
<span class="cstat-no" title="statement not covered" >        return endsWith(normalizedFile, '.js');</span>
    }
<span class="cstat-no" title="statement not covered" >    return false;</span>
}
exports.isJavaScriptFile = isJavaScriptFile;
/** function for formatting strings
 * ('{0} says {1}','la','ba' ) =&gt; 'la says ba'
 */
<span class="fstat-no" title="function not covered" >function format(str) {</span>
<span class="cstat-no" title="statement not covered" >    var args = [];</span>
<span class="cstat-no" title="statement not covered" >    for (var _i = 1; _i &lt; arguments.length; _i++) {</span>
<span class="cstat-no" title="statement not covered" >        args[_i - 1] = arguments[_i];</span>
    }
<span class="cstat-no" title="statement not covered" >    return str.replace(/{(\d+)}/g, <span class="fstat-no" title="function not covered" >function (m, i) {</span></span>
<span class="cstat-no" title="statement not covered" >        return args[i] !== undefined ? args[i] : m;</span>
    });
}
exports.format = format;
/**
 * Get a random hex value
 *
 * @returns {string} hex string
 */
<span class="fstat-no" title="function not covered" >function getRandomHex(length) {</span>
<span class="cstat-no" title="statement not covered" >    if (length === void 0) { <span class="cstat-no" title="statement not covered" >length = 16; </span>}</span>
<span class="cstat-no" title="statement not covered" >    var name = '';</span>
<span class="cstat-no" title="statement not covered" >    do {</span>
<span class="cstat-no" title="statement not covered" >        name += Math.round(Math.random() * Math.pow(16, 8)).toString(16);</span>
    } while (name.length &lt; length);
<span class="cstat-no" title="statement not covered" >    return name.substr(0, length);</span>
}
exports.getRandomHex = getRandomHex;
/**
 * Get a unique temp file
 *
 * @returns {string} unique-ish path to file in given directory.
 * @throws when it cannot create a temp file in the specified directory
 */
<span class="fstat-no" title="function not covered" >function getTempFile(prefix, dir, extension) {</span>
<span class="cstat-no" title="statement not covered" >    if (dir === void 0) { <span class="cstat-no" title="statement not covered" >dir = ''; </span>}</span>
<span class="cstat-no" title="statement not covered" >    if (extension === void 0) { <span class="cstat-no" title="statement not covered" >extension = '.tmp.txt'; </span>}</span>
<span class="cstat-no" title="statement not covered" >    prefix = (prefix ? prefix + '-' : '');</span>
<span class="cstat-no" title="statement not covered" >    var attempts = 100;</span>
<span class="cstat-no" title="statement not covered" >    do {</span>
<span class="cstat-no" title="statement not covered" >        var name = prefix + getRandomHex(8) + extension;</span>
<span class="cstat-no" title="statement not covered" >        var dest = path.join(dir, name);</span>
<span class="cstat-no" title="statement not covered" >        if (!fs.existsSync(dest)) {</span>
<span class="cstat-no" title="statement not covered" >            return dest;</span>
        }
<span class="cstat-no" title="statement not covered" >        attempts--;</span>
    } while (attempts &gt; 0);
<span class="cstat-no" title="statement not covered" >    throw 'Cannot create temp file in ' + dir;</span>
}
exports.getTempFile = getTempFile;
/////////////////////////////////////////////////////////////////////////
// From https://github.com/centi/node-dirutils/blob/master/index.js
// Slightly modified. See BAS
////////////////////////////////////////////////////////////////////////
/**
 * Get all files from a directory and all its subdirectories.
 * @param {String} dirPath A path to a directory
 * @param {RegExp|Function} exclude Defines which files should be excluded.
     Can be a RegExp (whole filepath is tested) or a Function which will get the filepath
     as an argument and should return true (exclude file) or false (do not exclude).
 * @returns {Array} An array of files
 */
<span class="fstat-no" title="function not covered" >function getFiles(dirPath, exclude) {</span>
<span class="cstat-no" title="statement not covered" >    return _getAll(dirPath, exclude, true);</span>
}
exports.getFiles = getFiles;
;
/**
 * Get all directories from a directory and all its subdirectories.
 * @param {String} dirPath A path to a directory
 * @param {RegExp|Function} exclude Defines which directories should be excluded.
    Can be a RegExp (whole dirpath is tested) or a Function which will get the dirpath
    as an argument and should return true (exclude dir) or false (do not exclude).
 * @returns {Array} An array of directories
 */
<span class="fstat-no" title="function not covered" >function getDirs(dirPath, exclude) {</span>
<span class="cstat-no" title="statement not covered" >    return _getAll(dirPath, exclude, false);</span>
}
exports.getDirs = getDirs;
;
/**
 * Get all files or directories from a directory and all its subdirectories.
 * @param {String} dirPath A path to a directory
 * @param {RegExp|Function} exclude Defines which files or directories should be excluded.
    Can be a RegExp (whole path is tested) or a Function which will get the path
    as an argument and should return true (exclude) or false (do not exclude).
 * @param {Boolean} getFiles Whether to get files (true) or directories (false).
 * @returns {Array} An array of files or directories
 */
<span class="fstat-no" title="function not covered" >function _getAll(dirPath, exclude, getFiles) {</span>
<span class="cstat-no" title="statement not covered" >    var _checkDirResult = _checkDirPathArgument(dirPath);</span>
<span class="cstat-no" title="statement not covered" >    var _checkExcludeResult;</span>
<span class="cstat-no" title="statement not covered" >    var items = [];</span>
<span class="cstat-no" title="statement not covered" >    if (util.isError(_checkDirResult)) {</span>
<span class="cstat-no" title="statement not covered" >        return _checkDirResult;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (exclude) {</span>
<span class="cstat-no" title="statement not covered" >        _checkExcludeResult = _checkExcludeArgument(exclude);</span>
<span class="cstat-no" title="statement not covered" >        if (util.isError(_checkExcludeResult)) {</span>
<span class="cstat-no" title="statement not covered" >            return _checkExcludeResult;</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    fs.readdirSync(dirPath).forEach(<span class="fstat-no" title="function not covered" >function (_item) {</span></span>
<span class="cstat-no" title="statement not covered" >        var _itempath = path.normalize(dirPath + '/' + _item);</span>
<span class="cstat-no" title="statement not covered" >        if (exclude) {</span>
<span class="cstat-no" title="statement not covered" >            if (util.isRegExp(exclude)) {</span>
<span class="cstat-no" title="statement not covered" >                if (exclude.test(_itempath)) {</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
            }
            else {
<span class="cstat-no" title="statement not covered" >                if (exclude(_itempath)) {</span>
<span class="cstat-no" title="statement not covered" >                    return;</span>
                }
            }
        }
<span class="cstat-no" title="statement not covered" >        if (fs.statSync(_itempath).isDirectory()) {</span>
<span class="cstat-no" title="statement not covered" >            if (!getFiles) {</span>
<span class="cstat-no" title="statement not covered" >                items.push(_itempath);</span>
            }
<span class="cstat-no" title="statement not covered" >            items = items.concat(_getAll(_itempath, exclude, getFiles));</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            if (getFiles === true) {</span>
<span class="cstat-no" title="statement not covered" >                items.push(_itempath);</span>
            }
        }
    });
<span class="cstat-no" title="statement not covered" >    return items;</span>
}
/**
 * Check if the dirPath is provided and if it does exist on the filesystem.
 * @param {String} dirPath A path to the directory
 * @returns {String|Error} Returns the dirPath if everything is allright or an Error otherwise.
 */
<span class="fstat-no" title="function not covered" >function _checkDirPathArgument(dirPath) {</span>
<span class="cstat-no" title="statement not covered" >    if (!dirPath || dirPath === '') {</span>
<span class="cstat-no" title="statement not covered" >        return new Error('Dir path is missing!');</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!fs.existsSync(dirPath)) {</span>
<span class="cstat-no" title="statement not covered" >        return new Error('Dir path does not exist: ' + dirPath);</span>
    }
<span class="cstat-no" title="statement not covered" >    return dirPath;</span>
}
/**
 * Check if the exclude argument is a RegExp or a Function.
 * @param {RegExp|Function} exclude A RegExp or a Function which returns true/false.
 * @returns {String|Error} Returns the exclude argument if everything is allright or an Error otherwise.
 */
<span class="fstat-no" title="function not covered" >function _checkExcludeArgument(exclude) {</span>
<span class="cstat-no" title="statement not covered" >    if (!util.isRegExp(exclude) &amp;&amp; typeof (exclude) !== 'function') {</span>
<span class="cstat-no" title="statement not covered" >        return new Error('Argument exclude should be a RegExp or a Function');</span>
    }
<span class="cstat-no" title="statement not covered" >    return exclude;</span>
}
<span class="fstat-no" title="function not covered" >function firstElementWithValue(elements, defaultResult) {</span>
<span class="cstat-no" title="statement not covered" >    if (defaultResult === void 0) { <span class="cstat-no" title="statement not covered" >defaultResult = null; </span>}</span>
<span class="cstat-no" title="statement not covered" >    var result = defaultResult;</span>
<span class="cstat-no" title="statement not covered" >    _.each(elements, <span class="fstat-no" title="function not covered" >function (item) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (hasValue(item)) {</span>
<span class="cstat-no" title="statement not covered" >            result = item;</span>
<span class="cstat-no" title="statement not covered" >            return false; </span>// break out of lodash loop
        }
<span class="cstat-no" title="statement not covered" >        return undefined;</span>
    });
<span class="cstat-no" title="statement not covered" >    return result;</span>
}
exports.firstElementWithValue = firstElementWithValue;
<span class="fstat-no" title="function not covered" >function hasValue(thing) {</span>
<span class="cstat-no" title="statement not covered" >    return !_.isNull(thing) &amp;&amp; !_.isUndefined(thing);</span>
}
exports.hasValue = hasValue;
<span class="fstat-no" title="function not covered" >function getOrGetFirst(getFrom) {</span>
<span class="cstat-no" title="statement not covered" >    if (_.isArray(getFrom)) {</span>
<span class="cstat-no" title="statement not covered" >        if (getFrom.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >            return getFrom[0];</span>
        }
<span class="cstat-no" title="statement not covered" >        return '';</span>
    }
<span class="cstat-no" title="statement not covered" >    return getFrom;</span>
}
exports.getOrGetFirst = getOrGetFirst;
<span class="fstat-no" title="function not covered" >function enclosePathInQuotesIfRequired(path) {</span>
<span class="cstat-no" title="statement not covered" >    if (!path || !path.indexOf) {</span>
<span class="cstat-no" title="statement not covered" >        return path;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (path.indexOf(' ') === -1) {</span>
<span class="cstat-no" title="statement not covered" >        return path;</span>
    }
    else {
<span class="cstat-no" title="statement not covered" >        var newPath = path.trim();</span>
<span class="cstat-no" title="statement not covered" >        if (newPath.indexOf('"') === 0 &amp;&amp; newPath.lastIndexOf('"') === newPath.length - 1) {</span>
<span class="cstat-no" title="statement not covered" >            return newPath;</span>
        }
        else {
<span class="cstat-no" title="statement not covered" >            return '"' + newPath + '"';</span>
        }
    }
}
exports.enclosePathInQuotesIfRequired = enclosePathInQuotesIfRequired;
/**
 * Time a function and print the result.
 *
 * @param makeIt the code to time
 * @returns the result of the block of code
 */
<span class="fstat-no" title="function not covered" >function timeIt(makeIt) {</span>
<span class="cstat-no" title="statement not covered" >    var starttime = new Date().getTime();</span>
<span class="cstat-no" title="statement not covered" >    var it = makeIt();</span>
<span class="cstat-no" title="statement not covered" >    var endtime = new Date().getTime();</span>
<span class="cstat-no" title="statement not covered" >    return {</span>
        it: it,
        time: endtime - starttime
    };
}
exports.timeIt = timeIt;
/**
 * Run a map operation async in series (simplified)
 */
<span class="fstat-no" title="function not covered" >function asyncSeries(items, callPerItem) {</span>
<span class="cstat-no" title="statement not covered" >    items = items.slice(0);</span>
<span class="cstat-no" title="statement not covered" >    var memo = [];</span>
    // Run one at a time
<span class="cstat-no" title="statement not covered" >    return new es6_promise_1.Promise(<span class="fstat-no" title="function not covered" >function (resolve, reject) {</span></span>
<span class="cstat-no" title="statement not covered" >        var next = <span class="fstat-no" title="function not covered" >function () {</span></span>
<span class="cstat-no" title="statement not covered" >            if (items.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >                resolve(memo);</span>
<span class="cstat-no" title="statement not covered" >                return;</span>
            }
<span class="cstat-no" title="statement not covered" >            es6_promise_1.Promise</span>
                .cast(callPerItem(items.shift()))
                .then(<span class="fstat-no" title="function not covered" >function (result) {</span>
<span class="cstat-no" title="statement not covered" >                memo.push(result);</span>
<span class="cstat-no" title="statement not covered" >                next();</span>
            }, reject);
        };
<span class="cstat-no" title="statement not covered" >        next();</span>
    });
}
exports.asyncSeries = asyncSeries;
<span class="fstat-no" title="function not covered" >function copyFile(srcFile, destFile, callback, encoding) {</span>
<span class="cstat-no" title="statement not covered" >    if (encoding === void 0) { <span class="cstat-no" title="statement not covered" >encoding = 'utf8'; </span>}</span>
<span class="cstat-no" title="statement not covered" >    fs.readFile(srcFile, encoding, <span class="fstat-no" title="function not covered" >function (err, data) {</span></span>
<span class="cstat-no" title="statement not covered" >        fs.writeFile(destFile, data, encoding, <span class="fstat-no" title="function not covered" >function (err) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (err) {</span>
<span class="cstat-no" title="statement not covered" >                return callback(err);</span>
            }
<span class="cstat-no" title="statement not covered" >            return callback();</span>
        });
    });
}
exports.copyFile = copyFile;
<span class="fstat-no" title="function not covered" >function readAndParseJSONFromFileSync(fileName, encoding) {</span>
<span class="cstat-no" title="statement not covered" >    if (encoding === void 0) { <span class="cstat-no" title="statement not covered" >encoding = 'utf8'; </span>}</span>
<span class="cstat-no" title="statement not covered" >    var textContent, result;</span>
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >        textContent = fs.readFileSync(fileName, encoding);</span>
    }
    catch (ex) {
<span class="cstat-no" title="statement not covered" >        throw new Error("Error reading file " + fileName + ": " + ex);</span>
    }
<span class="cstat-no" title="statement not covered" >    try {</span>
<span class="cstat-no" title="statement not covered" >        result = JSON.parse(textContent);</span>
    }
    catch (ex) {
<span class="cstat-no" title="statement not covered" >        throw new Error("Error parsing JSON in file " + fileName + ": " + ex);</span>
    }
<span class="cstat-no" title="statement not covered" >    return result;</span>
}
exports.readAndParseJSONFromFileSync = readAndParseJSONFromFileSync;
<span class="fstat-no" title="function not covered" >function shouldCompile(options) {</span>
<span class="cstat-no" title="statement not covered" >    return !!options.compile;</span>
}
exports.shouldCompile = shouldCompile;
<span class="fstat-no" title="function not covered" >function shouldPassThrough(options) {</span>
<span class="cstat-no" title="statement not covered" >    return (options.tsconfig &amp;&amp; options.tsconfig.passThrough);</span>
}
exports.shouldPassThrough = shouldPassThrough;
//# sourceMappingURL=utils.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/visualStudioOptionsResolver.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-grunt-ts">npmtest-grunt-ts (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/visualStudioOptionsResolver.js</span></h1>
    <h2>
        
        Statements: <span class="metric">12.87% <small>(13 / 101)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">0% <small>(0 / 82)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">0% <small>(0 / 14)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">12.87% <small>(13 / 101)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-grunt-ts/node_modules/grunt-ts/tasks/modules/</a> &#187; visualStudioOptionsResolver.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
var csproj2ts = require('csproj2ts');
var path = require('path');
var utils = require('./utils');
var es6_promise_1 = require('es6-promise');
var _ = require('lodash');
var templateProcessor = null;
<span class="fstat-no" title="function not covered" >function resolveVSOptionsAsync(applyTo, taskOptions, targetOptions, theTemplateProcessor) {</span>
<span class="cstat-no" title="statement not covered" >    templateProcessor = theTemplateProcessor;</span>
<span class="cstat-no" title="statement not covered" >    return new es6_promise_1.Promise(<span class="fstat-no" title="function not covered" >function (resolve, reject) {</span></span>
        {
<span class="cstat-no" title="statement not covered" >            var vsTask = getVSSettings(taskOptions), vsTarget = getVSSettings(targetOptions);</span>
<span class="cstat-no" title="statement not covered" >            var vs = null;</span>
<span class="cstat-no" title="statement not covered" >            if (vsTask) {</span>
<span class="cstat-no" title="statement not covered" >                vs = vsTask;</span>
            }
<span class="cstat-no" title="statement not covered" >            if (vsTarget) {</span>
<span class="cstat-no" title="statement not covered" >                if (!vs) {</span>
<span class="cstat-no" title="statement not covered" >                    vs = vsTarget;</span>
                }
<span class="cstat-no" title="statement not covered" >                if (vsTarget.project) {</span>
<span class="cstat-no" title="statement not covered" >                    vs.project = vsTarget.project;</span>
                }
<span class="cstat-no" title="statement not covered" >                if (vsTarget.config) {</span>
<span class="cstat-no" title="statement not covered" >                    vs.config = vsTarget.config;</span>
                }
<span class="cstat-no" title="statement not covered" >                if (vsTarget.ignoreFiles) {</span>
<span class="cstat-no" title="statement not covered" >                    vs.ignoreFiles = vsTarget.ignoreFiles;</span>
                }
<span class="cstat-no" title="statement not covered" >                if (vsTarget.ignoreSettings) {</span>
<span class="cstat-no" title="statement not covered" >                    vs.ignoreSettings = vsTarget.ignoreSettings;</span>
                }
            }
<span class="cstat-no" title="statement not covered" >            if (vs) {</span>
<span class="cstat-no" title="statement not covered" >                applyTo.vs = vs;</span>
<span class="cstat-no" title="statement not covered" >                if (typeof applyTo.vs.project === 'string') {</span>
<span class="cstat-no" title="statement not covered" >                    applyTo.vs.project = templateProcessor(applyTo.vs.project, {});</span>
                }
<span class="cstat-no" title="statement not covered" >                if (typeof applyTo.vs.config === 'string') {</span>
<span class="cstat-no" title="statement not covered" >                    applyTo.vs.config = templateProcessor(applyTo.vs.config, {});</span>
                }
            }
        }
<span class="cstat-no" title="statement not covered" >        if (applyTo.vs) {</span>
<span class="cstat-no" title="statement not covered" >            return csproj2ts.getTypeScriptSettings({</span>
                ProjectFileName: applyTo.vs.project,
                ActiveConfiguration: applyTo.vs.config || undefined
            }).then(<span class="fstat-no" title="function not covered" >function (vsConfig) {</span>
<span class="cstat-no" title="statement not covered" >                try {</span>
<span class="cstat-no" title="statement not covered" >                    applyTo = applyVSOptions(applyTo, vsConfig);</span>
<span class="cstat-no" title="statement not covered" >                    applyTo = resolve_out_and_outDir(applyTo, taskOptions, targetOptions);</span>
<span class="cstat-no" title="statement not covered" >                    return resolve(applyTo);</span>
                }
                catch (ex) {
<span class="cstat-no" title="statement not covered" >                    return reject(ex);</span>
                }
            }).catch(<span class="fstat-no" title="function not covered" >function (error) {</span>
<span class="cstat-no" title="statement not covered" >                if (error.errno === 34) {</span>
<span class="cstat-no" title="statement not covered" >                    applyTo.errors.push('In target "' + applyTo.targetName + '" - could not find VS project at "' + error.path + '".');</span>
                }
                else {
<span class="cstat-no" title="statement not covered" >                    applyTo.errors.push('In target "' + applyTo.targetName + '".  Error #' + error.errno + '.  ' + error);</span>
                }
<span class="cstat-no" title="statement not covered" >                return reject(error);</span>
            });
        }
<span class="cstat-no" title="statement not covered" >        return resolve(applyTo);</span>
    });
}
exports.resolveVSOptionsAsync = resolveVSOptionsAsync;
<span class="fstat-no" title="function not covered" >function resolve_out_and_outDir(options, taskOptions, targetOptions) {</span>
<span class="cstat-no" title="statement not covered" >    if (options.CompilationTasks &amp;&amp; options.CompilationTasks.length &gt; 0) {</span>
<span class="cstat-no" title="statement not covered" >        options.CompilationTasks.forEach(<span class="fstat-no" title="function not covered" >function (compilationTask) {</span></span>
<span class="cstat-no" title="statement not covered" >            [taskOptions, targetOptions].forEach(<span class="fstat-no" title="function not covered" >function (optionSet) {</span></span>
<span class="cstat-no" title="statement not covered" >                if (optionSet &amp;&amp; optionSet.out) {</span>
<span class="cstat-no" title="statement not covered" >                    compilationTask.out = optionSet.out;</span>
                }
<span class="cstat-no" title="statement not covered" >                if (optionSet &amp;&amp; optionSet.outDir) {</span>
<span class="cstat-no" title="statement not covered" >                    compilationTask.outDir = optionSet.outDir;</span>
                }
            });
        });
    }
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function applyVSOptions(options, vsSettings) {</span>
<span class="cstat-no" title="statement not covered" >    var ignoreFiles = false, ignoreSettings = false;</span>
<span class="cstat-no" title="statement not covered" >    if (typeof options.vs !== 'string') {</span>
<span class="cstat-no" title="statement not covered" >        var vsOptions = options.vs;</span>
<span class="cstat-no" title="statement not covered" >        ignoreFiles = !!vsOptions.ignoreFiles;</span>
<span class="cstat-no" title="statement not covered" >        ignoreSettings = !!vsOptions.ignoreSettings;</span>
    }
<span class="cstat-no" title="statement not covered" >    if (!ignoreFiles) {</span>
<span class="cstat-no" title="statement not covered" >        if (options.CompilationTasks.length === 0) {</span>
<span class="cstat-no" title="statement not covered" >            options.CompilationTasks.push({ src: [] });</span>
        }
<span class="cstat-no" title="statement not covered" >        var src_1 = options.CompilationTasks[0].src;</span>
<span class="cstat-no" title="statement not covered" >        var absolutePathToVSProjectFolder_1 = path.resolve(vsSettings.VSProjectDetails.ProjectFileName, '..');</span>
<span class="cstat-no" title="statement not covered" >        var gruntfileFolder_1 = path.resolve('.');</span>
<span class="cstat-no" title="statement not covered" >        _.map(_.uniq(vsSettings.files), <span class="fstat-no" title="function not covered" >function (file) {</span></span>
<span class="cstat-no" title="statement not covered" >            var absolutePathToFile = path.normalize(path.join(absolutePathToVSProjectFolder_1, file));</span>
<span class="cstat-no" title="statement not covered" >            var relativePathToFileFromGruntfile = path.relative(gruntfileFolder_1, absolutePathToFile).replace(new RegExp('\\' + path.sep, 'g'), '/');</span>
<span class="cstat-no" title="statement not covered" >            if (src_1.indexOf(absolutePathToFile) === -1 &amp;&amp;</span>
                src_1.indexOf(relativePathToFileFromGruntfile) === -1) {
<span class="cstat-no" title="statement not covered" >                src_1.push(relativePathToFileFromGruntfile);</span>
            }
        });
    }
<span class="cstat-no" title="statement not covered" >    if (!ignoreSettings) {</span>
<span class="cstat-no" title="statement not covered" >        options = applyVSSettings(options, vsSettings);</span>
    }
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function relativePathToVSProjectFolderFromGruntfile(settings) {</span>
<span class="cstat-no" title="statement not covered" >    return path.resolve(settings.VSProjectDetails.ProjectFileName, '..');</span>
}
<span class="fstat-no" title="function not covered" >function applyVSSettings(options, vsSettings) {</span>
    // Visit this page for MSBuild documentation:
    // https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Compiler%20Options%20in%20MSBuild.md
<span class="cstat-no" title="statement not covered" >    var simpleVSSettingsToGruntTSMappings = {</span>
        'AllowSyntheticDefaultImports': 'allowSyntheticDefaultImports',
        'AllowUnusedLabels': 'allowUnusedLabels',
        'AllowUnreachableCode': 'allowUnreachableCode',
        'EmitBOM': 'emitBom',
        'EmitDecoratorMetadata': 'emitDecoratorMetadata',
        'ExperimentalAsyncFunctions': 'experimentalAsyncFunctions',
        'ExperimentalDecorators': 'experimentalDecorators',
        'ForceConsistentCasingInFileNames': 'forceConsistentCasingInFileNames',
        'GeneratesDeclarations': 'declaration',
        'InlineSourceMap': 'inlineSourceMap',
        'InlineSources': 'inlineSources',
        'IsolatedModules': 'isolatedModules',
        'JSXEmit': 'jsx',
        'MapRoot': 'mapRoot',
        'ModuleKind': 'module',
        'ModuleResolution': 'moduleResolution',
        'NewLine': 'newLine',
        'NoEmitOnError': 'noEmitOnError',
        'NoEmitHelpers': 'NoEmitHelpers',
        'NoFallthroughCasesInSwitch': 'noFallthroughCasesInSwitch',
        'NoImplicitAny': 'noImplicitAny',
        'NoImplicitReturns': 'noImplicitReturns',
        'noImplicitUseStrict': 'NoImplicitUseStrict',
        'NoLib': 'noLib',
        'NoResolve': 'noResolve',
        // OutFile (both out and outFile) and OutDir are resolved elsewhere
        'PreserveConstEnums': 'preserveConstEnums',
        'ReactNamespace': 'reactNamespace',
        'RemoveComments': 'removeComments',
        'RootDir': 'rootDir',
        'SkipDefaultLibCheck': 'skipDefaultLibCheck',
        'SourceMap': 'sourceMap',
        'SourceRoot': 'sourceRoot',
        'SuppressImplicitAnyIndexErrors': 'suppressImplicitAnyIndexErrors',
        'SuppressExcessPropertyErrors': 'suppressExcessPropertyErrors',
        'Target': 'target'
    };
<span class="cstat-no" title="statement not covered" >    for (var item in simpleVSSettingsToGruntTSMappings) {</span>
<span class="cstat-no" title="statement not covered" >        if (!(simpleVSSettingsToGruntTSMappings[item] in options) &amp;&amp; utils.hasValue(vsSettings[item])) {</span>
<span class="cstat-no" title="statement not covered" >            options[simpleVSSettingsToGruntTSMappings[item]] = vsSettings[item];</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    if (!('module' in options) &amp;&amp; utils.hasValue(vsSettings.ModuleKind)) {</span>
<span class="cstat-no" title="statement not covered" >        options.module = vsSettings.ModuleKind;</span>
<span class="cstat-no" title="statement not covered" >        if (options.module === 'none') {</span>
<span class="cstat-no" title="statement not covered" >            options.module = undefined;</span>
        }
    }
<span class="cstat-no" title="statement not covered" >    var gruntfileToProject = relativePathToVSProjectFolderFromGruntfile(vsSettings);</span>
<span class="cstat-no" title="statement not covered" >    if (utils.hasValue(vsSettings.OutDir) &amp;&amp; vsSettings.OutDir !== '') {</span>
<span class="cstat-no" title="statement not covered" >        options.CompilationTasks.forEach(<span class="fstat-no" title="function not covered" >function (item) {</span></span>
<span class="cstat-no" title="statement not covered" >            var absolutePath = path.resolve(gruntfileToProject, vsSettings.OutDir);</span>
<span class="cstat-no" title="statement not covered" >            item.outDir = utils.enclosePathInQuotesIfRequired(path.relative(path.resolve('.'), absolutePath).replace(new RegExp('\\' + path.sep, 'g'), '/'));</span>
        });
    }
<span class="cstat-no" title="statement not covered" >    if (utils.hasValue(vsSettings.OutFile) &amp;&amp; vsSettings.OutFile !== '') {</span>
<span class="cstat-no" title="statement not covered" >        options.CompilationTasks.forEach(<span class="fstat-no" title="function not covered" >function (item) {</span></span>
<span class="cstat-no" title="statement not covered" >            var absolutePath = path.resolve(gruntfileToProject, vsSettings.OutFile);</span>
<span class="cstat-no" title="statement not covered" >            item.out = utils.enclosePathInQuotesIfRequired(path.relative(path.resolve('.'), absolutePath).replace(new RegExp('\\' + path.sep, 'g'), '/'));</span>
        });
    }
<span class="cstat-no" title="statement not covered" >    return options;</span>
}
<span class="fstat-no" title="function not covered" >function getVSSettings(rawTargetOptions) {</span>
<span class="cstat-no" title="statement not covered" >    var vs = null;</span>
<span class="cstat-no" title="statement not covered" >    if (rawTargetOptions &amp;&amp; rawTargetOptions.vs) {</span>
<span class="cstat-no" title="statement not covered" >        var targetvs = rawTargetOptions.vs;</span>
<span class="cstat-no" title="statement not covered" >        if (typeof targetvs === 'string') {</span>
<span class="cstat-no" title="statement not covered" >            vs = {</span>
                project: targetvs,
                config: '',
                ignoreFiles: false,
                ignoreSettings: false
            };
        }
        else {
<span class="cstat-no" title="statement not covered" >            vs = {</span>
                project: targetvs.project || '',
                config: targetvs.config || '',
                ignoreFiles: targetvs.ignoreFiles || false,
                ignoreSettings: targetvs.ignoreSettings || false
            };
        }
    }
<span class="cstat-no" title="statement not covered" >    return vs;</span>
}
//# sourceMappingURL=visualStudioOptionsResolver.js.map
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Wed Apr 19 2017 02:37:46 GMT+0000 (UTC)</div>
</div>
</body>
</html>


</div>
</div>
